function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||2<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function(g){"use strict";var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.6",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",a="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),e.isInStateTrue()?void 0:(clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide())},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(r);a&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(a){var h=r,d=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+u>d.bottom?"top":"top"==r&&l.top-u<d.top?"bottom":"right"==r&&l.right+c>d.width?"left":"left"==r&&l.left-c<d.left?"right":r,i.removeClass(h).addClass(r)}var f=this.getCalculatedOffset(r,l,c,u);this.applyPlacement(f,r);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top+=r,t.left+=s,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var a=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,a,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),h=u?2*c.left-i+a:2*c.top-o+l,d=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][d],u)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),o=g.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this)},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=n?{top:0,left:0}:t.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,r,s,o)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=e.left-r,u=e.left+r+n;c<s.left?o.left=s.left-c:u>s.right&&(o.left=s.left+s.width-u)}return o},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var t=g.fn.tooltip;g.fn.tooltip=function(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==_typeof(i)&&i;(e||!/destroy|hide/.test(i))&&(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(h){"use strict";function s(o){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),n=h.extend({},d.DEFAULTS,t.data(),"object"==_typeof(o)&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new d(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var d=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};d.VERSION="3.3.7",d.TRANSITION_DURATION=600,d.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},d.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},d.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},d.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},d.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},d.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||t<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},d.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},d.prototype.next=function(){return this.sliding?void 0:this.slide("next")},d.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},d.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",s=this;if(i.hasClass("active"))return this.sliding=!1;var a=i[0],l=h.Event("slide.bs.carousel",{relatedTarget:a,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=h(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=h.Event("slid.bs.carousel",{relatedTarget:a,direction:r});return h.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),s.sliding=!1,setTimeout(function(){s.$element.trigger(u)},0)}).emulateTransitionEnd(d.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=s,h.fn.carousel.Constructor=d,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};var e=function(t){var e,n=h(this),i=h(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=h.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),s.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);s.call(t,t.data())})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(f){f.ui=f.ui||{},f.ui.version="1.12.1";var o,n=0,a=Array.prototype.slice;f.cleanData=(o=f.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=f._data(n,"events"))&&e.remove&&f(n).triggerHandler("remove")}catch(t){}o(t)}),f.widget=function(t,n,e){var i,o,r,s={},a=t.split(".")[0],l=a+"-"+(t=t.split(".")[1]);return e||(e=n,n=f.Widget),f.isArray(e)&&(e=f.extend.apply(null,[{}].concat(e))),f.expr[":"][l.toLowerCase()]=function(t){return!!f.data(t,l)},f[a]=f[a]||{},i=f[a][t],o=f[a][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},f.extend(o,i,{version:e.version,_proto:f.extend({},e),_childConstructors:[]}),(r=new n).options=f.widget.extend({},r.options),f.each(e,function(e,r){return f.isFunction(r)?void(s[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=o,t=r.apply(this,arguments),this._super=e,this._superApply=n,t}}()):void(s[e]=r)}),o.prototype=f.widget.extend(r,{widgetEventPrefix:i&&r.widgetEventPrefix||t},s,{constructor:o,namespace:a,widgetName:t,widgetFullName:l}),i?(f.each(i._childConstructors,function(t,e){var n=e.prototype;f.widget(n.namespace+"."+n.widgetName,o,e._proto)}),delete i._childConstructors):n._childConstructors.push(o),f.widget.bridge(t,o),o},f.widget.extend=function(t){for(var e,n,i=a.call(arguments,1),o=0,r=i.length;o<r;o++)for(e in i[o])n=i[o][e],i[o].hasOwnProperty(e)&&void 0!==n&&(t[e]=f.isPlainObject(n)?f.isPlainObject(t[e])?f.widget.extend({},t[e],n):f.widget.extend({},n):n);return t},f.widget.bridge=function(r,e){var s=e.prototype.widgetFullName||r;f.fn[r]=function(n){var t="string"==typeof n,i=a.call(arguments,1),o=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=f.data(this,s);return"instance"===n?(o=e,!1):e?f.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:f.error("no such method '"+n+"' for "+r+" widget instance"):f.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):o=void 0:(i.length&&(n=f.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=f.data(this,s);t?(t.option(n||{}),t._init&&t._init()):f.data(this,s,new e(n,this))})),o}},f.Widget=function(){},f.Widget._childConstructors=[],f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=f(e||this.defaultElement||this)[0],this.element=f(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=f(),this.hoverable=f(),this.focusable=f(),this.classesElementLookup={},e!==this&&(f.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=f(e.style?e.ownerDocument:e.document||e),this.window=f(this.document[0].defaultView||this.document[0].parentWindow)),this.options=f.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:f.noop,_create:f.noop,_init:f.noop,destroy:function(){var n=this;this._destroy(),f.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:f.noop,widget:function(){return this.element},option:function(t,e){var n,i,o,r=t;if(0===arguments.length)return f.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(i=r[t]=f.widget.extend({},this.options[t]),o=0;n.length-1>o;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=f(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){function t(t,e){var n,i;for(i=0;t.length>i;i++)n=s.classesElementLookup[t[i]]||f(),n=o.add?f(f.unique(n.get().concat(o.element.get()))):f(n.not(o.element).get()),s.classesElementLookup[t[i]]=n,r.push(t[i]),e&&o.classes[t[i]]&&r.push(o.classes[t[i]])}var r=[],s=this;return o=f.extend({element:this.element,classes:this.options.classes||{}},o),this._on(o.element,{remove:"_untrackClassesElement"}),o.keys&&t(o.keys.match(/\S+/g)||[],!0),o.extra&&t(o.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(n){var i=this;f.each(i.classesElementLookup,function(t,e){-1!==f.inArray(n.target,e)&&(i.classesElementLookup[t]=f(e.not(n.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t,r={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(s,a,t){var l,c=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=l=f(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),f.each(t,function(t,e){function n(){return s||!0!==c.options.disabled&&!f(this).hasClass("ui-state-disabled")?("string"==typeof e?c[e]:e).apply(c,arguments):void 0}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||f.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+c.eventNamespace,r=i[2];r?l.on(o,r,n):a.on(o,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=f(this.bindings.not(t).get()),this.focusable=f(this.focusable.not(t).get()),this.hoverable=f(this.hoverable.not(t).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(f(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(f(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(f(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(f(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,o,r=this.options[t];if(n=n||{},(e=f.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(i in o)i in e||(e[i]=o[i]);return this.element.trigger(e,n),!(f.isFunction(r)&&!1===r.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},f.each({show:"fadeIn",hide:"fadeOut"},function(r,s){f.Widget.prototype["_"+r]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,o=t?!0===t||"number"==typeof t?s:t.effect||s:r;"number"==typeof(t=t||{})&&(t={duration:t}),i=!f.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&f.effects&&f.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){f(this)[r](),n&&n.call(e[0]),t()})}}),f.widget,f.extend(f.expr[":"],{data:f.expr.createPseudo?f.expr.createPseudo(function(e){return function(t){return!!f.data(t,e)}}):function(t,e,n){return!!f.data(t,n[3])}}),f.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=f(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:f(this[0].ownerDocument||document)},f.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var r=!1;f(document).on("mouseup",function(){r=!1}),f.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){return!0===f.data(t.target,e.widgetName+".preventClickEvent")?(f.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&f(t.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===f.data(t.target,this.widgetName+".preventClickEvent")&&f.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0)),!0}},_mouseMove:function(t){if(this._mouseMoved){if(f.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&f.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),f.widget("ui.sortable",f.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),f.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),f(t.target).parents().each(function(){return f.data(this,o.widgetName+"-item")===o?(n=f(this),!1):void 0}),f.data(t.target,o.widgetName+"-item")===o&&(n=f(t.target)),!!n&&(!(this.options.handle&&!e&&(f(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,o,r=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=f("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!r.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,o,r=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==s&&f.ui.ddmanager&&!r.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==i&&!f.contains(this.placeholder[0],i)&&("semi-dynamic"!==this.options.type||!f.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),f.ui.ddmanager&&f.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,f(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new f.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},f(t).each(function(){var t=(f(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(f(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||a<i+c&&i+c<l,d="y"===this.options.axis||r<e+u&&e+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>r&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!!(i&&o)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){s.push(this)}var n,i,o,r,s=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;0<=n;n--)for(i=(o=f(l[n],this.document[0])).length-1;0<=i;i--)(r=f.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([f.isFunction(r.options.items)?r.options.items.call(r.element):f(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(a.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;0<=n;n--)a[n][0].each(e);return f(s)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=f.grep(this.items,function(t){for(var e=0;n.length>e;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,o,r,s,a,l,c=this.items,u=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):f(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(e=h.length-1;0<=e;e--)for(n=(i=f(h[e],this.document[0])).length-1;0<=n;n--)(o=f.data(i[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([f.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):f(o.options.items,o.element),o]),this.containers.push(o));for(e=u.length-1;0<=e;e--)for(r=u[e][1],n=0,l=(s=u[e][0]).length;n<l;n++)(a=f(s[n])).data(this.widgetName+"-item",r),c.push({item:a,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?f(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),o=i.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,o=(n=n||this).options;o.placeholder&&o.placeholder.constructor!==String||(i=o.placeholder,o.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=f("<"+t+">",n.document[0]);return n._addClass(e,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),f("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){(!i||o.forcePlaceholderSize)&&(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=f(o.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),o.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){f("<td>&#160;</td>",n.document[0]).attr("colspan",f(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,n,i,o,r,s,a,l,c,u,h=null,d=null;for(e=this.containers.length-1;0<=e;e--)if(!f.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(h&&f.contains(this.containers[e].element[0],h.element[0]))continue;h=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(i=1e4,o=null,r=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",s=c?"width":"height",u=c?"pageX":"pageY",n=this.items.length-1;0<=n;n--)f.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(a=this.items[n].item.offset()[r],l=!1,t[u]-a>this.items[n][s]/2&&(l=!0),i>Math.abs(t[u]-a)&&(i=Math.abs(t[u]-a),o=this.items[n],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=f.isFunction(e.helper)?f(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||f("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||e.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||e.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),f.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&f.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=f(i.containment)[0],e=f(i.containment).offset(),n="hidden"!==f(t).css("overflow"),this.containment=[e.left+(parseInt(f(t).css("borderLeftWidth"),10)||0)+(parseInt(f(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(f(t).css("borderTopWidth"),10)||0)+(parseInt(f(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(f(t).css("borderLeftWidth"),10)||0)-(parseInt(f(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(f(t).css("borderTopWidth"),10)||0)-(parseInt(f(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,o=t.pageX,r=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;o.length>i;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===f.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||f([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],t):t(jQuery)}(function(a){var l,c={},t=function(t){var e,n=document.createElement("div");for(e=0;e<t.length;e++)if(null!=n.style[t[e]])return t[e];return""};c.transform=t(["transform","WebkitTransform","MozTransform","OTransform","msTransform"]),c.transition=t(["transition","WebkitTransition","MozTransition","OTransition","msTransition"]),l=c.transform&&c.transition,a.widget("ui.sortable",a.ui.sortable,{options:{animation:0},_rearrange:function(t,e){var n,i,o={},r={},s=a.trim(this.options.axis);if(!parseInt(this.currentContainer.options.animation)||!s)return this._superApply(arguments);n=a(e.item[0]),i=("up"==this.direction?"":"-")+n["x"==s?"width":"height"]()+"px",this._superApply(arguments),l?o[c.transform]=("x"==s?"translateX":"translateY")+"("+i+")":(o={position:"relative"})["x"==s?"left":"top"]=i,n.css(o),l?(o[c.transition]=c.transform+" "+this.options.animation+"ms",o[c.transform]="",r[c.transform]="",r[c.transition]="",setTimeout(function(){n.css(o)},0)):(r.top="",r.position="",n.animate({top:"",position:""},this.options.animation)),setTimeout(function(){n.css(r)},this.options.animation)}})}),function(t,e){"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&"object"===_typeof(define.amd)?define(e):"function"==typeof define&&"object"===_typeof(define.petal)?define(t,[],e):this[t]=e()}("validator",function(u){"use strict";var h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,g=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,a=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,l=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,s=/^(?:[0-9]{9}X|[0-9]{10})$/,c=/^(?:[0-9]{13})$/,e=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/,m=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,v=/^[0-9A-F]{1,4}$/i,i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},n=/^[A-Z]+$/i,o=/^[0-9A-Z]+$/i,r=/^[-+]?[0-9]+$/,y=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,b=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,_=/^[0-9A-F]+$/i,w=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,x=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,C=/^[\x00-\x7F]+$/,k=/[^\x00-\x7F]/,$=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,S=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,O=/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,M={"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"pt-PT":/^(\+351)?9[1236]\d{7}$/,"el-GR":/^(\+30)?((2\d{9})|(69\d{8}))$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZM":/^(\+26)?09[567]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"vi-VN":/^(0|\+?84)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/},A=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;(u={version:"4.4.0"}).extend=function(t,e){u[t]=function(){var t=Array.prototype.slice.call(arguments);return t[0]=u.toString(t[0]),e.apply(u,t)}},u.init=function(){for(var t in u)"function"==typeof u[t]&&"toString"!==t&&"toDate"!==t&&"extend"!==t&&"init"!==t&&u.extend(t,u[t])},u.toString=function(t){return"object"===_typeof(t)&&null!==t&&t.toString?t=t.toString():(null==t||isNaN(t)&&!t.length)&&(t=""),""+t},u.toDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)?t:(t=Date.parse(t),isNaN(t)?null:new Date(t))},u.toFloat=function(t){return parseFloat(t)},u.toInt=function(t,e){return parseInt(t,e||10)},u.toBoolean=function(t,e){return e?"1"===t||"true"===t:"0"!==t&&"false"!==t&&""!==t},u.equals=function(t,e){return t===u.toString(e)},u.contains=function(t,e){return 0<=t.indexOf(u.toString(e))};var T={allow_display_name:!(u.matches=function(t,e,n){return"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,n)),e.test(t)}),allow_utf8_local_part:!0,require_tld:!0},P={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!(u.isEmail=function(t,e){if((e=N(e,T)).allow_display_name){var n=t.match(g);n&&(t=n[1])}var i=t.split("@"),o=i.pop(),r=i.join("@"),s=o.toLowerCase();if("gmail.com"!==s&&"googlemail.com"!==s||(r=r.replace(/\./g,"").toLowerCase()),!u.isByteLength(r,0,64)||!u.isByteLength(o,0,256))return!1;if(!u.isFQDN(o,{require_tld:e.require_tld}))return!1;if('"'===r[0])return r=r.slice(1,r.length-1),e.allow_utf8_local_part?p.test(r):d.test(r);for(var a=e.allow_utf8_local_part?f:h,l=r.split("."),c=0;c<l.length;c++)if(!a.test(l[c]))return!1;return!0}),require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1};u.isURL=function(t,e){if(!t||2083<=t.length||/\s/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;var n,i,o,r,s,a;if(e=N(e,P),1<(a=t.split("://")).length){if(n=a.shift(),e.require_valid_protocol&&-1===e.protocols.indexOf(n))return!1}else{if(e.require_protocol)return!1;e.allow_protocol_relative_urls&&"//"===t.substr(0,2)&&(a[0]=t.substr(2))}return!(1<(a=(t=(a=(t=(a=(t=(a=(t=a.join("://")).split("#")).shift()).split("?")).shift()).split("/")).shift()).split("@")).length&&0<=(i=a.shift()).indexOf(":")&&2<i.split(":").length)&&(o=(a=a.join("@").split(":")).shift(),!(a.length&&(s=a.join(":"),r=parseInt(s,10),!/^[0-9]+$/.test(s)||r<=0||65535<r))&&(!(!u.isIP(o)&&!u.isFQDN(o,e)&&"localhost"!==o)&&((!e.host_whitelist||-1!==e.host_whitelist.indexOf(o))&&(!e.host_blacklist||-1===e.host_blacklist.indexOf(o)))))},u.isMACAddress=function(t){return e.test(t)};var j={require_tld:!0,allow_underscores:!(u.isIP=function(t,e){if(!(e=u.toString(e)))return u.isIP(t,4)||u.isIP(t,6);if("4"===e)return!!m.test(t)&&t.split(".").sort(function(t,e){return t-e})[3]<=255;if("6"!==e)return!1;var n=t.split(":"),i=!1,o=u.isIP(n[n.length-1],4),r=o?7:8;if(n.length>r)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(n.shift(),n.shift(),i=!0):"::"===t.substr(t.length-2)&&(n.pop(),n.pop(),i=!0);for(var s=0;s<n.length;++s)if(""===n[s]&&0<s&&s<n.length-1){if(i)return!1;i=!0}else if(o&&s==n.length-1);else if(!v.test(n[s]))return!1;return i?1<=n.length:n.length===r}),allow_trailing_dot:!1};u.isFQDN=function(t,e){(e=N(e,j)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var n=t.split(".");if(e.require_tld){var i=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(i))return!1}for(var o,r=0;r<n.length;r++){if(o=n[r],e.allow_underscores){if(0<=o.indexOf("__"))return!1;o=o.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(o))return!1;if(/[\uff01-\uff5e]/.test(o))return!1;if("-"===o[0]||"-"===o[o.length-1]||0<=o.indexOf("---"))return!1}return!0},u.isBoolean=function(t){return 0<=["true","false","1","0"].indexOf(t)},u.isAlpha=function(t){return n.test(t)},u.isAlphanumeric=function(t){return o.test(t)},u.isNumeric=function(t){return r.test(t)},u.isDecimal=function(t){return""!==t&&w.test(t)},u.isHexadecimal=function(t){return _.test(t)},u.isHexColor=function(t){return x.test(t)},u.isLowercase=function(t){return t===t.toLowerCase()},u.isUppercase=function(t){return t===t.toUpperCase()},u.isInt=function(t,e){return e=e||{},y.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},u.isFloat=function(t,e){return e=e||{},""!==t&&"."!==t&&(b.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max))},u.isDivisibleBy=function(t,e){return u.toFloat(t)%u.toInt(e)==0},u.isNull=function(t){return 0===t.length},u.isLength=function(t,e,n){var i=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],o=t.length-i.length;return e<=o&&(void 0===n||o<=n)},u.isByteLength=function(t,e,n){var i=encodeURI(t).split(/%..|./).length-1;return e<=i&&(void 0===n||i<=n)},u.isUUID=function(t,e){var n=i[e||"all"];return n&&n.test(t)},u.isDate=function(t){var e=new Date(Date.parse(t));if(isNaN(e))return!1;var n=function(t){var e,n,i,o,r=t.match(A);if(r){if(!(e=r[21])||"z"===e||"Z"===e)return 0;n=r[22],o=-1!==e.indexOf(":")?(i=parseInt(r[23]),parseInt(r[24])):(i=0,parseInt(r[23]))}else{if(!(e=(t=t.toLowerCase()).match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/)))return-1!==t.indexOf("gmt")?0:null;n=e[1];var s=e[2];3===s.length&&(s="0"+s),o=s.length<=2?(i=0,parseInt(s)):(i=parseInt(s.slice(0,2)),parseInt(s.slice(2,4)))}return(60*i+o)*("-"===n?1:-1)}(t);if(null!==n){var i=e.getTimezoneOffset()-n;e=new Date(e.getTime()+6e4*i)}var o,r,s,a=String(e.getDate());return!(r=t.match(/(^|[^:\d])[23]\d([^:\d]|$)/g))||(o=r.map(function(t){return t.match(/\d+/g)[0]}).join("/"),s=String(e.getFullYear()).slice(-2),o===a||o===s||(o===a+"/"+s||o===s+"/"+a))},u.isAfter=function(t,e){var n=u.toDate(e||new Date),i=u.toDate(t);return!!(i&&n&&n<i)},u.isBefore=function(t,e){var n=u.toDate(e||new Date),i=u.toDate(t);return!!(i&&n&&i<n)},u.isIn=function(t,e){var n;if("[object Array]"!==Object.prototype.toString.call(e))return"object"===_typeof(e)?e.hasOwnProperty(t):!(!e||"function"!=typeof e.indexOf)&&0<=e.indexOf(t);var i=[];for(n in e)i[n]=u.toString(e[n]);return 0<=i.indexOf(t)},u.isWhitelisted=function(t,e){for(var n=t.length-1;0<=n;n--)if(-1===e.indexOf(t[n]))return!1;return!0},u.isCreditCard=function(t){var e=t.replace(/[^0-9]+/g,"");if(!a.test(e))return!1;for(var n,i,o,r=0,s=e.length-1;0<=s;s--)n=e.substring(s,s+1),i=parseInt(n,10),r+=o&&10<=(i*=2)?i%10+1:i,o=!o;return!(r%10!=0||!e)},u.isISIN=function(t){if(!l.test(t))return!1;for(var e,n,i=t.replace(/[A-Z]/g,function(t){return parseInt(t,36)}),o=0,r=!0,s=i.length-2;0<=s;s--)e=i.substring(s,s+1),n=parseInt(e,10),o+=r&&10<=(n*=2)?n+1:n,r=!r;return parseInt(t.substr(t.length-1),10)===(1e4-o)%10},u.isISBN=function(t,e){if(!(e=u.toString(e)))return u.isISBN(t,10)||u.isISBN(t,13);var n,i=t.replace(/[\s-]+/g,""),o=0;if("10"===e){if(!s.test(i))return!1;for(n=0;n<9;n++)o+=(n+1)*i.charAt(n);if("X"===i.charAt(9)?o+=100:o+=10*i.charAt(9),o%11==0)return!!i}else if("13"===e){if(!c.test(i))return!1;var r=[1,3];for(n=0;n<12;n++)o+=r[n%2]*i.charAt(n);if(i.charAt(12)-(10-o%10)%10==0)return!!i}return!1};var I={symbol:"$",require_symbol:!(u.isMobilePhone=function(t,e){return e in M&&M[e].test(t)}),allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};u.isCurrency=function(t,e){return function(t){var e="(\\"+t.symbol.replace(/\./g,"\\.")+")"+(t.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\"+t.thousands_separator+"\\d{3})*",i="("+["0","[1-9]\\d*",n].join("|")+")?",o="(\\"+t.decimal_separator+"\\d{2})?",r=i+o;t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?r+="-?":t.negative_sign_before_digits&&(r="-?"+r));t.allow_negative_sign_placeholder?r="( (?!\\-))?"+r:t.allow_space_after_symbol?r=" ?"+r:t.allow_space_after_digits&&(r+="( (?!$))?");t.symbol_after_digits?r+=e:r=e+r;t.allow_negatives&&(t.parens_for_negatives?r="(\\("+r+"\\)|"+r+")":t.negative_sign_before_digits||t.negative_sign_after_digits||(r="-?"+r));return new RegExp("^(?!-? )(?=.*\\d)"+r+"$")}(e=N(e,I)).test(t)},u.isJSON=function(t){try{var e=JSON.parse(t);return!!e&&"object"===_typeof(e)}catch(t){}return!1},u.isMultibyte=function(t){return k.test(t)},u.isAscii=function(t){return C.test(t)},u.isFullWidth=function(t){return $.test(t)},u.isHalfWidth=function(t){return S.test(t)},u.isVariableWidth=function(t){return $.test(t)&&S.test(t)},u.isSurrogatePair=function(t){return E.test(t)},u.isBase64=function(t){return O.test(t)},u.isMongoId=function(t){return u.isHexadecimal(t)&&24===t.length},u.isISO8601=function(t){return A.test(t)},u.ltrim=function(t,e){var n=e?new RegExp("^["+e+"]+","g"):/^\s+/g;return t.replace(n,"")},u.rtrim=function(t,e){var n=e?new RegExp("["+e+"]+$","g"):/\s+$/g;return t.replace(n,"")},u.trim=function(t,e){var n=e?new RegExp("^["+e+"]+|["+e+"]+$","g"):/^\s+|\s+$/g;return t.replace(n,"")},u.escape=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")},u.stripLow=function(t,e){var n=e?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return u.blacklist(t,n)},u.whitelist=function(t,e){return t.replace(new RegExp("[^"+e+"]+","g"),"")},u.blacklist=function(t,e){return t.replace(new RegExp("["+e+"]+","g"),"")};var D={lowercase:!0,remove_dots:!0,remove_extension:!0};function N(t,e){for(var n in t=t||{},e)void 0===t[n]&&(t[n]=e[n]);return t}return u.normalizeEmail=function(t,e){if(e=N(e,D),!u.isEmail(t))return!1;var n=t.split("@",2);if(n[1]=n[1].toLowerCase(),"gmail.com"===n[1]||"googlemail.com"===n[1]){if(e.remove_extension&&(n[0]=n[0].split("+")[0]),e.remove_dots&&(n[0]=n[0].replace(/\./g,"")),!n[0].length)return!1;n[0]=n[0].toLowerCase(),n[1]="gmail.com"}else e.lowercase&&(n[0]=n[0].toLowerCase());return n.join("@")},u.init(),u}),function(t){"use strict";function i(t){return t.length||Object.keys(t).length||0}function o(t,e){var n=[],i=[];return t.forEach(function(t){void 0!==t[e]&&void 0===n[t[e]]&&(n[t[e]]=1,i.push(t))}),i}function r(t,n){if(!n)return t;if("string"==typeof n)n={key:n,type:1};else if("object"==_typeof(n)){var e=Object.keys(n)[0];n={key:e,type:n[e]}}return t.sort(function(t,e){return t[n.key]<e[n.key]?-1*n.type:t[n.key]>e[n.key]?1*n.type:0})}function l(t,e){return e&&"object"==_typeof(e)&&null!==e?(e.unique&&(t=o(t,e.unique)),(e.sort||e.orderBy)&&(t=r(t,e.sort||e.orderBy)),e.skip&&0<e.skip&&e.limit&&0<e.limit&&(e.limit+=e.skip),t.slice(e.skip,e.limit)):t}Array.prototype.containsArray=function(t){var e=null,n=null;return arguments[1]?(e=arguments[1],n=arguments[2]):(n=e=0,this.sort(),t.sort()),e===t.length||-1<(n=this.indexOf(t[e],n))&&this.containsArray(t,++e,++n)};var e=function(n){var a=n;return{find:function(o,t){if(t=t||{},!o||null===o||null!==o&&0===i(o))return a=l(n,t),this;var e=a;a=[];var r=i(o),s=0;return e.forEach(function(t){for(var e in s=0,o)(void 0!==t[e]&&(o[e]===1/0||(n=o[e],i=t[e],n==i||("string"==typeof n?"string"==typeof i&&n.toLowerCase()==i.toLowerCase()||Array.isArray(i)&&-1<i.indexOf(n):Array.isArray(n)?!Array.isArray(i)&&-1<n.indexOf(i)||Array.isArray(i)&&i.containsArray(n):null!==n&&"object"==_typeof(n)&&(void 0!==n.exec&&null!==n.exec(i)||n.$ne&&i!==n.$ne||i<n.$lt||i<=n.$lte||i>n.$gt||i>=n.$gte))))||o[e]===-1/0&&!t[e])&&s++,s==r&&a.push(t);var n,i}),a=l(a,t),this},findOne:function(t){return this.find(t,{limit:1})},each:function(n){if("function"!=typeof n)throw Error('.each accepts a function, "'+_typeof(n)+'" passed instead.');return a.forEach(function(t,e){n.call(this,t,e)}),this},filter:function(n){if("function"!=typeof n)throw Error('.filter accepts a function, "'+_typeof(n)+'" passed instead.');var t=a;return a=[],t.forEach(function(t,e){!0===n.call(this,t,e)&&a.push(t)}),this},sort:function(t){return a=r(a,t),this},unique:function(t){return a=o(a,t),this},skip:function(t){return a=a.slice(t),this},limit:function(t){return a=a.slice(0,t),this},then:function(t){if("function"!=typeof t)throw Error('.then accepts a function, "'+_typeof(t)+'" passed instead.');return t.call(null,a),this},count:function(){return a.length},get:function(){return a}}};e.ANY=1/0,e.NONE=-1/0,e.SORT={ASC:1,DSC:-1},e.match=RegExp,e.gt=function(t){return{$gt:t}},e.gte=function(t){return{$gte:t}},e.lt=function(t){return{$lt:t}},e.lte=function(t){return{$lte:t}},e.ne=function(t){return{$ne:t}},"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==_typeof(module.exports)?module.exports=e:"function"==typeof define&&define.amd?define("Faltu",[],function(){return e}):t.Faltu=e}(this),function(){var ns,is="Expected a function",os="__lodash_hash_undefined__",rs="__lodash_placeholder__",ss=128,as=9007199254740991,ls=NaN,cs=4294967295,us=[["ary",ss],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],hs="[object Arguments]",ds="[object Array]",fs="[object Boolean]",ps="[object Date]",gs="[object Error]",ms="[object Function]",vs="[object GeneratorFunction]",ys="[object Map]",bs="[object Number]",_s="[object Object]",ws="[object Promise]",xs="[object RegExp]",Cs="[object Set]",ks="[object String]",$s="[object Symbol]",Ss="[object WeakMap]",Es="[object ArrayBuffer]",Os="[object DataView]",Ms="[object Float32Array]",As="[object Float64Array]",Ts="[object Int8Array]",Ps="[object Int16Array]",js="[object Int32Array]",Is="[object Uint8Array]",Ds="[object Uint8ClampedArray]",Ns="[object Uint16Array]",Fs="[object Uint32Array]",zs=/\b__p \+= '';/g,Ls=/\b(__p \+=) '' \+/g,Rs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ws=/&(?:amp|lt|gt|quot|#39);/g,Bs=/[&<>"']/g,Hs=RegExp(Ws.source),Us=RegExp(Bs.source),qs=/<%-([\s\S]+?)%>/g,Vs=/<%([\s\S]+?)%>/g,Ys=/<%=([\s\S]+?)%>/g,Gs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qs=/^\w*$/,Ks=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xs=/[\\^$.*+?()[\]{}|]/g,Zs=RegExp(Xs.source),Js=/^\s+|\s+$/g,ta=/^\s+/,ea=/\s+$/,na=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ia=/\{\n\/\* \[wrapped with (.+)\] \*/,oa=/,? & /,ra=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sa=/\\(\\)?/g,aa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,la=/\w*$/,ca=/^[-+]0x[0-9a-f]+$/i,ua=/^0b[01]+$/i,ha=/^\[object .+?Constructor\]$/,da=/^0o[0-7]+$/i,fa=/^(?:0|[1-9]\d*)$/,pa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ga=/($^)/,ma=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",r="\\ufe0e\\ufe0f",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="[']",l="["+t+"]",c="["+s+"]",u="["+e+"]",h="\\d+",d="["+n+"]",f="["+i+"]",p="[^"+t+s+h+n+i+o+"]",g="\\ud83c[\\udffb-\\udfff]",m="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+o+"]",_="\\u200d",w="(?:"+f+"|"+p+")",x="(?:"+b+"|"+p+")",C="(?:['](?:d|ll|m|re|s|t|ve))?",k="(?:['](?:D|LL|M|RE|S|T|VE))?",$="(?:"+u+"|"+g+")"+"?",S="["+r+"]?",E=S+$+("(?:"+_+"(?:"+[m,v,y].join("|")+")"+S+$+")*"),O="(?:"+[d,v,y].join("|")+")"+E,M="(?:"+[m+u+"?",u,v,y,l].join("|")+")",va=RegExp(a,"g"),ya=RegExp(u,"g"),A=RegExp(g+"(?="+g+")|"+M+E,"g"),ba=RegExp([b+"?"+f+"+"+C+"(?="+[c,b,"$"].join("|")+")",x+"+"+k+"(?="+[c,b+w,"$"].join("|")+")",b+"?"+w+"+"+C,b+"+"+k,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",h,O].join("|"),"g"),T=RegExp("["+_+t+e+r+"]"),_a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xa=-1,Ca={};Ca[Ms]=Ca[As]=Ca[Ts]=Ca[Ps]=Ca[js]=Ca[Is]=Ca[Ds]=Ca[Ns]=Ca[Fs]=!0,Ca[hs]=Ca[ds]=Ca[Es]=Ca[fs]=Ca[Os]=Ca[ps]=Ca[gs]=Ca[ms]=Ca[ys]=Ca[bs]=Ca[_s]=Ca[xs]=Ca[Cs]=Ca[ks]=Ca[Ss]=!1;var ka={};ka[hs]=ka[ds]=ka[Es]=ka[Os]=ka[fs]=ka[ps]=ka[Ms]=ka[As]=ka[Ts]=ka[Ps]=ka[js]=ka[ys]=ka[bs]=ka[_s]=ka[xs]=ka[Cs]=ka[ks]=ka[$s]=ka[Is]=ka[Ds]=ka[Ns]=ka[Fs]=!0,ka[gs]=ka[ms]=ka[Ss]=!1;var P={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$a=parseFloat,Sa=parseInt,j="object"==("undefined"==typeof global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,I="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,Ea=j||I||Function("return this")(),D="object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&exports&&!exports.nodeType&&exports,N=D&&"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module&&!module.nodeType&&module,Oa=N&&N.exports===D,F=Oa&&j.process,z=function(){try{var t=N&&N.require&&N.require("util").types;return t||F&&F.binding&&F.binding("util")}catch(t){}}(),Ma=z&&z.isArrayBuffer,Aa=z&&z.isDate,Ta=z&&z.isMap,Pa=z&&z.isRegExp,ja=z&&z.isSet,Ia=z&&z.isTypedArray;function Da(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Na(t,e,n,i){for(var o=-1,r=null==t?0:t.length;++o<r;){var s=t[o];e(i,s,n(s),t)}return i}function Fa(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function za(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function La(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ra(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r}function Wa(t,e){return!!(null==t?0:t.length)&&-1<Ka(t,e,0)}function Ba(t,e,n){for(var i=-1,o=null==t?0:t.length;++i<o;)if(n(e,t[i]))return!0;return!1}function Ha(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function Ua(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function qa(t,e,n,i){var o=-1,r=null==t?0:t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function Va(t,e,n,i){var o=null==t?0:t.length;for(i&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function Ya(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var L=tl("length");function Ga(t,i,e){var o;return e(t,function(t,e,n){if(i(t,e,n))return o=e,!1}),o}function Qa(t,e,n,i){for(var o=t.length,r=n+(i?1:-1);i?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function Ka(t,e,n){return e==e?function(t,e,n){var i=n-1,o=t.length;for(;++i<o;)if(t[i]===e)return i;return-1}(t,e,n):Qa(t,Za,n)}function Xa(t,e,n,i){for(var o=n-1,r=t.length;++o<r;)if(i(t[o],e))return o;return-1}function Za(t){return t!=t}function Ja(t,e){var n=null==t?0:t.length;return n?nl(t,e)/n:ls}function tl(e){return function(t){return null==t?ns:t[e]}}function R(e){return function(t){return null==e?ns:e[t]}}function el(t,i,o,r,e){return e(t,function(t,e,n){o=r?(r=!1,t):i(o,t,e,n)}),o}function nl(t,e){for(var n,i=-1,o=t.length;++i<o;){var r=e(t[i]);r!==ns&&(n=n===ns?r:n+r)}return n}function il(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function ol(e){return function(t){return e(t)}}function rl(e,t){return Ha(t,function(t){return e[t]})}function sl(t,e){return t.has(e)}function al(t,e){for(var n=-1,i=t.length;++n<i&&-1<Ka(e,t[n],0););return n}function ll(t,e){for(var n=t.length;n--&&-1<Ka(e,t[n],0););return n}var cl=R({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),ul=R({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function hl(t){return"\\"+P[t]}function dl(t){return T.test(t)}function fl(t){var n=-1,i=Array(t.size);return t.forEach(function(t,e){i[++n]=[e,t]}),i}function pl(e,n){return function(t){return e(n(t))}}function gl(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n];s!==e&&s!==rs||(t[n]=rs,r[o++]=n)}return r}function ml(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function vl(t){return dl(t)?function(t){var e=A.lastIndex=0;for(;A.test(t);)++e;return e}(t):L(t)}function yl(t){return dl(t)?t.match(A)||[]:t.split("")}var bl=R({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _l=function t(e){var n,O=(e=null==e?Ea:_l.defaults(Ea.Object(),e,_l.pick(Ea,wa))).Array,i=e.Date,o=e.Error,m=e.Function,r=e.Math,k=e.Object,v=e.RegExp,u=e.String,M=e.TypeError,s=O.prototype,a=m.prototype,h=k.prototype,l=e["__core-js_shared__"],c=a.toString,$=h.hasOwnProperty,d=0,f=(n=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",p=h.toString,g=c.call(k),y=Ea._,b=v("^"+c.call($).replace(Xs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=Oa?e.Buffer:ns,w=e.Symbol,x=e.Uint8Array,C=_?_.allocUnsafe:ns,S=pl(k.getPrototypeOf,k),E=k.create,A=h.propertyIsEnumerable,T=s.splice,P=w?w.isConcatSpreadable:ns,j=w?w.iterator:ns,I=w?w.toStringTag:ns,D=function(){try{var t=Rn(k,"defineProperty");return t({},"",{}),t}catch(t){}}(),N=e.clearTimeout!==Ea.clearTimeout&&e.clearTimeout,F=i&&i.now!==Ea.Date.now&&i.now,z=e.setTimeout!==Ea.setTimeout&&e.setTimeout,L=r.ceil,R=r.floor,W=k.getOwnPropertySymbols,B=_?_.isBuffer:ns,H=e.isFinite,U=s.join,q=pl(k.keys,k),V=r.max,Y=r.min,G=i.now,Q=e.parseInt,K=r.random,X=s.reverse,Z=Rn(e,"DataView"),J=Rn(e,"Map"),tt=Rn(e,"Promise"),et=Rn(e,"Set"),nt=Rn(e,"WeakMap"),it=Rn(k,"create"),ot=nt&&new nt,rt={},st=pi(Z),at=pi(J),lt=pi(tt),ct=pi(et),ut=pi(nt),ht=w?w.prototype:ns,dt=ht?ht.valueOf:ns,ft=ht?ht.toString:ns;function pt(t){if(Po(t)&&!wo(t)&&!(t instanceof yt)){if(t instanceof vt)return t;if($.call(t,"__wrapped__"))return gi(t)}return new vt(t)}var gt=function(){function n(){}return function(t){if(!To(t))return{};if(E)return E(t);n.prototype=t;var e=new n;return n.prototype=ns,e}}();function mt(){}function vt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ns}function yt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=cs,this.__views__=[]}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wt;++e<n;)this.add(t[e])}function Ct(t){var e=this.__data__=new _t(t);this.size=e.size}function kt(t,e){var n=wo(t),i=!n&&_o(t),o=!n&&!i&&$o(t),r=!n&&!i&&!o&&Ro(t),s=n||i||o||r,a=s?il(t.length,u):[],l=a.length;for(var c in t)!e&&!$.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Yn(c,l))||a.push(c);return a}function $t(t){var e=t.length;return e?t[xe(0,e-1)]:ns}function St(t,e){return ci(on(t),Dt(e,0,t.length))}function Et(t){return ci(on(t))}function Ot(t,e,n){(n===ns||vo(t[e],n))&&(n!==ns||e in t)||jt(t,e,n)}function Mt(t,e,n){var i=t[e];$.call(t,e)&&vo(i,n)&&(n!==ns||e in t)||jt(t,e,n)}function At(t,e){for(var n=t.length;n--;)if(vo(t[n][0],e))return n;return-1}function Tt(t,i,o,r){return Rt(t,function(t,e,n){i(r,t,o(t),n)}),r}function Pt(t,e){return t&&rn(e,lr(e),t)}function jt(t,e,n){"__proto__"==e&&D?D(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function It(t,e){for(var n=-1,i=e.length,o=O(i),r=null==t;++n<i;)o[n]=r?ns:ir(t,e[n]);return o}function Dt(t,e,n){return t==t&&(n!==ns&&(t=t<=n?t:n),e!==ns&&(t=e<=t?t:e)),t}function Nt(n,i,o,t,e,r){var s,a=1&i,l=2&i,c=4&i;if(o&&(s=e?o(n,t,e,r):o(n)),s!==ns)return s;if(!To(n))return n;var u,h,d,f,p,g,m,v,y,b=wo(n);if(b){if(v=(m=n).length,y=new m.constructor(v),v&&"string"==typeof m[0]&&$.call(m,"index")&&(y.index=m.index,y.input=m.input),s=y,!a)return on(n,s)}else{var _=Hn(n),w=_==ms||_==vs;if($o(n))return Xe(n,a);if(_==_s||_==hs||w&&!e){if(s=l||w?{}:qn(n),!a)return l?(g=d=n,f=(p=s)&&rn(g,cr(g),p),rn(d,Bn(d),f)):(h=Pt(s,u=n),rn(u,Wn(u),h))}else{if(!ka[_])return e?n:{};s=function(t,e,n){var i,o,r,s,a,l=t.constructor;switch(e){case Es:return Ze(t);case fs:case ps:return new l(+t);case Os:return s=t,a=n?Ze(s.buffer):s.buffer,new s.constructor(a,s.byteOffset,s.byteLength);case Ms:case As:case Ts:case Ps:case js:case Is:case Ds:case Ns:case Fs:return Je(t,n);case ys:return new l;case bs:case ks:return new l(t);case xs:return(r=new(o=t).constructor(o.source,la.exec(o))).lastIndex=o.lastIndex,r;case Cs:return new l;case $s:return i=t,dt?k(dt.call(i)):{}}}(n,_,a)}}r||(r=new Ct);var x=r.get(n);if(x)return x;if(r.set(n,s),Fo(n))return n.forEach(function(t){s.add(Nt(t,i,o,t,n,r))}),s;if(jo(n))return n.forEach(function(t,e){s.set(e,Nt(t,i,o,e,n,r))}),s;var C=b?ns:(c?l?jn:Pn:l?cr:lr)(n);return Fa(C||n,function(t,e){C&&(t=n[e=t]),Mt(s,e,Nt(t,i,o,e,n,r))}),s}function Ft(t,e,n){var i=n.length;if(null==t)return!i;for(t=k(t);i--;){var o=n[i],r=e[o],s=t[o];if(s===ns&&!(o in t)||!r(s))return!1}return!0}function zt(t,e,n){if("function"!=typeof t)throw new M(is);return ri(function(){t.apply(ns,n)},e)}function Lt(t,e,n,i){var o=-1,r=Wa,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Ha(e,ol(n))),i?(r=Ba,s=!1):200<=e.length&&(r=sl,s=!1,e=new xt(e));t:for(;++o<a;){var u=t[o],h=null==n?u:n(u);if(u=i||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else r(e,h,i)||l.push(u)}return l}pt.templateSettings={escape:qs,evaluate:Vs,interpolate:Ys,variable:"",imports:{_:pt}},(pt.prototype=mt.prototype).constructor=pt,(vt.prototype=gt(mt.prototype)).constructor=vt,(yt.prototype=gt(mt.prototype)).constructor=yt,bt.prototype.clear=function(){this.__data__=it?it(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(it){var n=e[t];return n===os?ns:n}return $.call(e,t)?e[t]:ns},bt.prototype.has=function(t){var e=this.__data__;return it?e[t]!==ns:$.call(e,t)},bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=it&&e===ns?os:e,this},_t.prototype.clear=function(){this.__data__=[],this.size=0},_t.prototype.delete=function(t){var e=this.__data__,n=At(e,t);return!(n<0||(n==e.length-1?e.pop():T.call(e,n,1),--this.size,0))},_t.prototype.get=function(t){var e=this.__data__,n=At(e,t);return n<0?ns:e[n][1]},_t.prototype.has=function(t){return-1<At(this.__data__,t)},_t.prototype.set=function(t,e){var n=this.__data__,i=At(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(J||_t),string:new bt}},wt.prototype.delete=function(t){var e=zn(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return zn(this,t).get(t)},wt.prototype.has=function(t){return zn(this,t).has(t)},wt.prototype.set=function(t,e){var n=zn(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,os),this},xt.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new _t,this.size=0},Ct.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _t){var i=n.__data__;if(!J||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new wt(i)}return n.set(t,e),this.size=n.size,this};var Rt=ln(Gt),Wt=ln(Qt,!0);function Bt(t,i){var o=!0;return Rt(t,function(t,e,n){return o=!!i(t,e,n)}),o}function Ht(t,e,n){for(var i=-1,o=t.length;++i<o;){var r=t[i],s=e(r);if(null!=s&&(a===ns?s==s&&!Lo(s):n(s,a)))var a=s,l=r}return l}function Ut(t,i){var o=[];return Rt(t,function(t,e,n){i(t,e,n)&&o.push(t)}),o}function qt(t,e,n,i,o){var r=-1,s=t.length;for(n||(n=Vn),o||(o=[]);++r<s;){var a=t[r];0<e&&n(a)?1<e?qt(a,e-1,n,i,o):Ua(o,a):i||(o[o.length]=a)}return o}var Vt=cn(),Yt=cn(!0);function Gt(t,e){return t&&Vt(t,e,lr)}function Qt(t,e){return t&&Yt(t,e,lr)}function Kt(e,t){return Ra(t,function(t){return Oo(e[t])})}function Xt(t,e){for(var n=0,i=(e=Ye(e,t)).length;null!=t&&n<i;)t=t[fi(e[n++])];return n&&n==i?t:ns}function Zt(t,e,n){var i=e(t);return wo(t)?i:Ua(i,n(t))}function Jt(t){return null==t?t===ns?"[object Undefined]":"[object Null]":I&&I in k(t)?function(t){var e=$.call(t,I),n=t[I];try{t[I]=ns;var i=!0}catch(t){}var o=p.call(t);return i&&(e?t[I]=n:delete t[I]),o}(t):(e=t,p.call(e));var e}function te(t,e){return e<t}function ee(t,e){return null!=t&&$.call(t,e)}function ne(t,e){return null!=t&&e in k(t)}function ie(t,e,n){for(var i=n?Ba:Wa,o=t[0].length,r=t.length,s=r,a=O(r),l=1/0,c=[];s--;){var u=t[s];s&&e&&(u=Ha(u,ol(e))),l=Y(u.length,l),a[s]=!n&&(e||120<=o&&120<=u.length)?new xt(s&&u):ns}u=t[0];var h=-1,d=a[0];t:for(;++h<o&&c.length<l;){var f=u[h],p=e?e(f):f;if(f=n||0!==f?f:0,!(d?sl(d,p):i(c,p,n))){for(s=r;--s;){var g=a[s];if(!(g?sl(g,p):i(t[s],p,n)))continue t}d&&d.push(p),c.push(f)}}return c}function oe(t,e,n){var i=null==(t=ni(t,e=Ye(e,t)))?t:t[fi(Si(e))];return null==i?ns:Da(i,t,n)}function re(t){return Po(t)&&Jt(t)==hs}function se(t,e,n,i,o){return t===e||(null==t||null==e||!Po(t)&&!Po(e)?t!=t&&e!=e:function(t,e,n,i,o,r){var s=wo(t),a=wo(e),l=s?ds:Hn(t),c=a?ds:Hn(e),u=(l=l==hs?_s:l)==_s,h=(c=c==hs?_s:c)==_s,d=l==c;if(d&&$o(t)){if(!$o(e))return!1;u=!(s=!0)}if(d&&!u)return r||(r=new Ct),s||Ro(t)?An(t,e,n,i,o,r):function(t,e,n,i,o,r,s){switch(n){case Os:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Es:return!(t.byteLength!=e.byteLength||!r(new x(t),new x(e)));case fs:case ps:case bs:return vo(+t,+e);case gs:return t.name==e.name&&t.message==e.message;case xs:case ks:return t==e+"";case ys:var a=fl;case Cs:var l=1&i;if(a||(a=ml),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;i|=2,s.set(t,e);var u=An(a(t),a(e),i,o,r,s);return s.delete(t),u;case $s:if(dt)return dt.call(t)==dt.call(e)}return!1}(t,e,l,n,i,o,r);if(!(1&n)){var f=u&&$.call(t,"__wrapped__"),p=h&&$.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return r||(r=new Ct),o(g,m,n,i,r)}}return!!d&&(r||(r=new Ct),function(t,e,n,i,o,r){var s=1&n,a=Pn(t),l=a.length,c=Pn(e).length;if(l!=c&&!s)return!1;for(var u=l;u--;){var h=a[u];if(!(s?h in e:$.call(e,h)))return!1}var d=r.get(t);if(d&&r.get(e))return d==e;var f=!0;r.set(t,e),r.set(e,t);for(var p=s;++u<l;){h=a[u];var g=t[h],m=e[h];if(i)var v=s?i(m,g,h,e,t,r):i(g,m,h,t,e,r);if(!(v===ns?g===m||o(g,m,n,i,r):v)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(f=!1)}return r.delete(t),r.delete(e),f}(t,e,n,i,o,r))}(t,e,n,i,se,o))}function ae(t,e,n,i){var o=n.length,r=o,s=!i;if(null==t)return!r;for(t=k(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<r;){var l=(a=n[o])[0],c=t[l],u=a[1];if(s&&a[2]){if(c===ns&&!(l in t))return!1}else{var h=new Ct;if(i)var d=i(c,u,l,t,e,h);if(!(d===ns?se(u,c,3,i,h):d))return!1}}return!0}function le(t){return!(!To(t)||(e=t,f&&f in e))&&(Oo(t)?b:ha).test(pi(t));var e}function ce(t){return"function"==typeof t?t:null==t?Ir:"object"==_typeof(t)?wo(t)?ge(t[0],t[1]):pe(t):Hr(t)}function ue(t){if(!Zn(t))return q(t);var e=[];for(var n in k(t))$.call(t,n)&&"constructor"!=n&&e.push(n);return e}function he(t){if(!To(t))return function(t){var e=[];if(null!=t)for(var n in k(t))e.push(n);return e}(t);var e=Zn(t),n=[];for(var i in t)("constructor"!=i||!e&&$.call(t,i))&&n.push(i);return n}function de(t,e){return t<e}function fe(t,i){var o=-1,r=Co(t)?O(t.length):[];return Rt(t,function(t,e,n){r[++o]=i(t,e,n)}),r}function pe(e){var n=Ln(e);return 1==n.length&&n[0][2]?ti(n[0][0],n[0][1]):function(t){return t===e||ae(t,e,n)}}function ge(n,i){return Qn(n)&&Jn(i)?ti(fi(n),i):function(t){var e=ir(t,n);return e===ns&&e===i?or(t,n):se(i,e,3)}}function me(i,o,r,s,a){i!==o&&Vt(o,function(t,e){if(To(t))a||(a=new Ct),function(t,e,n,i,o,r,s){var a=ii(t,n),l=ii(e,n),c=s.get(l);if(c)return Ot(t,n,c);var u=r?r(a,l,n+"",t,e,s):ns,h=u===ns;if(h){var d=wo(l),f=!d&&$o(l),p=!d&&!f&&Ro(l);u=l,d||f||p?u=wo(a)?a:ko(a)?on(a):f?Xe(l,!(h=!1)):p?Je(l,!(h=!1)):[]:Do(l)||_o(l)?_o(u=a)?u=Go(a):To(a)&&!Oo(a)||(u=qn(l)):h=!1}h&&(s.set(l,u),o(u,l,i,r,s),s.delete(l)),Ot(t,n,u)}(i,o,e,r,me,s,a);else{var n=s?s(ii(i,e),t,e+"",i,o,a):ns;n===ns&&(n=t),Ot(i,e,n)}},cr)}function ve(t,e){var n=t.length;if(n)return Yn(e+=e<0?n:0,n)?t[e]:ns}function ye(t,i,n){var o=-1;return i=Ha(i.length?i:[Ir],ol(Fn())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(fe(t,function(e,t,n){return{criteria:Ha(i,function(t){return t(e)}),index:++o,value:e}}),function(t,e){return function(t,e,n){for(var i=-1,o=t.criteria,r=e.criteria,s=o.length,a=n.length;++i<s;){var l=tn(o[i],r[i]);if(l){if(a<=i)return l;var c=n[i];return l*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function be(t,e,n){for(var i=-1,o=e.length,r={};++i<o;){var s=e[i],a=Xt(t,s);n(a,s)&&Ee(r,Ye(s,t),a)}return r}function _e(t,e,n,i){var o=i?Xa:Ka,r=-1,s=e.length,a=t;for(t===e&&(e=on(e)),n&&(a=Ha(t,ol(n)));++r<s;)for(var l=0,c=e[r],u=n?n(c):c;-1<(l=o(a,u,l,i));)a!==t&&T.call(a,l,1),T.call(t,l,1);return t}function we(t,e){for(var n=t?e.length:0,i=n-1;n--;){var o=e[n];if(n==i||o!==r){var r=o;Yn(o)?T.call(t,o,1):Le(t,o)}}return t}function xe(t,e){return t+R(K()*(e-t+1))}function Ce(t,e){var n="";if(!t||e<1||as<e)return n;for(;e%2&&(n+=t),(e=R(e/2))&&(t+=t),e;);return n}function ke(t,e){return si(ei(t,e,Ir),t+"")}function $e(t){return $t(vr(t))}function Se(t,e){var n=vr(t);return ci(n,Dt(e,0,n.length))}function Ee(t,e,n,i){if(!To(t))return t;for(var o=-1,r=(e=Ye(e,t)).length,s=r-1,a=t;null!=a&&++o<r;){var l=fi(e[o]),c=n;if(o!=s){var u=a[l];(c=i?i(u,l,a):ns)===ns&&(c=To(u)?u:Yn(e[o+1])?[]:{})}Mt(a,l,c),a=a[l]}return t}var Oe=ot?function(t,e){return ot.set(t,e),t}:Ir,Me=D?function(t,e){return D(t,"toString",{configurable:!0,enumerable:!1,value:Tr(e),writable:!0})}:Ir;function Ae(t){return ci(vr(t))}function Te(t,e,n){var i=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(n=o<n?o:n)<0&&(n+=o),o=n<e?0:n-e>>>0,e>>>=0;for(var r=O(o);++i<o;)r[i]=t[i+e];return r}function Pe(t,i){var o;return Rt(t,function(t,e,n){return!(o=i(t,e,n))}),!!o}function je(t,e,n){var i=0,o=null==t?i:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;i<o;){var r=i+o>>>1,s=t[r];null!==s&&!Lo(s)&&(n?s<=e:s<e)?i=r+1:o=r}return o}return Ie(t,e,Ir,n)}function Ie(t,e,n,i){e=n(e);for(var o=0,r=null==t?0:t.length,s=e!=e,a=null===e,l=Lo(e),c=e===ns;o<r;){var u=R((o+r)/2),h=n(t[u]),d=h!==ns,f=null===h,p=h==h,g=Lo(h);if(s)var m=i||p;else m=c?p&&(i||d):a?p&&d&&(i||!f):l?p&&d&&!f&&(i||!g):!f&&!g&&(i?h<=e:h<e);m?o=u+1:r=u}return Y(r,4294967294)}function De(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!vo(a,l)){var l=a;r[o++]=0===s?0:s}}return r}function Ne(t){return"number"==typeof t?t:Lo(t)?ls:+t}function Fe(t){if("string"==typeof t)return t;if(wo(t))return Ha(t,Fe)+"";if(Lo(t))return ft?ft.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ze(t,e,n){var i=-1,o=Wa,r=t.length,s=!0,a=[],l=a;if(n)s=!1,o=Ba;else if(200<=r){var c=e?null:kn(t);if(c)return ml(c);s=!1,o=sl,l=new xt}else l=e?[]:a;t:for(;++i<r;){var u=t[i],h=e?e(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(u)}else o(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function Le(t,e){return null==(t=ni(t,e=Ye(e,t)))||delete t[fi(Si(e))]}function Re(t,e,n,i){return Ee(t,e,n(Xt(t,e)),i)}function We(t,e,n,i){for(var o=t.length,r=i?o:-1;(i?r--:++r<o)&&e(t[r],r,t););return n?Te(t,i?0:r,i?r+1:o):Te(t,i?r+1:0,i?o:r)}function Be(t,e){var n=t;return n instanceof yt&&(n=n.value()),qa(e,function(t,e){return e.func.apply(e.thisArg,Ua([t],e.args))},n)}function He(t,e,n){var i=t.length;if(i<2)return i?ze(t[0]):[];for(var o=-1,r=O(i);++o<i;)for(var s=t[o],a=-1;++a<i;)a!=o&&(r[o]=Lt(r[o]||s,t[a],e,n));return ze(qt(r,1),e,n)}function Ue(t,e,n){for(var i=-1,o=t.length,r=e.length,s={};++i<o;){var a=i<r?e[i]:ns;n(s,t[i],a)}return s}function qe(t){return ko(t)?t:[]}function Ve(t){return"function"==typeof t?t:Ir}function Ye(t,e){return wo(t)?t:Qn(t,e)?[t]:di(Qo(t))}var Ge=ke;function Qe(t,e,n){var i=t.length;return n=n===ns?i:n,!e&&i<=n?t:Te(t,e,n)}var Ke=N||function(t){return Ea.clearTimeout(t)};function Xe(t,e){if(e)return t.slice();var n=t.length,i=C?C(n):new t.constructor(n);return t.copy(i),i}function Ze(t){var e=new t.constructor(t.byteLength);return new x(e).set(new x(t)),e}function Je(t,e){var n=e?Ze(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function tn(t,e){if(t!==e){var n=t!==ns,i=null===t,o=t==t,r=Lo(t),s=e!==ns,a=null===e,l=e==e,c=Lo(e);if(!a&&!c&&!r&&e<t||r&&s&&l&&!a&&!c||i&&s&&l||!n&&l||!o)return 1;if(!i&&!r&&!c&&t<e||c&&n&&o&&!i&&!r||a&&n&&o||!s&&o||!l)return-1}return 0}function en(t,e,n,i){for(var o=-1,r=t.length,s=n.length,a=-1,l=e.length,c=V(r-s,0),u=O(l+c),h=!i;++a<l;)u[a]=e[a];for(;++o<s;)(h||o<r)&&(u[n[o]]=t[o]);for(;c--;)u[a++]=t[o++];return u}function nn(t,e,n,i){for(var o=-1,r=t.length,s=-1,a=n.length,l=-1,c=e.length,u=V(r-a,0),h=O(u+c),d=!i;++o<u;)h[o]=t[o];for(var f=o;++l<c;)h[f+l]=e[l];for(;++s<a;)(d||o<r)&&(h[f+n[s]]=t[o++]);return h}function on(t,e){var n=-1,i=t.length;for(e||(e=O(i));++n<i;)e[n]=t[n];return e}function rn(t,e,n,i){var o=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],l=i?i(n[a],t[a],a,n,t):ns;l===ns&&(l=t[a]),o?jt(n,a,l):Mt(n,a,l)}return n}function sn(o,r){return function(t,e){var n=wo(t)?Na:Tt,i=r?r():{};return n(t,o,Fn(e,2),i)}}function an(a){return ke(function(t,e){var n=-1,i=e.length,o=1<i?e[i-1]:ns,r=2<i?e[2]:ns;for(o=3<a.length&&"function"==typeof o?(i--,o):ns,r&&Gn(e[0],e[1],r)&&(o=i<3?ns:o,i=1),t=k(t);++n<i;){var s=e[n];s&&a(t,s,n,o)}return t})}function ln(r,s){return function(t,e){if(null==t)return t;if(!Co(t))return r(t,e);for(var n=t.length,i=s?n:-1,o=k(t);(s?i--:++i<n)&&!1!==e(o[i],i,o););return t}}function cn(l){return function(t,e,n){for(var i=-1,o=k(t),r=n(t),s=r.length;s--;){var a=r[l?s:++i];if(!1===e(o[a],a,o))break}return t}}function un(o){return function(t){var e=dl(t=Qo(t))?yl(t):ns,n=e?e[0]:t.charAt(0),i=e?Qe(e,1).join(""):t.slice(1);return n[o]()+i}}function hn(e){return function(t){return qa(Or(_r(t).replace(va,"")),e,"")}}function dn(i){return function(){var t=arguments;switch(t.length){case 0:return new i;case 1:return new i(t[0]);case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[1],t[2]);case 4:return new i(t[0],t[1],t[2],t[3]);case 5:return new i(t[0],t[1],t[2],t[3],t[4]);case 6:return new i(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new i(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=gt(i.prototype),n=i.apply(e,t);return To(n)?n:e}}function fn(s){return function(t,e,n){var i=k(t);if(!Co(t)){var o=Fn(e,3);t=lr(t),e=function(t){return o(i[t],t,i)}}var r=s(t,e,n);return-1<r?i[o?t[r]:r]:ns}}function pn(l){return Tn(function(o){var r=o.length,t=r,e=vt.prototype.thru;for(l&&o.reverse();t--;){var n=o[t];if("function"!=typeof n)throw new M(is);if(e&&!s&&"wrapper"==Dn(n))var s=new vt([],!0)}for(t=s?t:r;++t<r;){var i=Dn(n=o[t]),a="wrapper"==i?In(n):ns;s=a&&Kn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Dn(a[0])].apply(s,a[3]):1==n.length&&Kn(n)?s[i]():s.thru(n)}return function(){var t=arguments,e=t[0];if(s&&1==t.length&&wo(e))return s.plant(e).value();for(var n=0,i=r?o[n].apply(this,t):e;++n<r;)i=o[n].call(this,i);return i}})}function gn(c,u,h,d,f,p,g,m,v,y){var b=u&ss,_=1&u,w=2&u,x=24&u,C=512&u,k=w?ns:dn(c);return function t(){for(var e=arguments.length,n=O(e),i=e;i--;)n[i]=arguments[i];if(x)var o=Nn(t),r=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(n,o);if(d&&(n=en(n,d,f,x)),p&&(n=nn(n,p,g,x)),e-=r,x&&e<y){var s=gl(n,o);return xn(c,u,gn,t.placeholder,h,n,s,m,v,y-e)}var a=_?h:this,l=w?a[c]:c;return e=n.length,m?n=function(t,e){for(var n=t.length,i=Y(e.length,n),o=on(t);i--;){var r=e[i];t[i]=Yn(r,n)?o[r]:ns}return t}(n,m):C&&1<e&&n.reverse(),b&&v<e&&(n.length=v),this&&this!==Ea&&this instanceof t&&(l=k||dn(l)),l.apply(a,n)}}function mn(s,a){return function(t,e){return n=t,i=s,o=a(e),r={},Gt(n,function(t,e,n){i(r,o(t),e,n)}),r;var n,i,o,r}}function vn(i,o){return function(t,e){var n;if(t===ns&&e===ns)return o;if(t!==ns&&(n=t),e!==ns){if(n===ns)return e;e="string"==typeof t||"string"==typeof e?(t=Fe(t),Fe(e)):(t=Ne(t),Ne(e)),n=i(t,e)}return n}}function yn(i){return Tn(function(t){return t=Ha(t,ol(Fn())),ke(function(e){var n=this;return i(t,function(t){return Da(t,n,e)})})})}function bn(t,e){var n=(e=e===ns?" ":Fe(e)).length;if(n<2)return n?Ce(e,t):e;var i=Ce(e,L(t/vl(e)));return dl(e)?Qe(yl(i),0,t).join(""):i.slice(0,t)}function _n(i){return function(t,e,n){return n&&"number"!=typeof n&&Gn(t,e,n)&&(e=n=ns),t=Uo(t),e===ns?(e=t,t=0):e=Uo(e),function(t,e,n,i){for(var o=-1,r=V(L((e-t)/(n||1)),0),s=O(r);r--;)s[i?r:++o]=t,t+=n;return s}(t,e,n=n===ns?t<e?1:-1:Uo(n),i)}}function wn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Yo(t),e=Yo(e)),n(t,e)}}function xn(t,e,n,i,o,r,s,a,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,o,u?r:ns,u?s:ns,u?ns:r,u?ns:s,a,l,c],d=n.apply(ns,h);return Kn(t)&&oi(d,h),d.placeholder=i,ai(d,t,e)}function Cn(t){var i=r[t];return function(t,e){if(t=Yo(t),e=null==e?0:Y(qo(e),292)){var n=(Qo(t)+"e").split("e");return+((n=(Qo(i(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return i(t)}}var kn=et&&1/ml(new et([,-0]))[1]==1/0?function(t){return new et(t)}:Lr;function $n(s){return function(t){var e,n,i,o,r=Hn(t);return r==ys?fl(t):r==Cs?(e=t,n=-1,i=Array(e.size),e.forEach(function(t){i[++n]=[t,t]}),i):Ha(s(o=t),function(t){return[t,o[t]]})}}function Sn(t,e,n,i,o,r,s,a){var l=2&e;if(!l&&"function"!=typeof t)throw new M(is);var c=i?i.length:0;if(c||(e&=-97,i=o=ns),s=s===ns?s:V(qo(s),0),a=a===ns?a:qo(a),c-=o?o.length:0,64&e){var u=i,h=o;i=o=ns}var d,f,p,g,m,v,y,b,_,w,x,C,k,$=l?ns:In(t),S=[t,e,n,i,o,u,h,r,s,a];if($&&function(t,e){var n=t[1],i=e[1],o=n|i,r=o<131,s=i==ss&&8==n||i==ss&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(r||s){1&i&&(t[2]=e[2],o|=1&n?0:4);var a=e[3];if(a){var l=t[3];t[3]=l?en(l,a,e[4]):a,t[4]=l?gl(t[3],rs):e[4]}(a=e[5])&&(l=t[5],t[5]=l?nn(l,a,e[6]):a,t[6]=l?gl(t[5],rs):e[6]),(a=e[7])&&(t[7]=a),i&ss&&(t[8]=null==t[8]?e[8]:Y(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}}(S,$),t=S[0],e=S[1],n=S[2],i=S[3],o=S[4],!(a=S[9]=S[9]===ns?l?0:t.length:V(S[9]-c,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||16==e?(y=e,b=a,_=dn(v=t),function t(){for(var e=arguments.length,n=O(e),i=e,o=Nn(t);i--;)n[i]=arguments[i];var r=e<3&&n[0]!==o&&n[e-1]!==o?[]:gl(n,o);return(e-=r.length)<b?xn(v,y,gn,t.placeholder,ns,n,r,ns,ns,b-e):Da(this&&this!==Ea&&this instanceof t?_:v,this,n)}):32!=e&&33!=e||o.length?gn.apply(ns,S):(f=n,p=i,g=1&e,m=dn(d=t),function t(){for(var e=-1,n=arguments.length,i=-1,o=p.length,r=O(o+n),s=this&&this!==Ea&&this instanceof t?m:d;++i<o;)r[i]=p[i];for(;n--;)r[i++]=arguments[++e];return Da(s,g?f:this,r)});else var E=(x=n,C=1&e,k=dn(w=t),function t(){return(this&&this!==Ea&&this instanceof t?k:w).apply(C?x:this,arguments)});return ai(($?Oe:oi)(E,S),t,e)}function En(t,e,n,i){return t===ns||vo(t,h[n])&&!$.call(i,n)?e:t}function On(t,e,n,i,o,r){return To(t)&&To(e)&&(r.set(e,t),me(t,e,ns,On,r),r.delete(e)),t}function Mn(t){return Do(t)?ns:t}function An(t,e,n,i,o,r){var s=1&n,a=t.length,l=e.length;if(a!=l&&!(s&&a<l))return!1;var c=r.get(t);if(c&&r.get(e))return c==e;var u=-1,h=!0,d=2&n?new xt:ns;for(r.set(t,e),r.set(e,t);++u<a;){var f=t[u],p=e[u];if(i)var g=s?i(p,f,u,e,t,r):i(f,p,u,t,e,r);if(g!==ns){if(g)continue;h=!1;break}if(d){if(!Ya(e,function(t,e){if(!sl(d,e)&&(f===t||o(f,t,n,i,r)))return d.push(e)})){h=!1;break}}else if(f!==p&&!o(f,p,n,i,r)){h=!1;break}}return r.delete(t),r.delete(e),h}function Tn(t){return si(ei(t,ns,wi),t+"")}function Pn(t){return Zt(t,lr,Wn)}function jn(t){return Zt(t,cr,Bn)}var In=ot?function(t){return ot.get(t)}:Lr;function Dn(t){for(var e=t.name+"",n=rt[e],i=$.call(rt,e)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==t)return o.name}return e}function Nn(t){return($.call(pt,"placeholder")?pt:t).placeholder}function Fn(){var t=pt.iteratee||Dr;return t=t===Dr?ce:t,arguments.length?t(arguments[0],arguments[1]):t}function zn(t,e){var n,i,o=t.__data__;return("string"==(i=_typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Ln(t){for(var e=lr(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,Jn(o)]}return e}function Rn(t,e){var n,i,o=(i=e,null==(n=t)?ns:n[i]);return le(o)?o:ns}var Wn=W?function(e){return null==e?[]:(e=k(e),Ra(W(e),function(t){return A.call(e,t)}))}:Vr,Bn=W?function(t){for(var e=[];t;)Ua(e,Wn(t)),t=S(t);return e}:Vr,Hn=Jt;function Un(t,e,n){for(var i=-1,o=(e=Ye(e,t)).length,r=!1;++i<o;){var s=fi(e[i]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}return r||++i!=o?r:!!(o=null==t?0:t.length)&&Ao(o)&&Yn(s,o)&&(wo(t)||_o(t))}function qn(t){return"function"!=typeof t.constructor||Zn(t)?{}:gt(S(t))}function Vn(t){return wo(t)||_o(t)||!!(P&&t&&t[P])}function Yn(t,e){var n=_typeof(t);return!!(e=null==e?as:e)&&("number"==n||"symbol"!=n&&fa.test(t))&&-1<t&&t%1==0&&t<e}function Gn(t,e,n){if(!To(n))return!1;var i=_typeof(e);return!!("number"==i?Co(n)&&Yn(e,n.length):"string"==i&&e in n)&&vo(n[e],t)}function Qn(t,e){if(wo(t))return!1;var n=_typeof(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Lo(t))||Qs.test(t)||!Gs.test(t)||null!=e&&t in k(e)}function Kn(t){var e=Dn(t),n=pt[e];if("function"!=typeof n||!(e in yt.prototype))return!1;if(t===n)return!0;var i=In(n);return!!i&&t===i[0]}(Z&&Hn(new Z(new ArrayBuffer(1)))!=Os||J&&Hn(new J)!=ys||tt&&Hn(tt.resolve())!=ws||et&&Hn(new et)!=Cs||nt&&Hn(new nt)!=Ss)&&(Hn=function(t){var e=Jt(t),n=e==_s?t.constructor:ns,i=n?pi(n):"";if(i)switch(i){case st:return Os;case at:return ys;case lt:return ws;case ct:return Cs;case ut:return Ss}return e});var Xn=l?Oo:Yr;function Zn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||h)}function Jn(t){return t==t&&!To(t)}function ti(e,n){return function(t){return null!=t&&t[e]===n&&(n!==ns||e in k(t))}}function ei(r,s,a){return s=V(s===ns?r.length-1:s,0),function(){for(var t=arguments,e=-1,n=V(t.length-s,0),i=O(n);++e<n;)i[e]=t[s+e];e=-1;for(var o=O(s+1);++e<s;)o[e]=t[e];return o[s]=a(i),Da(r,this,o)}}function ni(t,e){return e.length<2?t:Xt(t,Te(e,0,-1))}function ii(t,e){if("__proto__"!=e)return t[e]}var oi=li(Oe),ri=z||function(t,e){return Ea.setTimeout(t,e)},si=li(Me);function ai(t,e,n){var i,o,r,s=e+"";return si(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(1<n?"& ":"")+e[i],e=e.join(2<n?", ":" "),t.replace(na,"{\n/* [wrapped with "+e+"] */\n")}(s,(r=s.match(ia),i=r?r[1].split(oa):[],o=n,Fa(us,function(t){var e="_."+t[0];o&t[1]&&!Wa(i,e)&&i.push(e)}),i.sort())))}function li(n){var i=0,o=0;return function(){var t=G(),e=16-(t-o);if(o=t,0<e){if(800<=++i)return arguments[0]}else i=0;return n.apply(ns,arguments)}}function ci(t,e){var n=-1,i=t.length,o=i-1;for(e=e===ns?i:e;++n<e;){var r=xe(n,o),s=t[r];t[r]=t[n],t[n]=s}return t.length=e,t}var ui,hi,di=(hi=(ui=uo(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(Ks,function(t,e,n,i){o.push(n?i.replace(sa,"$1"):e||t)}),o},function(t){return 500===hi.size&&hi.clear(),t})).cache,ui);function fi(t){if("string"==typeof t||Lo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function pi(t){if(null!=t){try{return c.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function gi(t){if(t instanceof yt)return t.clone();var e=new vt(t.__wrapped__,t.__chain__);return e.__actions__=on(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var mi=ke(function(t,e){return ko(t)?Lt(t,qt(e,1,ko,!0)):[]}),vi=ke(function(t,e){var n=Si(e);return ko(n)&&(n=ns),ko(t)?Lt(t,qt(e,1,ko,!0),Fn(n,2)):[]}),yi=ke(function(t,e){var n=Si(e);return ko(n)&&(n=ns),ko(t)?Lt(t,qt(e,1,ko,!0),ns,n):[]});function bi(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:qo(n);return o<0&&(o=V(i+o,0)),Qa(t,Fn(e,3),o)}function _i(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==ns&&(o=qo(n),o=n<0?V(i+o,0):Y(o,i-1)),Qa(t,Fn(e,3),o,!0)}function wi(t){return null!=t&&t.length?qt(t,1):[]}function xi(t){return t&&t.length?t[0]:ns}var Ci=ke(function(t){var e=Ha(t,qe);return e.length&&e[0]===t[0]?ie(e):[]}),ki=ke(function(t){var e=Si(t),n=Ha(t,qe);return e===Si(n)?e=ns:n.pop(),n.length&&n[0]===t[0]?ie(n,Fn(e,2)):[]}),$i=ke(function(t){var e=Si(t),n=Ha(t,qe);return(e="function"==typeof e?e:ns)&&n.pop(),n.length&&n[0]===t[0]?ie(n,ns,e):[]});function Si(t){var e=null==t?0:t.length;return e?t[e-1]:ns}var Ei=ke(Oi);function Oi(t,e){return t&&t.length&&e&&e.length?_e(t,e):t}var Mi=Tn(function(t,e){var n=null==t?0:t.length,i=It(t,e);return we(t,Ha(e,function(t){return Yn(t,n)?+t:t}).sort(tn)),i});function Ai(t){return null==t?t:X.call(t)}var Ti=ke(function(t){return ze(qt(t,1,ko,!0))}),Pi=ke(function(t){var e=Si(t);return ko(e)&&(e=ns),ze(qt(t,1,ko,!0),Fn(e,2))}),ji=ke(function(t){var e=Si(t);return e="function"==typeof e?e:ns,ze(qt(t,1,ko,!0),ns,e)});function Ii(e){if(!e||!e.length)return[];var n=0;return e=Ra(e,function(t){if(ko(t))return n=V(t.length,n),!0}),il(n,function(t){return Ha(e,tl(t))})}function Di(t,e){if(!t||!t.length)return[];var n=Ii(t);return null==e?n:Ha(n,function(t){return Da(e,ns,t)})}var Ni=ke(function(t,e){return ko(t)?Lt(t,e):[]}),Fi=ke(function(t){return He(Ra(t,ko))}),zi=ke(function(t){var e=Si(t);return ko(e)&&(e=ns),He(Ra(t,ko),Fn(e,2))}),Li=ke(function(t){var e=Si(t);return e="function"==typeof e?e:ns,He(Ra(t,ko),ns,e)}),Ri=ke(Ii);var Wi=ke(function(t){var e=t.length,n=1<e?t[e-1]:ns;return n="function"==typeof n?(t.pop(),n):ns,Di(t,n)});function Bi(t){var e=pt(t);return e.__chain__=!0,e}function Hi(t,e){return e(t)}var Ui=Tn(function(e){var n=e.length,t=n?e[0]:0,i=this.__wrapped__,o=function(t){return It(t,e)};return!(1<n||this.__actions__.length)&&i instanceof yt&&Yn(t)?((i=i.slice(t,+t+(n?1:0))).__actions__.push({func:Hi,args:[o],thisArg:ns}),new vt(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(ns),t})):this.thru(o)});var qi=sn(function(t,e,n){$.call(t,n)?++t[n]:jt(t,n,1)});var Vi=fn(bi),Yi=fn(_i);function Gi(t,e){return(wo(t)?Fa:Rt)(t,Fn(e,3))}function Qi(t,e){return(wo(t)?za:Wt)(t,Fn(e,3))}var Ki=sn(function(t,e,n){$.call(t,n)?t[n].push(e):jt(t,n,[e])});var Xi=ke(function(t,e,n){var i=-1,o="function"==typeof e,r=Co(t)?O(t.length):[];return Rt(t,function(t){r[++i]=o?Da(e,t,n):oe(t,e,n)}),r}),Zi=sn(function(t,e,n){jt(t,n,e)});function Ji(t,e){return(wo(t)?Ha:fe)(t,Fn(e,3))}var to=sn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var eo=ke(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Gn(t,e[0],e[1])?e=[]:2<n&&Gn(e[0],e[1],e[2])&&(e=[e[0]]),ye(t,qt(e,1),[])}),no=F||function(){return Ea.Date.now()};function io(t,e,n){return e=n?ns:e,e=t&&null==e?t.length:e,Sn(t,ss,ns,ns,ns,ns,e)}function oo(t,e){var n;if("function"!=typeof e)throw new M(is);return t=qo(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=ns),n}}var ro=ke(function(t,e,n){var i=1;if(n.length){var o=gl(n,Nn(ro));i|=32}return Sn(t,i,e,n,o)}),so=ke(function(t,e,n){var i=3;if(n.length){var o=gl(n,Nn(so));i|=32}return Sn(e,i,t,n,o)});function ao(i,o,t){var r,s,a,l,c,u,h=0,d=!1,f=!1,e=!0;if("function"!=typeof i)throw new M(is);function p(t){var e=r,n=s;return r=s=ns,h=t,l=i.apply(n,e)}function g(t){var e=t-u;return u===ns||o<=e||e<0||f&&a<=t-h}function m(){var t,e,n=no();if(g(n))return v(n);c=ri(m,(e=o-((t=n)-u),f?Y(e,a-(t-h)):e))}function v(t){return c=ns,e&&r?p(t):(r=s=ns,l)}function n(){var t,e=no(),n=g(e);if(r=arguments,s=this,u=e,n){if(c===ns)return h=t=u,c=ri(m,o),d?p(t):l;if(f)return c=ri(m,o),p(u)}return c===ns&&(c=ri(m,o)),l}return o=Yo(o)||0,To(t)&&(d=!!t.leading,a=(f="maxWait"in t)?V(Yo(t.maxWait)||0,o):a,e="trailing"in t?!!t.trailing:e),n.cancel=function(){c!==ns&&Ke(c),h=0,r=u=s=c=ns},n.flush=function(){return c===ns?l:v(no())},n}var lo=ke(function(t,e){return zt(t,1,e)}),co=ke(function(t,e,n){return zt(t,Yo(e)||0,n)});function uo(r,s){if("function"!=typeof r||null!=s&&"function"!=typeof s)throw new M(is);var t=function t(){var e=arguments,n=s?s.apply(this,e):e[0],i=t.cache;if(i.has(n))return i.get(n);var o=r.apply(this,e);return t.cache=i.set(n,o)||i,o};return t.cache=new(uo.Cache||wt),t}function ho(e){if("function"!=typeof e)throw new M(is);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}uo.Cache=wt;var fo=Ge(function(i,o){var r=(o=1==o.length&&wo(o[0])?Ha(o[0],ol(Fn())):Ha(qt(o,1),ol(Fn()))).length;return ke(function(t){for(var e=-1,n=Y(t.length,r);++e<n;)t[e]=o[e].call(this,t[e]);return Da(i,this,t)})}),po=ke(function(t,e){var n=gl(e,Nn(po));return Sn(t,32,ns,e,n)}),go=ke(function(t,e){var n=gl(e,Nn(go));return Sn(t,64,ns,e,n)}),mo=Tn(function(t,e){return Sn(t,256,ns,ns,ns,e)});function vo(t,e){return t===e||t!=t&&e!=e}var yo=wn(te),bo=wn(function(t,e){return e<=t}),_o=re(function(){return arguments}())?re:function(t){return Po(t)&&$.call(t,"callee")&&!A.call(t,"callee")},wo=O.isArray,xo=Ma?ol(Ma):function(t){return Po(t)&&Jt(t)==Es};function Co(t){return null!=t&&Ao(t.length)&&!Oo(t)}function ko(t){return Po(t)&&Co(t)}var $o=B||Yr,So=Aa?ol(Aa):function(t){return Po(t)&&Jt(t)==ps};function Eo(t){if(!Po(t))return!1;var e=Jt(t);return e==gs||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Do(t)}function Oo(t){if(!To(t))return!1;var e=Jt(t);return e==ms||e==vs||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Mo(t){return"number"==typeof t&&t==qo(t)}function Ao(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=as}function To(t){var e=_typeof(t);return null!=t&&("object"==e||"function"==e)}function Po(t){return null!=t&&"object"==_typeof(t)}var jo=Ta?ol(Ta):function(t){return Po(t)&&Hn(t)==ys};function Io(t){return"number"==typeof t||Po(t)&&Jt(t)==bs}function Do(t){if(!Po(t)||Jt(t)!=_s)return!1;var e=S(t);if(null===e)return!0;var n=$.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==g}var No=Pa?ol(Pa):function(t){return Po(t)&&Jt(t)==xs};var Fo=ja?ol(ja):function(t){return Po(t)&&Hn(t)==Cs};function zo(t){return"string"==typeof t||!wo(t)&&Po(t)&&Jt(t)==ks}function Lo(t){return"symbol"==_typeof(t)||Po(t)&&Jt(t)==$s}var Ro=Ia?ol(Ia):function(t){return Po(t)&&Ao(t.length)&&!!Ca[Jt(t)]};var Wo=wn(de),Bo=wn(function(t,e){return t<=e});function Ho(t){if(!t)return[];if(Co(t))return zo(t)?yl(t):on(t);if(j&&t[j])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[j]());var e=Hn(t);return(e==ys?fl:e==Cs?ml:vr)(t)}function Uo(t){return t?(t=Yo(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function qo(t){var e=Uo(t),n=e%1;return e==e?n?e-n:e:0}function Vo(t){return t?Dt(qo(t),0,cs):0}function Yo(t){if("number"==typeof t)return t;if(Lo(t))return ls;if(To(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=To(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Js,"");var n=ua.test(t);return n||da.test(t)?Sa(t.slice(2),n?2:8):ca.test(t)?ls:+t}function Go(t){return rn(t,cr(t))}function Qo(t){return null==t?"":Fe(t)}var Ko=an(function(t,e){if(Zn(e)||Co(e))rn(e,lr(e),t);else for(var n in e)$.call(e,n)&&Mt(t,n,e[n])}),Xo=an(function(t,e){rn(e,cr(e),t)}),Zo=an(function(t,e,n,i){rn(e,cr(e),t,i)}),Jo=an(function(t,e,n,i){rn(e,lr(e),t,i)}),tr=Tn(It);var er=ke(function(t,e){t=k(t);var n=-1,i=e.length,o=2<i?e[2]:ns;for(o&&Gn(e[0],e[1],o)&&(i=1);++n<i;)for(var r=e[n],s=cr(r),a=-1,l=s.length;++a<l;){var c=s[a],u=t[c];(u===ns||vo(u,h[c])&&!$.call(t,c))&&(t[c]=r[c])}return t}),nr=ke(function(t){return t.push(ns,On),Da(hr,ns,t)});function ir(t,e,n){var i=null==t?ns:Xt(t,e);return i===ns?n:i}function or(t,e){return null!=t&&Un(t,e,ne)}var rr=mn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=p.call(e)),t[e]=n},Tr(Ir)),sr=mn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=p.call(e)),$.call(t,e)?t[e].push(n):t[e]=[n]},Fn),ar=ke(oe);function lr(t){return Co(t)?kt(t):ue(t)}function cr(t){return Co(t)?kt(t,!0):he(t)}var ur=an(function(t,e,n){me(t,e,n)}),hr=an(function(t,e,n,i){me(t,e,n,i)}),dr=Tn(function(e,t){var n={};if(null==e)return n;var i=!1;t=Ha(t,function(t){return t=Ye(t,e),i||(i=1<t.length),t}),rn(e,jn(e),n),i&&(n=Nt(n,7,Mn));for(var o=t.length;o--;)Le(n,t[o]);return n});var fr=Tn(function(t,e){return null==t?{}:be(n=t,e,function(t,e){return or(n,e)});var n});function pr(t,n){if(null==t)return{};var e=Ha(jn(t),function(t){return[t]});return n=Fn(n),be(t,e,function(t,e){return n(t,e[0])})}var gr=$n(lr),mr=$n(cr);function vr(t){return null==t?[]:rl(t,lr(t))}var yr=hn(function(t,e,n){return e=e.toLowerCase(),t+(n?br(e):e)});function br(t){return Er(Qo(t).toLowerCase())}function _r(t){return(t=Qo(t))&&t.replace(pa,cl).replace(ya,"")}var wr=hn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),xr=hn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Cr=un("toLowerCase");var kr=hn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var $r=hn(function(t,e,n){return t+(n?" ":"")+Er(e)});var Sr=hn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Er=un("toUpperCase");function Or(t,e,n){return t=Qo(t),(e=n?ns:e)===ns?(i=t,_a.test(i)?t.match(ba)||[]:t.match(ra)||[]):t.match(e)||[];var i}var Mr=ke(function(t,e){try{return Da(t,ns,e)}catch(t){return Eo(t)?t:new o(t)}}),Ar=Tn(function(e,t){return Fa(t,function(t){t=fi(t),jt(e,t,ro(e[t],e))}),e});function Tr(t){return function(){return t}}var Pr=pn(),jr=pn(!0);function Ir(t){return t}function Dr(t){return ce("function"==typeof t?t:Nt(t,1))}var Nr=ke(function(e,n){return function(t){return oe(t,e,n)}}),Fr=ke(function(e,n){return function(t){return oe(e,t,n)}});function zr(i,e,t){var n=lr(e),o=Kt(e,n);null!=t||To(e)&&(o.length||!n.length)||(t=e,e=i,i=this,o=Kt(e,lr(e)));var r=!(To(t)&&"chain"in t&&!t.chain),s=Oo(i);return Fa(o,function(t){var n=e[t];i[t]=n,s&&(i.prototype[t]=function(){var t=this.__chain__;if(r||t){var e=i(this.__wrapped__);return(e.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e}return n.apply(i,Ua([this.value()],arguments))})}),i}function Lr(){}var Rr=yn(Ha),Wr=yn(La),Br=yn(Ya);function Hr(t){return Qn(t)?tl(fi(t)):(e=t,function(t){return Xt(t,e)});var e}var Ur=_n(),qr=_n(!0);function Vr(){return[]}function Yr(){return!1}var Gr=vn(function(t,e){return t+e},0),Qr=Cn("ceil"),Kr=vn(function(t,e){return t/e},1),Xr=Cn("floor");var Zr,Jr=vn(function(t,e){return t*e},1),ts=Cn("round"),es=vn(function(t,e){return t-e},0);return pt.after=function(t,e){if("function"!=typeof e)throw new M(is);return t=qo(t),function(){if(--t<1)return e.apply(this,arguments)}},pt.ary=io,pt.assign=Ko,pt.assignIn=Xo,pt.assignInWith=Zo,pt.assignWith=Jo,pt.at=tr,pt.before=oo,pt.bind=ro,pt.bindAll=Ar,pt.bindKey=so,pt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return wo(t)?t:[t]},pt.chain=Bi,pt.chunk=function(t,e,n){e=(n?Gn(t,e,n):e===ns)?1:V(qo(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,r=0,s=O(L(i/e));o<i;)s[r++]=Te(t,o,o+=e);return s},pt.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,o=[];++e<n;){var r=t[e];r&&(o[i++]=r)}return o},pt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=O(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ua(wo(n)?on(n):[n],qt(e,1))},pt.cond=function(i){var o=null==i?0:i.length,e=Fn();return i=o?Ha(i,function(t){if("function"!=typeof t[1])throw new M(is);return[e(t[0]),t[1]]}):[],ke(function(t){for(var e=-1;++e<o;){var n=i[e];if(Da(n[0],this,t))return Da(n[1],this,t)}})},pt.conforms=function(t){return e=Nt(t,1),n=lr(e),function(t){return Ft(t,e,n)};var e,n},pt.constant=Tr,pt.countBy=qi,pt.create=function(t,e){var n=gt(t);return null==e?n:Pt(n,e)},pt.curry=function t(e,n,i){var o=Sn(e,8,ns,ns,ns,ns,ns,n=i?ns:n);return o.placeholder=t.placeholder,o},pt.curryRight=function t(e,n,i){var o=Sn(e,16,ns,ns,ns,ns,ns,n=i?ns:n);return o.placeholder=t.placeholder,o},pt.debounce=ao,pt.defaults=er,pt.defaultsDeep=nr,pt.defer=lo,pt.delay=co,pt.difference=mi,pt.differenceBy=vi,pt.differenceWith=yi,pt.drop=function(t,e,n){var i=null==t?0:t.length;return i?Te(t,(e=n||e===ns?1:qo(e))<0?0:e,i):[]},pt.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Te(t,0,(e=i-(e=n||e===ns?1:qo(e)))<0?0:e):[]},pt.dropRightWhile=function(t,e){return t&&t.length?We(t,Fn(e,3),!0,!0):[]},pt.dropWhile=function(t,e){return t&&t.length?We(t,Fn(e,3),!0):[]},pt.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Gn(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=qo(n))<0&&(n=o<-n?0:o+n),(i=i===ns||o<i?o:qo(i))<0&&(i+=o),i=i<n?0:Vo(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},pt.filter=function(t,e){return(wo(t)?Ra:Ut)(t,Fn(e,3))},pt.flatMap=function(t,e){return qt(Ji(t,e),1)},pt.flatMapDeep=function(t,e){return qt(Ji(t,e),1/0)},pt.flatMapDepth=function(t,e,n){return n=n===ns?1:qo(n),qt(Ji(t,e),n)},pt.flatten=wi,pt.flattenDeep=function(t){return null!=t&&t.length?qt(t,1/0):[]},pt.flattenDepth=function(t,e){return null!=t&&t.length?qt(t,e=e===ns?1:qo(e)):[]},pt.flip=function(t){return Sn(t,512)},pt.flow=Pr,pt.flowRight=jr,pt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i},pt.functions=function(t){return null==t?[]:Kt(t,lr(t))},pt.functionsIn=function(t){return null==t?[]:Kt(t,cr(t))},pt.groupBy=Ki,pt.initial=function(t){return null!=t&&t.length?Te(t,0,-1):[]},pt.intersection=Ci,pt.intersectionBy=ki,pt.intersectionWith=$i,pt.invert=rr,pt.invertBy=sr,pt.invokeMap=Xi,pt.iteratee=Dr,pt.keyBy=Zi,pt.keys=lr,pt.keysIn=cr,pt.map=Ji,pt.mapKeys=function(t,i){var o={};return i=Fn(i,3),Gt(t,function(t,e,n){jt(o,i(t,e,n),t)}),o},pt.mapValues=function(t,i){var o={};return i=Fn(i,3),Gt(t,function(t,e,n){jt(o,e,i(t,e,n))}),o},pt.matches=function(t){return pe(Nt(t,1))},pt.matchesProperty=function(t,e){return ge(t,Nt(e,1))},pt.memoize=uo,pt.merge=ur,pt.mergeWith=hr,pt.method=Nr,pt.methodOf=Fr,pt.mixin=zr,pt.negate=ho,pt.nthArg=function(e){return e=qo(e),ke(function(t){return ve(t,e)})},pt.omit=dr,pt.omitBy=function(t,e){return pr(t,ho(Fn(e)))},pt.once=function(t){return oo(2,t)},pt.orderBy=function(t,e,n,i){return null==t?[]:(wo(e)||(e=null==e?[]:[e]),wo(n=i?ns:n)||(n=null==n?[]:[n]),ye(t,e,n))},pt.over=Rr,pt.overArgs=fo,pt.overEvery=Wr,pt.overSome=Br,pt.partial=po,pt.partialRight=go,pt.partition=to,pt.pick=fr,pt.pickBy=pr,pt.property=Hr,pt.propertyOf=function(e){return function(t){return null==e?ns:Xt(e,t)}},pt.pull=Ei,pt.pullAll=Oi,pt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?_e(t,e,Fn(n,2)):t},pt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?_e(t,e,ns,n):t},pt.pullAt=Mi,pt.range=Ur,pt.rangeRight=qr,pt.rearg=mo,pt.reject=function(t,e){return(wo(t)?Ra:Ut)(t,ho(Fn(e,3)))},pt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,o=[],r=t.length;for(e=Fn(e,3);++i<r;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return we(t,o),n},pt.rest=function(t,e){if("function"!=typeof t)throw new M(is);return ke(t,e=e===ns?e:qo(e))},pt.reverse=Ai,pt.sampleSize=function(t,e,n){return e=(n?Gn(t,e,n):e===ns)?1:qo(e),(wo(t)?St:Se)(t,e)},pt.set=function(t,e,n){return null==t?t:Ee(t,e,n)},pt.setWith=function(t,e,n,i){return i="function"==typeof i?i:ns,null==t?t:Ee(t,e,n,i)},pt.shuffle=function(t){return(wo(t)?Et:Ae)(t)},pt.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n=n&&"number"!=typeof n&&Gn(t,e,n)?(e=0,i):(e=null==e?0:qo(e),n===ns?i:qo(n)),Te(t,e,n)):[]},pt.sortBy=eo,pt.sortedUniq=function(t){return t&&t.length?De(t):[]},pt.sortedUniqBy=function(t,e){return t&&t.length?De(t,Fn(e,2)):[]},pt.split=function(t,e,n){return n&&"number"!=typeof n&&Gn(t,e,n)&&(e=n=ns),(n=n===ns?cs:n>>>0)?(t=Qo(t))&&("string"==typeof e||null!=e&&!No(e))&&!(e=Fe(e))&&dl(t)?Qe(yl(t),0,n):t.split(e,n):[]},pt.spread=function(i,o){if("function"!=typeof i)throw new M(is);return o=null==o?0:V(qo(o),0),ke(function(t){var e=t[o],n=Qe(t,0,o);return e&&Ua(n,e),Da(i,this,n)})},pt.tail=function(t){var e=null==t?0:t.length;return e?Te(t,1,e):[]},pt.take=function(t,e,n){return t&&t.length?Te(t,0,(e=n||e===ns?1:qo(e))<0?0:e):[]},pt.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Te(t,(e=i-(e=n||e===ns?1:qo(e)))<0?0:e,i):[]},pt.takeRightWhile=function(t,e){return t&&t.length?We(t,Fn(e,3),!1,!0):[]},pt.takeWhile=function(t,e){return t&&t.length?We(t,Fn(e,3)):[]},pt.tap=function(t,e){return e(t),t},pt.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new M(is);return To(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ao(t,e,{leading:i,maxWait:e,trailing:o})},pt.thru=Hi,pt.toArray=Ho,pt.toPairs=gr,pt.toPairsIn=mr,pt.toPath=function(t){return wo(t)?Ha(t,fi):Lo(t)?[t]:on(di(Qo(t)))},pt.toPlainObject=Go,pt.transform=function(t,i,o){var e=wo(t),n=e||$o(t)||Ro(t);if(i=Fn(i,4),null==o){var r=t&&t.constructor;o=n?e?new r:[]:To(t)&&Oo(r)?gt(S(t)):{}}return(n?Fa:Gt)(t,function(t,e,n){return i(o,t,e,n)}),o},pt.unary=function(t){return io(t,1)},pt.union=Ti,pt.unionBy=Pi,pt.unionWith=ji,pt.uniq=function(t){return t&&t.length?ze(t):[]},pt.uniqBy=function(t,e){return t&&t.length?ze(t,Fn(e,2)):[]},pt.uniqWith=function(t,e){return e="function"==typeof e?e:ns,t&&t.length?ze(t,ns,e):[]},pt.unset=function(t,e){return null==t||Le(t,e)},pt.unzip=Ii,pt.unzipWith=Di,pt.update=function(t,e,n){return null==t?t:Re(t,e,Ve(n))},pt.updateWith=function(t,e,n,i){return i="function"==typeof i?i:ns,null==t?t:Re(t,e,Ve(n),i)},pt.values=vr,pt.valuesIn=function(t){return null==t?[]:rl(t,cr(t))},pt.without=Ni,pt.words=Or,pt.wrap=function(t,e){return po(Ve(e),t)},pt.xor=Fi,pt.xorBy=zi,pt.xorWith=Li,pt.zip=Ri,pt.zipObject=function(t,e){return Ue(t||[],e||[],Mt)},pt.zipObjectDeep=function(t,e){return Ue(t||[],e||[],Ee)},pt.zipWith=Wi,pt.entries=gr,pt.entriesIn=mr,pt.extend=Xo,pt.extendWith=Zo,zr(pt,pt),pt.add=Gr,pt.attempt=Mr,pt.camelCase=yr,pt.capitalize=br,pt.ceil=Qr,pt.clamp=function(t,e,n){return n===ns&&(n=e,e=ns),n!==ns&&(n=(n=Yo(n))==n?n:0),e!==ns&&(e=(e=Yo(e))==e?e:0),Dt(Yo(t),e,n)},pt.clone=function(t){return Nt(t,4)},pt.cloneDeep=function(t){return Nt(t,5)},pt.cloneDeepWith=function(t,e){return Nt(t,5,e="function"==typeof e?e:ns)},pt.cloneWith=function(t,e){return Nt(t,4,e="function"==typeof e?e:ns)},pt.conformsTo=function(t,e){return null==e||Ft(t,e,lr(e))},pt.deburr=_r,pt.defaultTo=function(t,e){return null==t||t!=t?e:t},pt.divide=Kr,pt.endsWith=function(t,e,n){t=Qo(t),e=Fe(e);var i=t.length,o=n=n===ns?i:Dt(qo(n),0,i);return 0<=(n-=e.length)&&t.slice(n,o)==e},pt.eq=vo,pt.escape=function(t){return(t=Qo(t))&&Us.test(t)?t.replace(Bs,ul):t},pt.escapeRegExp=function(t){return(t=Qo(t))&&Zs.test(t)?t.replace(Xs,"\\$&"):t},pt.every=function(t,e,n){var i=wo(t)?La:Bt;return n&&Gn(t,e,n)&&(e=ns),i(t,Fn(e,3))},pt.find=Vi,pt.findIndex=bi,pt.findKey=function(t,e){return Ga(t,Fn(e,3),Gt)},pt.findLast=Yi,pt.findLastIndex=_i,pt.findLastKey=function(t,e){return Ga(t,Fn(e,3),Qt)},pt.floor=Xr,pt.forEach=Gi,pt.forEachRight=Qi,pt.forIn=function(t,e){return null==t?t:Vt(t,Fn(e,3),cr)},pt.forInRight=function(t,e){return null==t?t:Yt(t,Fn(e,3),cr)},pt.forOwn=function(t,e){return t&&Gt(t,Fn(e,3))},pt.forOwnRight=function(t,e){return t&&Qt(t,Fn(e,3))},pt.get=ir,pt.gt=yo,pt.gte=bo,pt.has=function(t,e){return null!=t&&Un(t,e,ee)},pt.hasIn=or,pt.head=xi,pt.identity=Ir,pt.includes=function(t,e,n,i){t=Co(t)?t:vr(t),n=n&&!i?qo(n):0;var o=t.length;return n<0&&(n=V(o+n,0)),zo(t)?n<=o&&-1<t.indexOf(e,n):!!o&&-1<Ka(t,e,n)},pt.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:qo(n);return o<0&&(o=V(i+o,0)),Ka(t,e,o)},pt.inRange=function(t,e,n){return e=Uo(e),n===ns?(n=e,e=0):n=Uo(n),t=Yo(t),(i=t)>=Y(o=e,r=n)&&i<V(o,r);var i,o,r},pt.invoke=ar,pt.isArguments=_o,pt.isArray=wo,pt.isArrayBuffer=xo,pt.isArrayLike=Co,pt.isArrayLikeObject=ko,pt.isBoolean=function(t){return!0===t||!1===t||Po(t)&&Jt(t)==fs},pt.isBuffer=$o,pt.isDate=So,pt.isElement=function(t){return Po(t)&&1===t.nodeType&&!Do(t)},pt.isEmpty=function(t){if(null==t)return!0;if(Co(t)&&(wo(t)||"string"==typeof t||"function"==typeof t.splice||$o(t)||Ro(t)||_o(t)))return!t.length;var e=Hn(t);if(e==ys||e==Cs)return!t.size;if(Zn(t))return!ue(t).length;for(var n in t)if($.call(t,n))return!1;return!0},pt.isEqual=function(t,e){return se(t,e)},pt.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:ns)?n(t,e):ns;return i===ns?se(t,e,ns,n):!!i},pt.isError=Eo,pt.isFinite=function(t){return"number"==typeof t&&H(t)},pt.isFunction=Oo,pt.isInteger=Mo,pt.isLength=Ao,pt.isMap=jo,pt.isMatch=function(t,e){return t===e||ae(t,e,Ln(e))},pt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:ns,ae(t,e,Ln(e),n)},pt.isNaN=function(t){return Io(t)&&t!=+t},pt.isNative=function(t){if(Xn(t))throw new o("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return le(t)},pt.isNil=function(t){return null==t},pt.isNull=function(t){return null===t},pt.isNumber=Io,pt.isObject=To,pt.isObjectLike=Po,pt.isPlainObject=Do,pt.isRegExp=No,pt.isSafeInteger=function(t){return Mo(t)&&-as<=t&&t<=as},pt.isSet=Fo,pt.isString=zo,pt.isSymbol=Lo,pt.isTypedArray=Ro,pt.isUndefined=function(t){return t===ns},pt.isWeakMap=function(t){return Po(t)&&Hn(t)==Ss},pt.isWeakSet=function(t){return Po(t)&&"[object WeakSet]"==Jt(t)},pt.join=function(t,e){return null==t?"":U.call(t,e)},pt.kebabCase=wr,pt.last=Si,pt.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==ns&&(o=(o=qo(n))<0?V(i+o,0):Y(o,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):Qa(t,Za,o,!0)},pt.lowerCase=xr,pt.lowerFirst=Cr,pt.lt=Wo,pt.lte=Bo,pt.max=function(t){return t&&t.length?Ht(t,Ir,te):ns},pt.maxBy=function(t,e){return t&&t.length?Ht(t,Fn(e,2),te):ns},pt.mean=function(t){return Ja(t,Ir)},pt.meanBy=function(t,e){return Ja(t,Fn(e,2))},pt.min=function(t){return t&&t.length?Ht(t,Ir,de):ns},pt.minBy=function(t,e){return t&&t.length?Ht(t,Fn(e,2),de):ns},pt.stubArray=Vr,pt.stubFalse=Yr,pt.stubObject=function(){return{}},pt.stubString=function(){return""},pt.stubTrue=function(){return!0},pt.multiply=Jr,pt.nth=function(t,e){return t&&t.length?ve(t,qo(e)):ns},pt.noConflict=function(){return Ea._===this&&(Ea._=y),this},pt.noop=Lr,pt.now=no,pt.pad=function(t,e,n){t=Qo(t);var i=(e=qo(e))?vl(t):0;if(!e||e<=i)return t;var o=(e-i)/2;return bn(R(o),n)+t+bn(L(o),n)},pt.padEnd=function(t,e,n){t=Qo(t);var i=(e=qo(e))?vl(t):0;return e&&i<e?t+bn(e-i,n):t},pt.padStart=function(t,e,n){t=Qo(t);var i=(e=qo(e))?vl(t):0;return e&&i<e?bn(e-i,n)+t:t},pt.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Q(Qo(t).replace(ta,""),e||0)},pt.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Gn(t,e,n)&&(e=n=ns),n===ns&&("boolean"==typeof e?(n=e,e=ns):"boolean"==typeof t&&(n=t,t=ns)),t===ns&&e===ns?(t=0,e=1):(t=Uo(t),e===ns?(e=t,t=0):e=Uo(e)),e<t){var i=t;t=e,e=i}if(n||t%1||e%1){var o=K();return Y(t+o*(e-t+$a("1e-"+((o+"").length-1))),e)}return xe(t,e)},pt.reduce=function(t,e,n){var i=wo(t)?qa:el,o=arguments.length<3;return i(t,Fn(e,4),n,o,Rt)},pt.reduceRight=function(t,e,n){var i=wo(t)?Va:el,o=arguments.length<3;return i(t,Fn(e,4),n,o,Wt)},pt.repeat=function(t,e,n){return e=(n?Gn(t,e,n):e===ns)?1:qo(e),Ce(Qo(t),e)},pt.replace=function(){var t=arguments,e=Qo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pt.result=function(t,e,n){var i=-1,o=(e=Ye(e,t)).length;for(o||(o=1,t=ns);++i<o;){var r=null==t?ns:t[fi(e[i])];r===ns&&(i=o,r=n),t=Oo(r)?r.call(t):r}return t},pt.round=ts,pt.runInContext=t,pt.sample=function(t){return(wo(t)?$t:$e)(t)},pt.size=function(t){if(null==t)return 0;if(Co(t))return zo(t)?vl(t):t.length;var e=Hn(t);return e==ys||e==Cs?t.size:ue(t).length},pt.snakeCase=kr,pt.some=function(t,e,n){var i=wo(t)?Ya:Pe;return n&&Gn(t,e,n)&&(e=ns),i(t,Fn(e,3))},pt.sortedIndex=function(t,e){return je(t,e)},pt.sortedIndexBy=function(t,e,n){return Ie(t,e,Fn(n,2))},pt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=je(t,e);if(i<n&&vo(t[i],e))return i}return-1},pt.sortedLastIndex=function(t,e){return je(t,e,!0)},pt.sortedLastIndexBy=function(t,e,n){return Ie(t,e,Fn(n,2),!0)},pt.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=je(t,e,!0)-1;if(vo(t[n],e))return n}return-1},pt.startCase=$r,pt.startsWith=function(t,e,n){return t=Qo(t),n=null==n?0:Dt(qo(n),0,t.length),e=Fe(e),t.slice(n,n+e.length)==e},pt.subtract=es,pt.sum=function(t){return t&&t.length?nl(t,Ir):0},pt.sumBy=function(t,e){return t&&t.length?nl(t,Fn(e,2)):0},pt.template=function(s,t,e){var n=pt.templateSettings;e&&Gn(s,t,e)&&(t=ns),s=Qo(s),t=Zo({},t,n,En);var a,l,i=Zo({},t.imports,n.imports,En),o=lr(i),r=rl(i,o),c=0,u=t.interpolate||ga,h="__p += '",d=v((t.escape||ga).source+"|"+u.source+"|"+(u===Ys?aa:ga).source+"|"+(t.evaluate||ga).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++xa+"]")+"\n";s.replace(d,function(t,e,n,i,o,r){return n||(n=i),h+=s.slice(c,r).replace(ma,hl),e&&(a=!0,h+="' +\n__e("+e+") +\n'"),o&&(l=!0,h+="';\n"+o+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=r+t.length,t}),h+="';\n";var p=t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(l?h.replace(zs,""):h).replace(Ls,"$1").replace(Rs,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Mr(function(){return m(o,f+"return "+h).apply(ns,r)});if(g.source=h,Eo(g))throw g;return g},pt.times=function(t,e){if((t=qo(t))<1||as<t)return[];var n=cs,i=Y(t,cs);e=Fn(e),t-=cs;for(var o=il(i,e);++n<t;)e(n);return o},pt.toFinite=Uo,pt.toInteger=qo,pt.toLength=Vo,pt.toLower=function(t){return Qo(t).toLowerCase()},pt.toNumber=Yo,pt.toSafeInteger=function(t){return t?Dt(qo(t),-as,as):0===t?t:0},pt.toString=Qo,pt.toUpper=function(t){return Qo(t).toUpperCase()},pt.trim=function(t,e,n){if((t=Qo(t))&&(n||e===ns))return t.replace(Js,"");if(!t||!(e=Fe(e)))return t;var i=yl(t),o=yl(e);return Qe(i,al(i,o),ll(i,o)+1).join("")},pt.trimEnd=function(t,e,n){if((t=Qo(t))&&(n||e===ns))return t.replace(ea,"");if(!t||!(e=Fe(e)))return t;var i=yl(t);return Qe(i,0,ll(i,yl(e))+1).join("")},pt.trimStart=function(t,e,n){if((t=Qo(t))&&(n||e===ns))return t.replace(ta,"");if(!t||!(e=Fe(e)))return t;var i=yl(t);return Qe(i,al(i,yl(e))).join("")},pt.truncate=function(t,e){var n=30,i="...";if(To(e)){var o="separator"in e?e.separator:o;n="length"in e?qo(e.length):n,i="omission"in e?Fe(e.omission):i}var r=(t=Qo(t)).length;if(dl(t)){var s=yl(t);r=s.length}if(r<=n)return t;var a=n-vl(i);if(a<1)return i;var l=s?Qe(s,0,a).join(""):t.slice(0,a);if(o===ns)return l+i;if(s&&(a+=l.length-a),No(o)){if(t.slice(a).search(o)){var c,u=l;for(o.global||(o=v(o.source,Qo(la.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var h=c.index;l=l.slice(0,h===ns?a:h)}}else if(t.indexOf(Fe(o),a)!=a){var d=l.lastIndexOf(o);-1<d&&(l=l.slice(0,d))}return l+i},pt.unescape=function(t){return(t=Qo(t))&&Hs.test(t)?t.replace(Ws,bl):t},pt.uniqueId=function(t){var e=++d;return Qo(t)+e},pt.upperCase=Sr,pt.upperFirst=Er,pt.each=Gi,pt.eachRight=Qi,pt.first=xi,zr(pt,(Zr={},Gt(pt,function(t,e){$.call(pt.prototype,e)||(Zr[e]=t)}),Zr),{chain:!1}),pt.VERSION="4.17.11",Fa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pt[t].placeholder=pt}),Fa(["drop","take"],function(n,i){yt.prototype[n]=function(t){t=t===ns?1:V(qo(t),0);var e=this.__filtered__&&!i?new yt(this):this.clone();return e.__filtered__?e.__takeCount__=Y(t,e.__takeCount__):e.__views__.push({size:Y(t,cs),type:n+(e.__dir__<0?"Right":"")}),e},yt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Fa(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;yt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Fn(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Fa(["head","last"],function(t,e){var n="take"+(e?"Right":"");yt.prototype[t]=function(){return this[n](1).value()[0]}}),Fa(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");yt.prototype[t]=function(){return this.__filtered__?new yt(this):this[n](1)}}),yt.prototype.compact=function(){return this.filter(Ir)},yt.prototype.find=function(t){return this.filter(t).head()},yt.prototype.findLast=function(t){return this.reverse().find(t)},yt.prototype.invokeMap=ke(function(e,n){return"function"==typeof e?new yt(this):this.map(function(t){return oe(t,e,n)})}),yt.prototype.reject=function(t){return this.filter(ho(Fn(t)))},yt.prototype.slice=function(t,e){t=qo(t);var n=this;return n.__filtered__&&(0<t||e<0)?new yt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==ns&&(n=(e=qo(e))<0?n.dropRight(-e):n.take(e-t)),n)},yt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yt.prototype.toArray=function(){return this.take(cs)},Gt(yt.prototype,function(h,t){var d=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),p=pt[f?"take"+("last"==t?"Right":""):t],g=f||/^find/.test(t);p&&(pt.prototype[t]=function(){var t=this.__wrapped__,n=f?[1]:arguments,e=t instanceof yt,i=n[0],o=e||wo(t),r=function(t){var e=p.apply(pt,Ua([t],n));return f&&s?e[0]:e};o&&d&&"function"==typeof i&&1!=i.length&&(e=o=!1);var s=this.__chain__,a=!!this.__actions__.length,l=g&&!s,c=e&&!a;if(g||!o)return l&&c?h.apply(this,n):(u=this.thru(r),l?f?u.value()[0]:u.value():u);t=c?t:new yt(this);var u=h.apply(t,n);return u.__actions__.push({func:Hi,args:[r],thisArg:ns}),new vt(u,s)})}),Fa(["pop","push","shift","sort","splice","unshift"],function(t){var n=s[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);pt.prototype[t]=function(){var e=arguments;if(!o||this.__chain__)return this[i](function(t){return n.apply(wo(t)?t:[],e)});var t=this.value();return n.apply(wo(t)?t:[],e)}}),Gt(yt.prototype,function(t,e){var n=pt[e];if(n){var i=n.name+"";(rt[i]||(rt[i]=[])).push({name:e,func:n})}}),rt[gn(ns,2).name]=[{name:"wrapper",func:ns}],yt.prototype.clone=function(){var t=new yt(this.__wrapped__);return t.__actions__=on(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=on(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=on(this.__views__),t},yt.prototype.reverse=function(){if(this.__filtered__){var t=new yt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=wo(t),i=e<0,o=n?t.length:0,r=function(t,e,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Y(e,t+s);break;case"takeRight":t=V(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=r.start,a=r.end,l=a-s,c=i?a:s-1,u=this.__iteratees__,h=u.length,d=0,f=Y(l,this.__takeCount__);if(!n||!i&&o==l&&f==l)return Be(t,this.__actions__);var p=[];t:for(;l--&&d<f;){for(var g=-1,m=t[c+=e];++g<h;){var v=u[g],y=v.iteratee,b=v.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue t;break t}}p[d++]=m}return p},pt.prototype.at=Ui,pt.prototype.chain=function(){return Bi(this)},pt.prototype.commit=function(){return new vt(this.value(),this.__chain__)},pt.prototype.next=function(){this.__values__===ns&&(this.__values__=Ho(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ns:this.__values__[this.__index__++]}},pt.prototype.plant=function(t){for(var e,n=this;n instanceof mt;){var i=gi(n);i.__index__=0,i.__values__=ns,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},pt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yt){var e=t;return this.__actions__.length&&(e=new yt(this)),(e=e.reverse()).__actions__.push({func:Hi,args:[Ai],thisArg:ns}),new vt(e,this.__chain__)}return this.thru(Ai)},pt.prototype.toJSON=pt.prototype.valueOf=pt.prototype.value=function(){return Be(this.__wrapped__,this.__actions__)},pt.prototype.first=pt.prototype.head,j&&(pt.prototype[j]=function(){return this}),pt}();"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?(Ea._=_l,define(function(){return _l})):N?((N.exports=_l)._=_l,D._=_l):Ea._=_l}.call(this),function(){var h=function r(s,a,l){function c(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof h&&h;if(!t&&e)return e(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[n]={exports:{}};s[n][0].call(o.exports,function(t){var e=s[n][1][t];return c(e||t)},o,o.exports,r,s,a,l)}return a[n].exports}for(var u="function"==typeof h&&h,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,e,n){var s=t("./utils.js"),a=t("./browser.js"),i=function t(){return this instanceof t?void this.init():new t};i.prototype.init=function(){this.data={},this.dead=!1},i.prototype.event=function(t){return s.isObject(t)?(s.assert(t.event,"a.event no event"),s.assert(t.listener,"a.event no listener"),[t.event,t.listener].join(".")):t},i.prototype.add=function(t,e,n,i){n=!0===n,t=this.event(t);var o={func:e,one:n,ctx:i};return this.data.hasOwnProperty(t)?this.data[t].push(o):this.data[t]=[o],this},i.prototype.on=function(t,e,n){return this.add(t,e,!1,n)},i.prototype.off=function(t,n){if(!this.data.hasOwnProperty(t))return this;var e=s.reduce(this.data[t],function(t,e){return(s.isNone(n)||e.func!==n)&&(s.isNone(n)||t.push(e)),t},[]);return 0===e.length?delete this.data[t]:this.data[t]=e,this},i.prototype.one=function(t,e,n){return this.add(t,e,!0,n)},i.prototype.get=function(t,e,n,i){s.isFunction(e)&&(n=e,e={},n&&(i=n)),e||(e={}),s.assert(n),e.hasOwnProperty("listener")||(e.listener="l"+s.getUUID()),this.one({event:t,listener:e.listener},n,i),this.notify(t,e)},i.prototype.notify=function(){if(this.dead)return!1;var e=Array.prototype.slice.call(arguments,0);if(0===e.length)return this;var n=this.event(e.splice(0,1)[0]);if(!this.data.hasOwnProperty(n))return this;var i,o=[],r=[];return s.each(this.data[n],function(t){r.push(t),!1===t.one&&o.push(t)}),0===o.length?delete this.data[n]:this.data[n]=o,s.each(r,function(t){try{i=s.isNone(t.ctx)?this:t.ctx,t.func.apply(i,e)}catch(t){a.console.error(n,e,t)}},this),this},i.prototype.listeners=function(o){return s.reduce(this.data,function(t,e,n){var i=n.split(".");return 2===i.length&&i[0]===o&&t.push(i[1]),t},[])},i.prototype.clear=function(){this.dead=!0,this.data={}},e.exports=i},{"./browser.js":4,"./utils.js":29}],2:[function(t,e,n){var a=t("./utils.js"),l=t("./browser.js"),s=t("conf"),c={random:function(t){return Math.floor(Math.random()*t)},safeCreateQuery:function(t){var e=a.map(t,function(t,e){return e+"="+("urls"===e?t:encodeURIComponent(t))});return e.sort(),e.join("&")},Keeper:function(t,e){this.init(t,e)}};c.Keeper.prototype={init:function(t,e){this.urls=t,this.count=0,this.results={},this.callback=e},each:function(t){if(this.results[t.original_url]=t,this.count++,this.count===this.urls.length){var e=a.map(this.urls,function(t){return this.results[t]},this);this.callback(e)}return this}},c.ajax=function(t,e,n,i){var o=new XMLHttpRequest,r=i?"POST":"GET";if("withCredentials"in o)o.open(r,t,!0),n&&a.map(n,function(t,e){o.setRequestHeader(e,t)}),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?e&&e(JSON.parse(o.responseText)):e&&e({type:"error"}))};else{if("undefined"==typeof XDomainRequest)return e({type:"error"}),!1;(o=new XDomainRequest).open(r,t),o.onload=function(){e&&e(JSON.parse(o.responseText))},o.onerror=function(){e({type:"error"})},o.onprogress=function(){}}o.send(i||null)},c.API=function(t){this.init(t)},c.API.prototype.init=function(t){a.isString(t)?this.key=t:a.isNone(t)||(this.key=t.key),this.key=this.key?this.key:s.EMB_API_KEY,this.protocol="http:"===window.location.protocol?"http:":"https:"},c.API.prototype._buildUrl=function(t,e){if(a.isNone(this.key))return null;var n=this.protocol+"//api-cdn.embed.ly/"+t;return(e=e||{}).key||(e.key=this.key),n+"?"+c.safeCreateQuery(e)},c.API.prototype._data=function(i,e,r,n){if(l.console.log(i,e,r,n),a.isNone(n)&&a.isFunction(r)&&(n=r,r={}),a.isNone(n))return!1;if(a.isString(e)){r.url=e;var t=this._buildUrl(i,r);return c.ajax(t,function(t){t.url=e,n(t)}),!0}if(a.isArray(e)){if(0===e.length)return!1;var s=new c.Keeper(e,n),o=a.batch(e,10);return a.each(o,function(t){r.urls=a.map(t,function(t){return encodeURIComponent(t)}).join(",");var o,e,n=this._buildUrl(i,r);c.ajax(n,(o=s,e=t,function(i){a.each(e,function(t,e){var n=i[e];n.original_url=t,o.each(n)})}))},this),!0}return n({type:"error"}),!1},c.API.prototype.oembed=function(t,e,n){return this._data("1/oembed",t,e,n)},c.API.prototype.extract=function(t,e,n){return this._data("1/extract",t,e,n)},c.API.prototype.card=function(t,e,n){return this._data("1/card-details",t,e,n)},c.API.prototype.event=function(t,e){var n="api-"+c.random(10)+".embed.ly",i=this.protocol+"//"+n+"/1/e"+"?"+c.safeCreateQuery(t);c.ajax(i,e)},c.Display=function(){},c.Display.prototype._buildUrl=function(t,e,n){var i={key:s.EMB_API_KEY,url:e},o=a.extend(i,a.isNone(n)?{}:n),r="://i-cdn.embed.ly/1/display"+("display"===t?"":"/"+t);return(s.EMB_HTTPS?"https":"http")+r+"?"+c.safeCreateQuery(o)},c.Display.prototype.display=function(t,e){return this._buildUrl("display",t,e)},c.Display.prototype.crop=function(t,e){return this._buildUrl("crop",t,e)},c.Display.prototype.resize=function(t,e){return this._buildUrl("resize",t,e)},c.api=function(t){return new c.API(t)},c.display=function(){return new c.Display},e.exports=c},{"./browser.js":4,"./utils.js":29,conf:"conf"}],3:[function(t,e,n){var i=t("./utils"),o=t("./urlparse.js"),r={disallowed:["1kd60cb"],allowed:function(t){if(!t)return!0;var e=o.getDomain(t);if(!e)return!0;var n=i.fullHash(e);return-1===r.disallowed.indexOf(n)}};e.exports=r},{"./urlparse.js":28,"./utils":29}],4:[function(t,e,n){var l=t("./utils.js"),h=t("./dom.js"),i=t("./urlparse.js"),o=t("conf"),d={};d.supports={_test:function(t){var e=document.createElement("div"),n=t.charAt(0).toUpperCase()+t.substr(1),i=[t];l.each(["Webkit","Moz","O","ms","Khtml"],function(t){i.push(t+n)});for(var o=0;o<i.length;o++)if(""===e.style[i[o]])return!0;return!1},postMessage:function(){return!!window.postMessage},boxShadow:function(){return d.supports._test("boxShadow")},borderRadius:function(){return d.supports._test("borderRadius")},touch:function(){return!!("ontouchstart"in window)},svg:function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},mediaQuery:function(){return!(void 0===window.matchMedia&&void 0===window.msMatchMedia)},rgba:function(){var t=document.createElement("div"),e=t.style.color;try{t.style.color="rgba(1,5,13,0.44)"}catch(t){}return t.style.color!==e},cors:function(){return"undefined"!=typeof XMLHttpRequest&&("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest)},flash:function(){if(void 0!==navigator.plugins&&0!==navigator.plugins.length)return!!navigator.plugins["Shockwave Flash"];try{return!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){return!1}},canvas:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}},d.detect=function(){var t=function(t,e){e?h.addClass(document.body,t):h.addClass(document.body,"no-"+t)};t("touch",d.supports.touch()),t("boxshadow",d.supports.boxShadow()),t("borderradius",d.supports.borderRadius()),t("rgba",d.supports.rgba()),t("mediaquery",d.supports.mediaQuery())},d.console={_log:function(t,e){if((o.EMB_DEBUG||window.EMB_DEBUG)&&!l.isNone(window.console)&&window.console&&window.console[t])if(window.console[t].apply)window.console[t].apply(window.console,e);else{var n=Array.prototype.join.call(e,", ");window.console[t](n)}},log:function(){this._log("log",arguments)},error:function(){this._log("error",arguments)}},d.open=function(t,e,n,i,o,r){if(l.isNone(o)||l.isNone(r)){var s=d.window.center(n,i);o=s.top,r=s.left}var a=window.open(t,e,"scrollbars=no, resizable=1, width="+n+", height="+i+", top="+o+", left="+r);window.focus&&a.focus()},d.cookie={set:function(t,e,n,i){var o="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toGMTString()}document.cookie=t+"="+e+o+"; path=/"+(i?"; secure":"")},get:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null},del:function(t){d.cookie.set(t,"",-1)}},d.window={innerHeight:function(){return l.isNone(window.innerHeight)?document.documentElement.clientHeight:window.innerHeight},innerWidth:function(){return l.isNone(window.innerWidth)?document.documentElement.clientWidth:window.innerWidth},scrollY:function(){return l.isNone(window.pageYOffset)?(document.documentElement||document.body.parentNode||document.body).scrollTop:window.pageYOffset},center:function(t,e){var n=void 0!==window.screenLeft?window.screenLeft:screen.left,i=void 0!==window.screenTop?window.screenTop:screen.top;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+n,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-e/2+i}}},d.location={hash:function(){var t=window.location.href.split("#");return 2===t.length?t[1]:""},params:function(){return l.extend({},i.parseQuery(document.location.search),i.parseQuery(d.location.hash()))}},d.mobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},d.isIE=function(){return/msie|trident/i.test(navigator.userAgent)},d.isFirefox=function(){return/firefox/i.test(navigator.userAgent)},d.isPhantom=function(){return/phantomjs/i.test(navigator.userAgent)},d.isSafari=function(){return/safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)},d.language=function(){return window.navigator.userLanguage||window.navigator.language},d.animateScroll=function(e,t){var n,i,o=d.window.scrollY(),r=e-o,s=(new Date).getTime(),a=!1;t=t||500;var l=Math.round(r/t*10),c=function(t){return e<t};l<0&&(c=function(t){return t<e});var u=function(){clearInterval(n),d.console.log("duration",(new Date).getTime()-s),h.detachEvent("scroll",i)};n=setInterval(function(){return c(o+=l)?(u(),!1):(window.scrollTo(0,o),void(a=!0))},10),i=function(){a&&o!==d.window.scrollY()&&u()},h.addEvent("scroll",i)},d.isSandboxIframe=function(){if(window.parent===window)return!1;try{return!window.frameElement.src}catch(t){return!1}return!1},e.exports=d},{"./dom.js":7,"./urlparse.js":28,"./utils.js":29,conf:"conf"}],5:[function(t,e,n){var r=!1,s=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,i=function(){};i.extend=function(t){function e(){!r&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;r=!0;var n=new this;for(var i in r=!1,t)n[i]="function"==typeof t[i]&&"function"==typeof o[i]&&s.test(t[i])?function(n,i){return function(){var t=this._super;this._super=o[n];var e=i.apply(this,arguments);return this._super=t,e}}(i,t[i]):t[i];return((e.prototype=n).constructor=e).extend=arguments.callee,e},e.exports=i},{}],6:[function(t,e,n){var o=t("./iframes/comms.js").one,r=t("./utils.js"),s={started:!1,instance:null,EVENTS:["xcomm.options.access","xcomm.media.recommend","xcomm.card.recommend","xcomm.user.set","xcomm.user.get","xcomm.user.remove","xcomm.log.event","xcomm.page.progress"],clear:function(){s.instance&&(s.instance.remove(),s.instance=null),s.started=!1},connect:function(i,t){if(!i||s.started)return!1;s.started=!0;var e=o(i,t);return s.instance=e,r.each(s.EVENTS,function(n){e.on(n,function(t){var e=n;t.listener&&(e={event:n,listener:t.listener}),i.notify(e,t)}),i.on(n,function(t){e.send(n,t)})}),e.on("xcomm.ready",function(t){i.notify("xcomm.ready",t)}),e}};e.exports=s},{"./iframes/comms.js":13,"./utils.js":29}],7:[function(t,e,n){var r=t("./utils.js"),i=t("conf"),s={toArray:function(t){return r.map(t,function(t){return t})},all:function(t){return document.querySelectorAll?s.toArray(document.querySelectorAll(t)):[]},one:function(t,e){var n=s.all(t,e);return 0===n.length?null:n[0]},create:function(t,e,n,i){return t&&r.isString(t)?(r.isString(e)&&r.isNone(n)&&(n=e,e={}),o=i?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t),r.each(e,function(t,e){o.setAttribute(e,t)}),n&&s.text(o,n),o):null;var o},set:function(t,e,n){if(!t||!r.isString(t))return null;r.isString(e)&&r.isNone(n)&&(n=e,e={});var i=s.one(t);return i?(r.each(e,function(t,e){i.setAttribute(e,t)}),r.isNone(n)||s.text(i,n),i):null},replace:function(t,e){r.assert(r.isElement(t),"replace requires an element to be replaced"),r.assert(r.isElement(e),"replace requires an element to replace with."),t.parentNode.replaceChild(e,t)},remove:function(t){return!(!r.isElement(t)||!r.isElement(t.parentNode))&&void t.parentNode.removeChild(t)},hide:function(t){return r.isString(t)&&(t=s.one(t)),r.isElement(t)&&(t.style.display="none"),t},show:function(t,e){return r.isString(t)&&(t=s.one(t)),r.isElement(t)&&(t.style.display=e?"inline-block":"block"),t},svg:function(t,e,n){return s.create(t,e,n,"http://www.w3.org/2000/svg")},children:function(t,n){return r.isElement(t)?r.reduce(t.childNodes,function(t,e){if(r.isElement(e)){if(!r.isNone(n))if(e.namespaceURI&&"http://www.w3.org/2000/svg"===e.namespaceURI){if(e.nodeName!==n)return t}else if(n.toUpperCase()!==e.nodeName)return t;t.push(e)}return t},[]):[]},child:function(t,e){var n=s.children(t,e);return 0!==n.length?n[0]:null},text:function(t,e){return r.isString(t)&&(t=s.one(t)),t&&r.isElement(t)?r.isNone(e)?t.innerText||t.textContent:void(t[void 0===t.textContent?"innerText":"textContent"]=e):null},hasClass:function(t,e){if(r.isString(t)&&(t=s.one(t)),!r.isElement(t)||!r.isString(e)||!e)return!1;var n=t.getAttribute("class");return!r.isNone(n)&&-1<(" "+n+" ").indexOf(" "+e+" ")},addClass:function(t,e){if(r.isString(t)&&(t=s.one(t)),!r.isElement(t)||!r.isString(e)||!e)return!1;if(s.hasClass(t,e))return!1;var n=t.getAttribute("class");if(r.isNone(n))return t.setAttribute("class",e),!0;var i=n.split(" "),o=[];return r.map(i,function(t){var e=r.trim(t);""!==e&&o.push(e)}),o.push(e),t.setAttribute("class",o.join(" ")),!0},removeClass:function(t,i){if(r.isString(t)&&(t=s.one(t)),!r.isElement(t)||!r.isString(i)||!i)return!1;var e=t.getAttribute("class");if(r.isNone(e))return!1;var o=!1,n=r.reduce(e.split(" "),function(t,e){var n=r.trim(e);return n&&(n===i?o=!0:t.push(n)),t},[]);return t.setAttribute("class",n.join(" ")),o},data:function(t,e,n){r.assert(t&&r.isElement(t),"dom.data needs an element."),r.assert(e&&r.isString(e),"dom.data needs an attr.");var i=r.camelCase(e,1);return r.isNone(n)?r.isNone(t.dataset)?t.getAttribute("data-"+e):r.isNone(t.dataset[i])?null:t.dataset[i]:void(r.isNone(t.dataset)?t.setAttribute("data-"+e,n):t.dataset[i]=n)},attrize:function(t){return t&&r.isObject(t)?r.map(t,function(t,e){return e+'="'+t+'"'}).sort().join(" "):""},event:function(t){var e=r.extend({},t||window.event);return e.target||(e.target=e.srcElement||document),3===e.target.nodeType&&(e.target=e.target.parentNode),!t.metaKey&&t.ctrlKey&&(e.metaKey=e.ctrlKey),e.stop=function(){t.preventDefault?t.preventDefault():t.returnValue=!1},e.pageX||e.pageY||!e.clientX&&!e.clientY||(e.pageX=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.pageY=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),e},addEvent:function(t,e,n){r.isNone(t)||(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)},detachEvent:function(t,e,n){r.isNone(t)||(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null)},trigger:function(t,e){var n;r.assert(r.contains(["click"],e),"Not a valid event"),t.dispatchEvent?((n=document.createEvent("MouseEvents")).initEvent(e,!0,!0),t.dispatchEvent(n,!0)):(n=document.createEventObject(),t.fireEvent("on"+e,n))},rect:function(t){try{return t.getBoundingClientRect()}catch(t){}return!1},onResize:function(t){var e;s.addEvent(window,"resize",function(){clearTimeout(e),e=setTimeout(t,100)})}};!0===i.EMB_DEBUG&&(window.dom=s),e.exports=s},{"./utils.js":29,conf:"conf"}],8:[function(t,e,n){var i=t("./utils.js"),o=t("./swap.js"),r=t("./dom.js"),s=t("./mutations.js"),a={timeout:null,hub:null,selectors:{cards:[{selector:".embedly-card"},{selector:".reddit-card"}],button:[".embedly-button"],slideshow:[".embedly-slideshow"]},analytics:null,_queue:[],add:{}};a.add.cards=function(t){if(i.isString(t)){if(".embedly-card"===t)return!1;a.selectors.cards.push({selector:t})}else if(!i.isElement(t)&&i.isObject(t)){if(!t.selector&&!t.types)return!1;var e={};if(i.isArray(t.types)&&0<t.types.length&&(e.types=t.types),t.selector)e.selector=t.selector,a.selectors.cards.push(e);else{var n=a.selectors.cards.reduce(function(t,e){return".embedly-card"===e.selector?e:t},{});if(!n)return!1;n.types=e.types}}a.look()},a.add.button=function(t){i.isString(t)&&(a.selectors.button.push(t),a.look())},a.select=function(t,e){return"."===t.substr(0,1)?!!r.hasClass(e,t.substr(1)):!!i.contains(r.all(t),e)},a.each=function(t){var e,n;if("A"===t.nodeName||"BLOCKQUOTE"===t.nodeName)for(e=0;e<a.selectors.cards.length;e++)if(n=a.selectors.cards[e],a.select(n.selector,t))return t._em_opts=n,{name:"card",node:t};if("A"===t.nodeName)for(e=0;e<a.selectors.button.length;e++)if(a.select(a.selectors.button[e],t))return{name:"button",node:t};if("DIV"===t.nodeName)for(e=0;e<a.selectors.slideshow.length;e++)if(a.select(a.selectors.slideshow[e],t))return{name:"slideshow",node:t};if("IFRAME"===t.nodeName){if("embedly-embed"===t.className)return{name:"iframe",node:t};if(t.src&&/\/\/cdn\.embedly\.com\/widgets\/media\.html/.test(t.src))return{name:"iframe",node:t};if(null!==a.analytics&&a.analytics.replace){var i=o.replace(t,a.analytics);if(null!==i)return{name:"iframe",node:i}}}return null},a.release=function(){var t=a._queue;a._queue=[],t=i.reduce(t,function(t,e){return i.contains(t,e)||e.className&&"embd-"===e.className.substr(0,5)||t.push(e),t},[]);var e=i.reduce(t,function(t,e){var n=a.each(e);return n&&t[n.name+"s"].push(n.node),t},{cards:[],buttons:[],slideshows:[],iframes:[]});a.hub.notify("found",e)},a.queue=function(t){clearTimeout(a.timeout),a._queue.push(t),a.timeout=setTimeout(function(){a.release()},50)},a.look=function(){i.each(a.selectors.cards,function(t){i.each(r.all(t.selector),function(t){a.queue(t)})}),i.each(a.selectors.button,function(t){i.each(r.all(t),function(t){a.queue(t)})}),i.each(a.selectors.slideshow,function(t){i.each(r.all(t),function(t){a.queue(t)})}),i.each(r.all("iframe"),function(t){a.queue(t)}),a.hub&&a.hub.notify("look.done")},a.stop=function(){s.stop()},a.connect=function(t){(a.hub=t).on("mutation.insert.a",a.queue),t.on("mutation.insert.blockquote",a.queue),t.on("mutation.insert.iframe",a.queue),s.connect(t),a.look()},e.exports=a},{"./dom.js":7,"./mutations.js":20,"./swap.js":26,"./utils.js":29}],9:[function(t,e,n){e.exports={cards:t("./cards.js"),button:t("./button.js"),modal:t("./modal.js"),slideshow:t("./slideshow.js"),comms:t("./comms.js"),connect:t("./base.js").connect}},{"./base.js":10,"./button.js":11,"./cards.js":12,"./comms.js":13,"./modal.js":14,"./slideshow.js":15}],10:[function(t,e,n){var u=t("../utils.js"),h=t("../dom.js"),d=t("../a.js"),f=t("../browser.js"),p=t("../urlparse.js"),g=t("conf"),s={connect:function(t,e,n){if(!e||!u.isElement(e))return!1;var o={sid:t,elem:e},r=p.getOrigin(e.src?e.src:document.location.toString()),i=new d,s=[],a=!1,l=e.src;o.on=function(t,e,n){i.on(t,e,n)},o.one=function(t,e,n){i.one(t,e,n)},o.off=function(t,e){i.off(t,e)},o.send=function(t,e,n){if(u.isNone(e)&&(e={}),u.isString(e)&&(e={msg:e}),e.method=t,!1===a&&!n)return f.console.log("frame.queue",e),s.push(e),!1;if(o.sid&&(e.sid=o.sid),f.console.log("frame.send",e),o.__tunnel)o.__tunnel.send(e);else if(o.elem.contentWindow&&o.elem.contentWindow.postMessage){var i=JSON.stringify(e);o.elem.contentWindow.postMessage(i,null===r?"*":r)}},o.ready=function(){a||(f.console.log("frame.ready",o.name),a=!0,u.each(s,function(t){o.send(t.method,t)}))},o.resize=function(t){t.width&&o.elem.setAttribute("width",t.width),t.height&&o.elem.setAttribute("height",t.height)},o.remove=function(){h.remove(o.elem),o.__hub.clear(),o.__tunnel&&o.__tunnel.clear(),o._remove&&o._remove()},i.on("message",function(t){"resize"===t.method&&o.resize&&o.resize(t),t.event&&t.listener?i.notify({event:t.event,listener:t.listener},t):t.method&&i.notify(t.method,t)});var c=function(t,e){if(t.origin===r||null===r||"about:"===t.origin){if(!e.src&&!e.sid&&!e.listener)return!1;if(o.sid&&e.sid!==o.sid)return!1;if(e.src&&e.src!==l)return!1;f.console.log("frame.message",e),i.notify("message",e)}};return n.on("window.message",c),o._remove=function(){n.off("window.message",c)},o.__hub=i,o},rendering:function(t){return"1"===h.data(t,"rendering")||(h.data(t,"rendering","1"),!1)},create:function(a,t,e,n,i){var o=u.getUUID();e.sid=o;var r=u.extend({},n);!1===e.sandbox&&(r.src=g.EMB_FRAME_SRC+a+".html#sid="+o),e.url&&(r.id="emb_"+u.hash(e.url)),r.class="embedly-"+a;var l=h.create("iframe",r);u.each(i,function(t,e){l.style[e]=t});var c=s.connect(o,l,t);return!(c.__appended=function(){})===e.sandbox||(c.__appended=function(){var t=l.contentWindow.document,e=decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E");t.open(),t.write(e),t.close();var n=t.getElementsByTagName("head")[0],i=g.EMB_ORIGIN_BASE+"js/all."+g.EMB_ASSET_VERSION+".js",o=g.EMB_ORIGIN_BASE+"css/all."+g.EMB_ASSET_VERSION+".css",r=t.createElement("script");r.type="text/javascript",r.src=i;var s=t.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=o,c.__hub.notify(a+".load",l,t),n.appendChild(s),t.body.appendChild(r)}),c}};e.exports=s},{"../a.js":1,"../browser.js":4,"../dom.js":7,"../urlparse.js":28,"../utils.js":29,conf:"conf"}],11:[function(t,e,n){var a=t("../utils.js"),l=t("../browser.js"),c=t("../dom.js"),u=t("./base.js"),h=t("../tunnels.js"),d={name:"button",attrs:{frameborder:"0",scrolling:"no",allowtransparency:"true",height:"20",width:"80"},styles:{border:"none"},one:function(e,t){if(!a.isElement(e))return null;if(u.rendering(e))return null;var n=c.data(e,"url");a.isNone(n)&&(n=document.location.toString());var i,o={url:n};a.each(["theme","target","lang"],function(t){i=c.data(e,t),a.isNone(i)||(o[t]=i)});var r=l.window.center(635,500);o.left=r.left,o.top=r.top;var s=u.create("button",t,o,d.attrs,d.styles);return s.one("button.load",function(t){var e,n,i=(e=s,n=o,function(t){e.__tunnel=new h.Tunnel(e.__hub),t.create(n,e.__tunnel)});t.contentWindow.buttons?i(t.contentWindow.buttons):t.contentWindow.onButtonsReady=i}),c.replace(e,s.elem),s.__appended(),s.on("button.click",function(){l.window.innerWidth()<=768||l.mobile()?window.location="http://embed.ly/code?url="+encodeURIComponent(o.url):t.notify("modal.create",o)}),s.on("button.ready",function(){s.ready()}),s}};e.exports=d},{"../browser.js":4,"../dom.js":7,"../tunnels.js":27,"../utils.js":29,"./base.js":10}],12:[function(t,e,n){var u=t("../api.js"),h=t("../utils.js"),d=t("../dom.js"),f=t("../urlparse.js"),s=t("../browser.js"),p=t("../keeper.js"),a=t("./base.js"),l=t("../share.js"),c=t("../tunnels.js"),g={attrs:{frameborder:"0",scrolling:"no",allowtransparency:"true",allowfullscreen:"true"},styles:{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},extractless:/https:\/\/(\w+\.pinterest\.com\/.*)|(\w+\.reddit\.com\/r\/.*\/comments\/.*)/,sandboxless:[{re:/https?:\/\/\w+\.facebook\.com\/.*/},{re:/https?:\/\/twitter\.com\/.*/,test:function(){return s.isFirefox()}}],isPercent:function(t){return/\%/i.test(t)},cleanWidth:function(t){t=h.trim(t);var e=/(\d+)px/i.exec(t);return e&&(t=e[1]),t},sandbox:function(t){var e,n;for(e=0;e<g.sandboxless.length;e++)if((n=g.sandboxless[e]).re.test(t))return!!h.isFunction(n.test)&&!n.test(t);return!0},css:function(){if(void 0!==g._css)return g._css;var t=d.one("style.embedly-css");if(h.isElement(t)){var e=d.text(t);h.spaceless(e)&&(g._css="style:"+h.trim(e))}else{var n=d.one("link.embedly-css");h.isElement(n)&&n.href&&(g._css="link:"+h.trim(n.href))}return g._css||(g._css=null),g._css},options:function(n){if(!h.isElement(n)||!h.isElement(n.parentNode))return null;var i={sandbox:!0};h.each(["type","via","chrome","image","description","key","align","embed","controls","analytics","lang","width","referrer","theme","recommend","branding","seo","preview","comment","created"],function(t){var e=d.data(n,"card-"+t);h.isNone(e)||(i[t]=e)});var e,o,r,t=g.css();if(t&&(i.css=t),h.each(["recommend-1","recommend-2","recommend-3"],function(t){var e=d.data(n,"card-"+t);h.isNone(e)||(i.hasOwnProperty("recommendations")?i.recommendations.push(e):i.recommendations=[e])}),"BLOCKQUOTE"===n.nodeName){var s,a,l=d.child(n,"h4"),c=d.child(n,"p");if(h.isNone(l)){if("reddit-card"===n.className){if(0<(a=d.toArray(n.querySelectorAll("a"))).length){if(!(s=a[0])||!s.href)return!1;i.url=s.href}}else if(c){if(0===(a=n.getElementsByTagName("a")).length)return!1;s=a[a.length-1],i.url=s.getAttribute("href")}}else s=d.child(l,"a"),i.url=s.getAttribute("href"),i.title=d.text(s),h.isNone(c)?i.description="0":i.description=d.text(c)}else"A"===n.nodeName&&(i.url=n.getAttribute("href"));if(h.each(["url","image","embed"],function(t){i.hasOwnProperty(t)&&(i[t]=f.sanitize(i[t]))}),h.each(document.getElementsByTagName("meta"),function(t){r=[t.getAttribute("name"),t.getAttribute("property")],h.contains(r,"twitter:site")?o=t.getAttribute("content"):h.contains(r,"twitter:creator")&&(e=t.getAttribute("content"))}),e?i.twitter_via=e:o&&(i.twitter_via=o),!i.url)return null;var u=f.parse(i.url);return u.valid()?(i.url=u.url,i.sandbox=g.sandbox(i.url),i.referrer||(i.referrer=document.URL),i.width&&(i.width=g.cleanWidth(i.width)),/thescore\.com/.test(i.referrer)&&(i.key="900b122ee8ee43f79b2240c831f24429"),i):null}},m=function(t,e,n,i){this.init(t,e,n,i)};m.prototype.init=function(t,e,n,i){if(this.elem=e,!(this.options=n).url)return this.error=!0,this.frame=null,!1;this.error=!1,this.frame=g.build(e,n,t),this._done=i;var o=new p,r=o.callback();this.frame.one("card.load",function(t,e){r({iframe:t,doc:e})}),this._extract=o.callback(),this.extract=h.bind(function(t){return!this.extracted&&(this.extracted=!0,void this._extract(t))},this),n.embed&&(this.media=o.callback());var s=e.parentNode;s&&s.offsetWidth&&(600<s.offsetWidth?this.frame.elem.style.width="600px":this.frame.elem.style.width=s.offsetWidth+"px");var a=d.create("div",{class:"embedly-card"}),l=d.create("div",{class:"embedly-card-hug"});a.appendChild(l),l.appendChild(this.frame.elem),s.insertBefore(a,e),this.frame.__appended(),o.wait(this.done,this)},m.prototype.done=function(t){var e,n,i,o=t[0].iframe,r=t[0].doc,s=t[1],a={};if(3===t.length&&(a=t[2].media),!this.frame.elem.parentNode)return!1;if(!1===this.options.sandbox)this.frame.ready(),this.frame.send("card.create",{options:this.options,extract:s,media:a});else{var l=(e=this.options,n=s,i=this.frame,function(t){i.__tunnel=new c.Tunnel(i.__hub),t.create(r.body,{options:e,extract:n,media:a,tunnel:i.__tunnel})});o.contentWindow.cards?l(o.contentWindow.cards):o.contentWindow.onCardsReady=l}this.frame.options=this.options,this.frame.extract=s,this._done(this.frame)},g.fetch=function(o,r,e,n){(e=h.extend({},e||{})).protocol=window.location.protocol,e=h.map(r,function(t){return!0===e.override?h.extend({},g.options(t),e):h.extend({},e,g.options(t))});var s=new p,a=[];e=h.reduce(e,function(t,e,n){var i=new m(o,r[n],e,s.callback());return g.extractless.test(e.url)?i.extract({}):i.error||t.push(e),a.push(i),t},[]);var t=h.reduce(e,function(t,e){return t.push(e.url),e.embed&&t.push(e.embed),t},[]);if(!t.length)return h.isFunction(n)&&n(h.map(a,function(t){return t.frame})),h.map(a,function(t){return t.frame});var i={card:1,v:"MTcyMDEw",youtube_showinfo:0,native:!0},l=h.reduce(e,function(t,e){return e.key&&!t?e.key:t},null);l&&(i.key=l);var c=window.location.protocol;return e.protocol&&(c=e.protocol),c=c.split(":")[0],h.contains(["http","https"],c)||(c="https"),i.scheme=c,u.api().card(t,i,function(t){h.each(t,function(e){h.each(a,function(t){t.options.url===e.original_url?t.extract(e):t.options.embed===e.original_url&&t.media(e)})})}),s.wait(function(t){n(t)}),h.map(a,function(t){return t.frame})},g.build=function(i,t,o){var r=a.create("card",o,t,g.attrs,g.styles);return s.isFirefox()&&(r.elem.style.visibility="visible",r.elem.style.height="1px"),r.on("card.repeat",function(e){var n={url:e.url,via:document.location.toString()};h.each(["image","embed","title","description","lang"],function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),o.notify("modal.create",n)}),r.on("card.ready",function(){r.ready()}),r.on("card.rendered",function(t){if(r.url=t.url,r.type=t.type,"error"===t.name)return r.__hub.notify("card.error",i),r.remove(),!1;if(i._em_opts){var e=h.extend({},i._em_opts);if(delete i._em_opts,h.isArray(e.types)&&0<e.types.length&&!h.contains(e.types,t.type))return r.__hub.notify("card.error",i),r.remove(),!1}r.rendered=!0,!r.options.twitter_via&&t.defaultTwitterVia&&(r.options.twitter_via=t.defaultTwitterVia);var n=r.elem.parentNode;r.elem.style.display="block",r.elem.style.margin="0",r.elem.style.padding="0",r.elem.style.visibility="visible",r.elem.style.position="relative",t.height?r.elem.height=t.height:r.elem.height="300",t.width?g.isPercent(t.width)?(n.style.width=t.width,r.elem.width="100%"):(r.elem.width=t.width,n.style.maxWidth=t.width+"px"):(r.elem.width="600",n.style.maxWidth="600px"),n.style.padding="0",n.style.position="relative",n.style.minWidth="200px","left"===t.align?n.style.margin="5px 0":"right"===t.align?n.style.margin="5px 0 5px auto":n.style.margin="5px auto",r.elem.style.width=null,r.elem.style.height=null,r.elem.style.maxWidth="100%",r.elem.style.minWidth="200px",d.remove(i),"error"!==t.type&&(o.notify("card.rendered",r.elem,r),t.controls&&l.card(r))}),r.one("card.error",function(t){o.notify("card.error",t)}),r.on("resize",function(){o.notify("card.resize",r.elem,r)}),r.on("log.event",function(t){o.notify("log.event",t)}),r.on("pinterest.log",function(){o.notify("pinterest.log")}),r.on("card.player.ready",function(){o.notify("card.player.ready",r)}),r.on("card.recommend.shown",function(t){o.notify("recommend.shown",r.elem,t)}),r},g.multi=function(t,e,n,i){return t=h.reduce(t,function(t,e){return a.rendering(e)||t.push(e),t},[]),g.fetch(n,t,e,function(t){h.isFunction(i)&&i(t)})},g.one=function(t,e,n,i){return a.rendering(t)?null:g.fetch(n,[t],e,function(t){h.isFunction(i)&&i(t[0])})[0]},e.exports=g},{"../api.js":2,"../browser.js":4,"../dom.js":7,"../keeper.js":17,"../share.js":25,"../tunnels.js":27,"../urlparse.js":28,"../utils.js":29,"./base.js":10}],13:[function(t,e,n){var s=t("../utils.js"),a=t("../dom.js"),l=t("../urlparse.js"),c=t("./base.js"),u=t("conf"),h={attrs:{frameborder:"0",allowtransparency:"true"},styles:{border:"none",position:"absolute",top:"-9999em",width:"10px",height:"10px"},one:function(t,e){var n=s.getUUID();s.assert(e.name),e=s.extend({sid:n},e||{});var i=s.extend({},h.attrs);i.id="emb_xcomm",i.class="embedly-xcomm",i.src=u.EMB_SECURE_FRAME_SRC+"xcomm.html#"+l.createQuery(e);var o=a.create("iframe",i);s.each(h.styles,function(t,e){o.style[e]=t});var r=c.connect(n,o,t);return r.on("xcomm.ready",function(){r.ready()}),document.body.appendChild(o),r}};e.exports=h},{"../dom.js":7,"../urlparse.js":28,"../utils.js":29,"./base.js":10,conf:"conf"}],14:[function(t,e,n){var i=t("../utils.js"),s=t("../browser.js"),a=t("./base.js"),l=t("../tunnels.js"),c={name:"modal",attrs:{frameborder:"0",allowtransparency:"true"},styles:{border:"none",position:"fixed",top:"0",left:"0",bottom:"0",right:"0",width:"100%",height:"100%",zIndex:"2147483647"},one:function(o,t){if(i.isNone(o)&&(o={url:document.location.toString()}),i.isNone(o.url)&&(o.url=document.location.toString()),o.protocol=window.location.protocol,"window"===o.target)return s.open("http://cdn.embedly.com/widgets/embed?url="+encodeURIComponent(o.url),"Embed Code",635,500),!1;o.t="card";var r=a.create("modal",t,o,c.attrs,c.styles);return r.on("modal.load",function(t){var e,n,i=(e=r,n=o,function(t){e.__tunnel=new l.Tunnel(e.__hub),t.create(n,e.__tunnel)});t.contentWindow.modals?i(t.contentWindow.modals):t.contentWindow.onModalsReady=i}),r.resize=function(){},r.on("modal.close",function(){document.body.style.overflow="inherit",document.body.removeChild(r.elem)}),r.on("modal.ready",function(){r.ready()}),r.one("modal.copy",function(){t.notify("modal.copy",o)}),document.body.appendChild(r.elem),document.body.style.overflow="hidden",r.__appended(),r}};e.exports=c},{"../browser.js":4,"../tunnels.js":27,"../utils.js":29,"./base.js":10}],15:[function(t,e,n){var c=t("../utils.js"),i=t("../api.js"),u=t("../dom.js"),h=t("../keeper.js"),d=t("./base.js"),f=t("../tunnels.js"),p={name:"slideshow",attrs:{frameborder:"0",scrolling:"no",allowtransparency:"true",allowfullscreen:"true"},styles:{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},opts:["schema","lang","width","align"],options:function(i,n){if(!c.isElement(i)||!c.isElement(i.parentNode))return null;var t=c.reduce(p.opts,function(t,e){return n.hasOwnProperty(e)&&(t[e]=n[e]),t},n.options?n.options:{});return c.reduce(p.opts,function(t,e){var n=u.data(i,"slideshow-"+e);return c.isNone(n)||(t[e]=n),t},t)},urls:function(t,e){return c.isArray(e.urls)&&0<e.urls.length?e.urls:c.reduce(u.children(t,"blockquote"),function(t,e){if("BLOCKQUOTE"===e.nodeName){var n=u.child(e,"h4");if(!c.isNone(n)){var i=u.child(n,"a");c.isNone(i)||t.push(i.href)}}return t},[])},fetch:function(t,e){i.api().extract(t,{card:1,v:1},function(t){e(t)})},build:function(t,e,n){var i,o,r,s=e[0].iframe,a=e[0].doc,l=e[1],c=(i=n,o=t,r=l,function(t){i.__tunnel=new f.Tunnel(i.__hub),t.create(a.body,{options:o,extract:r,tunnel:i.__tunnel})});s.contentWindow.slideshows?c(s.contentWindow.slideshows):s.contentWindow.onSlideshowsReady=c},one:function(e,t,n){if(!c.isElement(e))return null;if(t=t||{},d.rendering(e))return null;var i=p.options(e,t),o=p.urls(e,t);if(null===i||0===o.length)return null;var r=d.create("slideshow",n,i,p.attrs,p.styles),s=new h,a=s.callback(),l=s.callback();return s.wait(function(t){p.build(i,t,r)}),r.on("slideshow.load",function(t,e){a({iframe:t,doc:e})}),p.fetch(o,l),e.parentNode.insertBefore(r.elem,e),r.on("slideshow.ready",function(){r.ready()}),r.on("slideshow.rendered",function(t){return r.ready(),"error"===t.name?(r.remove(),r.__hub.notify("slideshow.error",e),!1):(r.rendered=!0,r.elem.style.display="block",r.elem.style.margin="10px auto",r.elem.style.visibility="visible",r.elem.style.position="relative",r.elem.width="700",t.height?r.elem.height=t.height:r.elem.height="500",t.width?r.elem.width=t.width:r.elem.width="700",r.elem.style.width=null,r.elem.style.height=null,r.elem.style.maxWidth="99%",r.elem.style.minWidth="300px",void u.remove(e))}),r.on("log.event",function(t){n.notify("log.event",t)}),r.__appended(),r}};e.exports=p},{"../api.js":2,"../dom.js":7,"../keeper.js":17,"../tunnels.js":27,"../utils.js":29,"./base.js":10}],16:[function(t,e,n){var o=t("./utils.js"),i=t("./class.js"),r={senders:[],integrations:["google","kissmetrics","mixpanel","segment","heap","intercom"]};r.Sender=i.extend({init:function(){this.sent=[]},event:function(t,e,n){var i=o.reduce([t,e,n],function(t,e){return e&&(t+=e),t},"");return!o.contains(this.sent,i)&&(this.sent.push(i),void this.send(t,e,n))},send:function(){}}),r.GoogleAnalytics=r.Sender.extend({isValid:function(){return window.ga&&o.isFunction(window.ga)},send:function(t,e,n){window.ga("send","event","Embedly > "+t,e,n)}}),r.KissMetrics=r.Sender.extend({isValid:function(){return window._kmq&&o.isFunction(window._kmq.push)},send:function(t,e,n){window._kmq.push(["record","Embedly > "+t+" > "+e,{url:n}])}}),r.Mixpanel=r.Sender.extend({isValid:function(){return window.mixpanel&&o.isFunction(window.mixpanel.push)},send:function(t,e,n){window.mixpanel.push(["track","Embedly > "+t+" > "+e,{url:n}])}}),r.Segment=r.Sender.extend({isValid:function(){return window.analytics&&o.isFunction(window.analytics.track)},send:function(t,e,n){window.analytics.track("Embedly > "+t+" > "+e,{url:n})}}),r.Heap=r.Sender.extend({isValid:function(){return window.heap&&o.isFunction(window.heap.track)},send:function(t,e,n){window.heap.track("Embedly > "+t+" > "+e,{url:n})}}),r.Intercom=r.Sender.extend({isValid:function(){return window.Intercom&&o.isFunction(window.Intercom)},send:function(t,e,n){window.Intercom("trackEvent","Embedly > "+t+" > "+e,{url:n})}}),r._integrations={google:r.GoogleAnalytics,kissmetrics:r.KissMetrics,mixpanel:r.Mixpanel,segment:r.Segment,heap:r.Heap,intercom:r.Intercom},r.send=function(e,n,i){o.each(r.senders,function(t){t.isValid()&&t.event(e,n,i)}),r.hub&&r.hub.notify("analytics.event",e,n,i)},r.player=function(n){n.on("play",function(){r.send("Video","Play",n.url)}),n.on("timeupdate",function(t){if(t.seconds&&t.duration&&o.isNumber(t.seconds)&&o.isNumber(t.duration)){var e=parseInt(t.seconds/t.duration*4,10);e&&0<e&&e<5&&r.send("Video",o.fmt("{n}% Watched",{n:(25*e).toString()}),n.url)}}),n.on("ended",function(){r.send("Video","100% Watched",n.url)})},r.event=function(t,e,n){return!!(t&&e&&n&&"click"===e)&&(o.contains(["facebook","twitter","pinterest","repeat"],t)&&(e=t,t="social"),"article-full"===t&&(t="article"),!!o.contains(["video","image","rich","article","product","social","recommend"],t)&&(t=o.capitalize(t),e=o.capitalize(e),void r.send(t,e,n)))},r.configure=function(t){t&&o.isArray(t)||(t=[]),r.senders=[],o.each(t,function(t){if(o.isString(t)){if(r._integrations.hasOwnProperty(t)){var e=r._integrations[t];r.senders.push(new e)}}else if(o.isFunction(t)){var n=r.Sender.extend({isValid:function(){return!0},send:t});r.senders.push(new n)}})},r.connect=function(t){t.on("media.player",r.player),o.each(r.integrations,function(t){if(r._integrations.hasOwnProperty(t)){var e=r._integrations[t];r.senders.push(new e)}}),(r.hub=t).on("log.event",function(t){if(t&&t.a&&"click"===t.a)if("recommend"===t.c&&t.l){var e=t.l.split("|");3===e.length&&r.event(t.c,t.a,e.slice(1).join(" "))}else r.event(t.c,t.a,t.u)})},e.exports=r},{"./class.js":5,"./utils.js":29}],17:[function(t,e,n){var i=t("./utils.js"),o=function(){this.init()};o.prototype.init=function(){this.len=0,this.count=0,this.results={},this.finished=!1,this.started=!1},o.prototype.callback=function(){var e=this.len;return this.len++,i.bind(function(t){this.each(e,t)},this)},o.prototype.done=function(){if(!this.started)return!1;if(this.finished)return!0;if(this.count===this.len){this.finished=!0;for(var t=[],e=0;e<this.len;e++)t.push(this.results[e]);return this.func.call(this.ctx,t),!0}},o.prototype.each=function(t,e){this.results[t]=e,this.count++,this.done()},o.prototype.wait=function(t,e){this.func=t,this.ctx=e||null,this.started=!0,this.done()},e.exports=o},{"./utils.js":29}],18:[function(t,e,n){var i=t("../utils.js"),o=t("../urlparse.js"),r=t("../browser.js"),s=t("../comms.js"),a={hub:null,timeout:null,connected:!1,connecting:!1,COOKIE_NAME:"em_cdn_uid",sid:i.getUUID(),_queue:[],getUID:function(){var t=r.cookie.get(a.COOKIE_NAME);if(i.isNone(t))return a.setUID();var e,n=o.parseQuery(decodeURIComponent(t));if(!n.u||!n.t)return a.setUID();try{e=parseInt(n.t,10)}catch(t){return a.setUID()}return 32!==n.u.length?a.setUID():15552e6<i.getTimestamp()-e?a.setUID(n.u):n.u},setUID:function(t){var e={u:i.isNone(t)?i.getUUID():t,t:i.getTimestamp()},n=encodeURIComponent(o.createQuery(e));return r.cookie.set(a.COOKIE_NAME,n,365),n=r.cookie.get(a.COOKIE_NAME),i.isNone(n)?0:(e=o.parseQuery(decodeURIComponent(n))).u}};a.uid=a.getUID(),a.release=function(){var t=a._queue;a._queue=[],r.console.log("log.release",t),a.hub.notify("xcomm.log.event",{events:t})},a.queue=function(t){clearTimeout(a.timeout),a._queue.push(t),a.comms()&&(a.timeout=setTimeout(function(){a.release()},50))},a.event=function(t){var e={uid:a.uid,sid:a.sid,t:i.getTimestamp()};window.self===window.top?(e.r=document.location.toString(),e.rr=document.referrer):e.r=document.referrer,i.assert(t.g),i.assert(t.c),i.assert(t.a),e=i.extend({},e,t),a.queue(e)},a.comms=function(){return!!a.connected||!!a.hub&&(!a.connecting&&(a.connecting=!0,a.hub.one("xcomm.ready",function(){a.connected=!0,a.release()}),void s.connect(a.hub,{name:a.name})))},a.connect=function(t,e){a.name=e,t.on("log.event",function(t){a.event(t)}),a.hub=t},e.exports=a},{"../browser.js":4,"../comms.js":6,"../urlparse.js":28,"../utils.js":29}],19:[function(t,e,n){var i=t("./browser.js"),o=t("./utils.js"),r=t("./dom.js"),s={_data:null,COOKIE_NAME:"em_p_uid",format:function(t){return t&&o.isObject(t)?o.map(t,function(t,e){return e+":"+t}).sort().join("|"):null},parse:function(t){return t?o.reduce(t.split("|"),function(t,e){return null===t?null:2!==(n=e.split(":")).length?null:(t[n[0]]=n[1],t)},{}):null;var n},timestamp:function(t){var e;try{e=parseInt(t,10)}catch(t){return!1}return e},get:function(){var t=i.cookie.get(s.COOKIE_NAME);if(o.isNone(t))return s.set();var e=s.parse(t),n=s.timestamp(e.t);return!1===n?s.set():15552e6<o.getTimestamp()-n?s.set({u:e.u,l:e.l}):e},set:function(t){var e={u:o.getUUID(),t:o.getTimestamp(),l:0};t&&(e=o.extend(e,t));var n=s.format(e);return i.cookie.set(s.COOKIE_NAME,n,365,"https:"===window.location.protocol),n=i.cookie.get(s.COOKIE_NAME),o.isNone(n)?null:s.parse(n)},update:function(t){var e=s.get();return!!e&&(e=o.extend(e,t),s.set(e))},data:function(){if(s._data)return s._data;var t={mt:o.getTimestamp(),mr:document.referrer,msw:i.window.innerWidth(),msh:i.window.innerHeight()},e=s.get();return e?(t.muu=e.u,t.mut=e.t,t.mul=e.l):t.muu=0,s._data=t,s.update({l:o.getTimestamp()}),s._data},send:function(t,e){if(!e||!o.isElement(e.elem))return!1;var n=o.extend(s.data(),{}),i=r.rect(e.elem);i&&(n.mft=i.top,n.mfl=i.left,n.mfw=i.width,n.mfh=i.height),e.send(t,n)}};e.exports=s},{"./browser.js":4,"./dom.js":7,"./utils.js":29}],20:[function(t,e,n){var i=t("./dom.js"),o=t("./utils"),r={_event:null,_observer:null,nodeNames:["iframe","a","blockquote"],html:function(){var t=document.getElementsByTagName("html");return 0===t.length?null:t[0]},recurse:function(t){var e=[];return o.isElement(t)&&e.push(t),o.reduce(t.childNodes,function(t,e){return o.isElement(e)?t.concat(r.recurse(e)):t},e)},observer:function(n){var t=r.html();if(null===t)return!1;if(!window.MutationObserver)return!1;r._observer=new window.MutationObserver(function(t){o.each(t,function(t){if("childList"===t.type&&t.addedNodes){var e=Array.prototype.slice.call(t.addedNodes);o.each(e,function(t){o.each(r.recurse(t),function(t){t.nodeName&&o.contains(r.nodeNames,t.nodeName.toLowerCase())&&n.notify("mutation.insert."+t.nodeName.toLowerCase(),t)})})}})});return r._observer.observe(t,{childList:!0,subtree:!0}),!0},events:function(e){var t=r.html();return null!==t&&(r._event=function(t){o.each(r.recurse(t.target),function(t){t.nodeName&&o.contains(r.nodeNames,t.nodeName.toLowerCase())&&e.notify("mutation.insert."+t.nodeName.toLowerCase(),t)})},i.addEvent(t,"DOMNodeInserted",r._event),!0)},stop:function(){var t=r.html();return null!==t&&(r._event&&(i.detachEvent(t,"DOMNodeInserted",r._event),r._event=null),void(r._observer&&(r._observer.disconnect(),r._observer=null)))},connect:function(t){return!r._event&&!r._observer&&void(r.observer(t)||r.events(t))}};e.exports=r},{"./dom.js":7,"./utils":29}],21:[function(t,e,n){var o=t("./utils.js"),r=t("./urlparse.js"),s=t("./comms.js"),a=t("conf"),l={started:!1,connect:function(t,e){var n=r.getDomain(document.location.toString());if(!e&&a.PAGE_PROGRESS_DOMAINS&&!o.contains(a.PAGE_PROGRESS_DOMAINS,n))return!1;if(l.started)return!1;l.started=!0;var i=function(){t.get("xcomm.page.progress",function(){t.notify("xcomm.page.progress.started")})};s.started?i():(s.connect(t,{name:"platform"}),t.one("xcomm.ready",i))}};e.exports=l},{"./comms.js":6,"./urlparse.js":28,"./utils.js":29,conf:"conf"}],22:[function(t,e,n){var s=t("./utils.js"),i=t("./browser.js"),a={CONTEXT:"player.js",VERSION:"0.0.11",bound:function(e,n){return function(t){e.call(n||window,t.value)}},Player:function(t){return this instanceof a.Player?void this.init(t):new a.Player(t)},EVENTS:{READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"}};a.EVENTS.all=function(){return s.map(a.EVENTS,function(t){return t})},a.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},a.METHODS.all=function(){return s.map(a.METHODS,function(t){return t})},a.READIED=[],a.Player.prototype.init=function(t){this.frame=t,this.url=t.url,this.events=a.EVENTS.all(),this.methods=a.METHODS.all()},a.Player.prototype.send=function(t,e,n){return t.context=a.CONTEXT,t.version=a.VERSION,e?(t.listener="l"+s.getUUID(),this.frame.one({event:t.method,listener:t.listener},a.bound(e,n),n)):this.frame.on(t.method,e,n),this.frame.send(t.method,t),!0},a.Player.prototype.on=function(t,e,n){var i=s.getUUID(),o={event:t,listener:i};return"ready"===t?this.frame.one(o,a.bound(e,n),n):this.frame.on(o,a.bound(e,n),n),this.frame.send("addEventListener",{event:"addEventListener",value:t,listener:i,context:a.CONTEXT,version:a.VERSION}),!0},a.Player.prototype.off=function(t){var e=this.frame.__hub.listeners(t);if(i.console.log("Player.off",e),0<e.length)for(var n in e)this.send({method:"removeEventListener",value:t,listener:e[n]}),this.frame.__hub.off([t,e[n]].join("."));return!1},a.Player.prototype.supports=function(t,e){s.assert(-1<s.indexOf(["method","event"],t),'evtOrMethod needs to be either "event" or "method" got '+t),e=s.isArray(e)?e:[e];for(var n="event"===t?this.events:this.methods,i=0;i<e.length;i++)if(-1===a.indexOf(n,e[i]))return!1;return!0},s.each(a.METHODS.all(),function(t){var n;a.Player.prototype.hasOwnProperty(t)||(a.Player.prototype[t]=(n=t,function(){var t={method:n},e=Array.prototype.slice.call(arguments);/^get/.test(n)?(s.assert(0<e.length,"Get methods require a callback."),e.unshift(t)):(/^set/.test(n)&&(s.assert(0!==e.length,"Set methods require a value."),t.value=e[0]),e=[t]),this.send.apply(this,e)}))}),a._all=[],a.get=function(t,e,n){var i,o,r=(i=e,o=n,function(t,e){return(!i||e===i)&&void o.call(window,t,i)});s.each(a._all,function(t){r(t.player,t.elem)}),t.on("media.player",r)},a.add=function(t,e){var n=new a.Player(e);t.notify("media.player",n,e.elem),a._all.push({player:n,elem:e.elem})},a.connect=function(e){e.on("media.player.init",function(t){a.add(e,t)}),e.on("card.player.ready",function(t){a.add(e,t)})},e.exports=a},{"./browser.js":4,"./utils.js":29}],23:[function(t,e,n){var r=t("./utils.js"),s=t("./browser.js"),a=t("./dom.js"),i=function(){this.init()};i.prototype.init=function(){var t=this;document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),t.ready()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),t.ready())}),document.documentElement.doScroll&&window===window.top&&function(){if(!t.isReady){try{document.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0)}t.ready()}}()),a.addEvent(window,"load",t.ready)},i.prototype.ready=function(){return!this.isReady&&(this.isReady=!1,void(this.callback&&this.callback()))},i.prototype.bind=function(t){this.isReady&&t(),this.callback=t},i.prototype.elem=function(e,t,n){var i=!1,o=function(){!1===i&&(i=!0,t.call(n))};return e.onload=o,a.addEvent(e,"load",o),e.onreadystatechange=function(){var t=e.readyState;("loaded"===t||"complete"===t)&&(e.onreadystatechange=null,o())},o},i.prototype.firstNode=function(){var t=document.getElementsByTagName("head")[0],e=a.child(t,"link");if(e)return e;var n=a.child(t,"style");if(n)return n;var i=a.child(t,"script");return i||null},i.prototype.appendToHead=function(t){var e=this.firstNode();if(null===e){var n=document.getElementsByTagName("head")[0];n?n.appendChild(t):document.body.appendChild(t)}else e.parentNode.insertBefore(t,e)},i.prototype.script=function(t,e,n,i){var o=document.createElement("script");return o.type="text/javascript",o.src=t,r.isNone(i)||r.each(i,function(t,e){o.setAttribute(e,t)}),this.elem(o,e,n),this.appendToHead(o),o},i.prototype.css=function(t,e,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=t;var o=this.elem(i,e,n);this.appendToHead(i),s.isPhantom()&&o()},e.exports=new i},{"./browser.js":4,"./dom.js":7,"./utils.js":29}],24:[function(t,e,n){var o=t("../urlparse.js"),c=t("../utils.js"),r={enabled:!1,defaults:{},options:{},_queue:{},queue:function(t,e,n){e?e.send(t):r._queue.hasOwnProperty(n)?r._queue[n].push(t):r._queue[n]=[t]},add:function(e,n){var t=o.getQuery(e.elem.src);if(r.enabled){var i={key:t.key,media:t.url,url:document.location.toString()};r.options.hasOwnProperty(e.elem)&&(i=c.extend(i,r.options[e.elem])),i=c.extend(i,r.defaults),e.send("media.recommend",i),e.on("media.recommend.shown",function(t){n.notify("recommend.shown",e.elem,t)}),r._queue.hasOwnProperty(e.elem)&&(c.each(r._queue[e.elem],function(t){e.send(t)}),delete r._queue[e.elem])}},connect:function(i){i.on("media.recommend.options",function(t,e,n){r.enabled=!0,null===t?r.defaults=e:c.isElement(t)&&(r.options[t]=e),c.each(n,function(t){i.notify("media.recommend.add",t)})}),i.on("media.recommend.add",function(t){r.add(t,i)}),i.on("media.recommend.show",function(t,e){r.queue("media.recommend.show",t,e)}),i.on("media.recommend.destroy",function(t,e){r.queue("media.recommend.destroy",t,e)}),i.on("media.recommend.resize",function(t,e){if(!e.height)return!1;var n=t.parentNode,i=window.getComputedStyle(n),o=window.getComputedStyle(t),r=["relative"===i.position,i.paddingBottom===i.height||i.paddingTop===i.height,"absolute"===o.position];if(c.every(r)){var s=parseInt(o.width,10),a=(e.height/s*100).toPrecision(8)+"%",l=parseInt(i.paddingTop,10);parseInt(i.paddingBottom,10)<l?n.style.paddingTop=a:n.style.paddingBottom=a}else t.style.maxHeight="none",t.height=e.height,t.style.height=e.height.toString()+"px"})}};e.exports=r},{"../urlparse.js":28,"../utils.js":29}],25:[function(t,e,n){var s=t("./utils.js"),a=t("./dom.js"),i=t("./ready.js"),l=t("./urlparse.js"),o=t("./log/front.js"),r=t("conf"),c={_css:!1,hub:null,connect:function(t){c.hub=t},log:function(t,e){c.hub.notify("log.event",{u:t,g:"card",a:"click",c:e,l:s.hash(o.sid)})},url:function(t){var e=["e",s.hash(t),s.hash(o.sid)].join(".");return l.addHash(document.URL,e)},buttons:function(e){var n,i=a.create("div",{class:"embdscl0"});return s.each(["facebook","twitter","pinterest","linkedin","card"],function(t){(n=a.create("a",{class:"embd-"+t})).innerHTML="<i></i>",!0===c.buttons[t].call(window,n,e)&&i.appendChild(n)}),i}};c.buttons.twitter=function(e,n){var t=n.options.url,i=n.extract.title,o=n.options.twitter_via,r={url:c.url(t)};return i&&(r.text=s.truncate(i,100)),r.via=o?"@"===o.substr(0,1)?o.substr(1):o:"embedly",e.href="https://twitter.com/intent/tweet?"+l.createQuery(r),a.addEvent(e,"click",function(t){a.event(t).stop(),window.open(e.href,"_blank","width=550,height=410,top=150,left=150"),c.log(n.options.url,"twitter")}),!0},c.buttons.facebook=function(e,n){var t={u:c.url(n.options.url)};return e.href="https://www.facebook.com/sharer/sharer.php?"+l.createQuery(t),a.addEvent(e,"click",function(t){a.event(t).stop(),window.open(e.href,"_blank","width=700,height=425,top=150,left=150"),c.log(n.options.url,"facebook")}),!0},c.buttons.pinterest=function(e,n){var t;if(n.options.image)t=n.options.image;else if(n.extract.media&&"photo"===n.extract.media.type)t=n.extract.media.url;else{if(!(n.extract.images&&0<n.extract.images.length))return!1;t=n.extract.images[0].url}return e.href=l.appendQuery("https://www.pinterest.com/pin/create/button/",{url:c.url(n.options.url),media:t,description:n.extract.title}),a.addEvent(e,"click",function(t){a.event(t).stop(),window.open(e.href,"_blank","width=700,height=425,top=150,left=150"),c.log(n.options.url,"pinterest")}),!0},c.buttons.card=function(t,n){return a.addEvent(t,"click",function(t){a.event(t).stop();var e={url:n.options.url};s.each(["image","embed","title","description","lang"],function(t){n.options.hasOwnProperty(t)&&(e[t]=n.options[t])}),n.__hub.notify("card.repeat",e),c.log(n.options.url,"repeat")}),!0},c.buttons.linkedin=function(e,n){var t={url:c.url(n.options.url),mini:"true"};return e.href="https://www.linkedin.com/shareArticle?"+l.createQuery(t),a.addEvent(e,"click",function(t){a.event(t).stop(),window.open(e.href,"_blank","width=700,height=425,top=150,left=150"),c.log(n.options.url,"linkedin")}),!0},c.buttons.embedly=function(t,e){var n={utm_source:l.getDomain(document.URL),utm_medium:"referral",utm_campaign:"cards"};return t.href=l.appendQuery("http://embed.ly/cards",n),t.target="_blank",a.addEvent(t,"click",function(){c.log(e.options.url,"whats-this")}),!0},c.css=function(t){if(!c._css){c._css=!0;var e=r.EMB_ORIGIN_BASE+"css/social."+r.EMB_ASSET_VERSION+".css";return i.css(e,t),!1}t()},c.card=function(e){var n=e.elem.parentNode;return!(!s.isElement(n)||"DIV"!==n.nodeName&&!a.hasClass(n,"embedly-card"))&&void c.css(function(){var t=c.buttons(e);a.addEvent(n,"mouseenter",function(){a.addClass(t,"embd-active")}),a.addEvent(n,"mouseleave",function(){a.removeClass(t,"embd-active")}),n.appendChild(t),e.__hub.notify("card.share.init")})},e.exports=c},{"./dom.js":7,"./log/front.js":18,"./ready.js":23,"./urlparse.js":28,"./utils.js":29,conf:"conf"}],26:[function(t,e,n){var l=t("./utils.js"),c=t("./urlparse.js"),u=t("conf"),h={};h.youtube={schema:"youtube",re:/youtube\.com\/embed\/([^\/?#]+)/i,url:function(t){var e=h.youtube.re.exec(t);return 2!==e.length?t:"http://www.youtube.com/watch?v="+e[1]}},h.vimeo={schema:"vimeo",re:/player\.vimeo\.com\/video\/([^\/?#]+)/i,url:function(t){var e=h.vimeo.re.exec(t);return 2!==e.length?t:"http://vimeo.com/"+e[1]}},h.soundcloud={schema:"soundcloud",re:/w\.soundcloud\.com\/player\/\?/,url:function(t){var e=c.getQuery(t);if(e.url){var n=/api\.soundcloud\.com\/tracks\/([^\/?#]+)/.exec(e.url);if(2===n.length)return"https://soundcloud.com/track/"+n[1]}return t}},h.providers=[h.youtube,h.vimeo,h.soundcloud],h.provider=function(n){return l.reduce(h.providers,function(t,e){return e.re.test(n)?e:t},null)},h.replace=function(t,e){if(l.isNone(t)||!l.isElement(t))return null;if("IFRAME"!==t.nodeName)return null;if(!t.src||!l.isString(t.src))return null;if(!e.key)return!1;var n=t.src;n=n.replace(/&amp;/g,"&");var i=h.provider(n);if(null===i)return null;var o="https:"===window.location.protocol?"https:":"http:";"file://"===n.substr(0,7)&&(n=n.substr(5)),"//"===n.substr(0,2)&&(n=o+n);var r=l.extend({},e,{url:i.url(n),src:n,schema:i.schema,type:"text/html"}),s=o+"//cdn.embedly.com/widgets/";u.EMB_DEBUG&&(s=u.EMB_FRAME_SRC);var a=s+"media.html?"+c.createQuery(r);return t.src=a,t},e.exports=h},{"./urlparse.js":28,"./utils.js":29,conf:"conf"}],27:[function(t,e,n){var i=t("./utils.js"),o={Tunnel:function(t){this.init(t)}};o.Tunnel.prototype.init=function(t){this.parent=t,this.child=null,this.ready=!1,this.queue=[]},o.Tunnel.prototype.connect=function(t){this.child=t,this.child.on("receiver.send",i.bind(function(t,e){i.isNone(e)&&(e={}),e.method=t,setTimeout(i.bind(function(){this.parent.notify("message",e)},this),1)},this)),this.ready=!0,this.release()},o.Tunnel.prototype.release=function(){for(var t=0;t<this.queue.length;t++)this.send(this.queue[t]);this.queue=[]},o.Tunnel.prototype.send=function(t){return this.ready?void setTimeout(i.bind(function(){this.child.notify(t.method,t)},this),1):(this.queue.push(t),!1)},o.Tunnel.prototype.clear=function(){this.ready=!1,this.parent.clear(),this.child&&this.child.clear()},e.exports=o},{"./utils.js":29}],28:[function(t,e,n){var o=t("./utils.js"),r={createQuery:function(t){var n=[];return t&&o.isObject(t)&&!o.isEmptyObject(t)?(o.each(t,function(t,e){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.sort(),n.join("&")):""},parseQuery:function(t){var i={};if(!t||!o.isString(t))return i;("#"===t.substr(0,1)||"?"===t.substr(0,1))&&(t=t.substr(1));var e=t.split("&");return o.each(e,function(t){if(!t)return!0;var e=t.split("="),n=decodeURIComponent(e[0]);1===e.length?i[n]="":2===e.length?i[n]=decodeURIComponent(e[1]):i[n]=decodeURIComponent(e.slice(1).join("="))}),i},getQuery:function(t){if(!t||!o.isString(t))return{};var e=t.split("?");return 2===e.length?r.parseQuery(e[1]):2<e.length?r.parseQuery(e.slice(1).join("?")):{}},appendQuery:function(t,e){if(!t||!o.isString(t))return null;var n=t.split("?")[0];if(!e||!o.isObject(e)||o.isEmptyObject(e))return t;var i=r.getQuery(t);return i=o.extend(i,e),o.isEmptyObject(i)?t:[n,r.createQuery(i)].join("?")},removeQuery:function(t,e){if(!t||!o.isString(t))return null;var n=t.split("?")[0],i=r.getQuery(t);return i.hasOwnProperty(e)&&delete i[e],o.isEmptyObject(i)?n:[n,r.createQuery(i)].join("?")},getOrigin:function(t){if(!t||!o.isString(t))return null;if(!/^https?:\/\//.test(t))return null;var e=t.split("/").slice(0,3).join("/");return-1===e.indexOf(".")&&-1===e.indexOf(":")?null:e},getDomain:function(t){var e=r.getOrigin(t);return e?e.replace(/^https?:\/\//,""):null},param:function(t){return o.map(t,function(t,e){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&")},Parsed:function(t,e){this.init(t,e)}};r.Parsed.prototype.init=function(t,e){this.original=t,this.url=e,this._valid=!1,this.url=e},r.Parsed.prototype.valid=function(t){return(!0===t||!1===t)&&(this._valid=t),this._valid},r.parse=function(t){var e=t,n="https:"===window.location.protocol?"https:":"http:";t=t?o.trim(t):t;var i=new r.Parsed(e,t);return t&&(/^https?:\/\/[^\/]+\.[^\/]/i.test(t)?i.valid(!0):/^\w+:/i.test(t)||"#"===t[0]||(/^\/\/[^\/]+\.[^\/]/i.test(t)?(i.valid(!0),i.url=n+t):/^\/([^\/]+|$)/i.test(t)?(i.valid(!0),i.url=r.getOrigin(window.location.toString())+t):/^[^\/]+\.[^\/]/i.test(t)&&(i.valid(!0),i.url="http://"+t))),i},r.addHash=function(t,e){return-1===t.indexOf("#")?t+"#"+e:t+"&"+e},r.sanitize=function(t){return t?(t=t.replace(/#x\d\d;/,"")).replace(/[^-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]/g,""):t},e.exports=r},{"./utils.js":29}],29:[function(t,e,n){var i=t("conf"),a={},s={},o=Array.prototype,l=Object.prototype,r=Function.prototype,c=o.slice,u=l.toString,h=o.forEach,d=o.reduce,f=o.every,p=o.indexOf,g=r.bind;a.identity=function(t){return t},a.each=function(t,e,n){if(null!=t)if(h&&t.forEach===h)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(i in t&&e.call(n,t[i],i,t)===s)return}else for(var r in t)if(l.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t)===s)return},a.map=function(t,i,o){var r=[];return null==t?r:Array.prototype.map&&t.map===Array.prototype.map?t.map(i,o):(a.each(t,function(t,e,n){r[r.length]=i.call(o,t,e,n)}),r)},a.reduce=function(t,i,o,r){var s=2<arguments.length;if(null==t&&(t=[]),d&&t.reduce===d)return r&&(i=a.bind(i,r)),s?t.reduce(i,o):t.reduce(i);if(a.each(t,function(t,e,n){s?o=i.call(r,o,t,e,n):(o=t,s=!0)}),!s)throw new TypeError("Reduce of empty array with no initial value");return o},a.zip=function(n){return a.map(n[0],function(t,e){return t.map(n,function(t){return t[e]})})},a.extend=function(n){return a.each(Array.prototype.slice.call(arguments,1),function(t){for(var e in t)void 0!==t[e]&&(n[e]=t[e])}),n},a.contains=function(t,e){if(p)return-1<t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return!0;return!1},a.every=function(t,i,o){i||(i=a.identity);var r=!0;return null==t?r:f&&t.every===f?t.every(i,o):(a.each(t,function(t,e,n){return(r=r&&i.call(o,t,e,n))?void 0:s}),!!r)},a.indexOf=function(t,e){if(null==t)return-1;var n=0,i=t.length;if(p&&t.indexOf===p)return t.indexOf(e);for(;n<i;n++)if(t[n]===e)return n;return-1},a.batch=function(t,e){var n=[],i=[];return a.each(t,function(t){i.push(t),i.length===e&&(n.push(i),i=[])}),0!==i.length&&n.push(i),n};var m=function(){};a.bind=function(n,i){var o,r;if(g&&n.bind===g)return g.apply(n,c.call(arguments,1));if(!a.isFunction(n))throw new TypeError;return o=c.call(arguments,2),r=function(){if(!(this instanceof r))return n.apply(i,o.concat(c.call(arguments)));m.prototype=n.prototype;var t=new m;m.prototype=null;var e=n.apply(t,o.concat(c.call(arguments)));return Object(e)===e?e:t}},a.get=function(t,e,n){if(n=a.isNone(n)?null:n,a.isNone(e)||!a.isString(e)||!t)return n;if(""===e)return t;var i=e.split("."),o=i.splice(0,1)[0];return t.hasOwnProperty(o)?a.get(t[o],i.join("."),n):n},a.isFunction=function(t){try{return/^\s*\bfunction\b/.test(t)}catch(t){return!1}},a.isNone=function(t){return null==t},a.isString=function(t){return"[object String]"===u.call(t)},a.isNumber=function(t){return"[object Number]"===u.call(t)},a.isDate=function(t){return"[object Date]"===u.call(t)},a.isObject=function(t){return"[object Object]"===u.call(t)},a.isArray=function(t){return"[object Array]"===u.call(t)},a.isElement=function(t){return!a.isNone(t)&&!a.isNone(t.nodeType)&&1===t.nodeType},a.isEmptyObject=function(t){if(a.isObject(t)){for(var e in t)if(l.hasOwnProperty.call(t,e))return!1;return!0}return!1},a.bool=function(t){return a.isNone(t)?null:"true"===t||"yes"===t||"1"===t||1===t||!0===t||"false"!==t&&"no"!==t&&"0"!==t&&0!==t&&!1!==t&&null},a.assert=function(t,e){if(!t)throw e||"Assertion Failed"},a.getUUID=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},a.getTimestamp=function(){return(new Date).getTime()},a.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},a.spaceless=function(t){return t.replace(/\s+/g,"")},a.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},a.camelCase=function(t,e){var n=t.split("-");return e=e||n.length,1<n.length&&(t=n.splice(0,1)[0],t+=a.map(n.splice(0,e),function(t){return t[0].toUpperCase()+t.substr(1)}).join(""),0<n.length&&(t+="-"+n.join("-"))),t},a.truncate=function(t,e){return t?(e=e||50,t.length<e?t:(t=t.substr(0,e-3),a.trim(t)+"...")):""},a.fmt=function(t,n){return t.replace(/{(\w+)}/g,function(t,e){return n[e]?n[e]:""})},a.fullHash=function(t){var e,n,i=0;if(0===t.length)return i;for(e=0,n=t.length;e<n;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return Math.abs(i).toString(32)},a.hash=function(t){var e="0000000"+a.fullHash(t);return e.substr(e.length-6)},a.rgbToHex=function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},!0===i.EMB_DEBUG&&(window._=a),e.exports=a},{conf:"conf"}],30:[function(t,e,n){var i=t("./utils.js"),o=t("./dom.js"),r=t("./browser.js"),s=function(){this.init()};s.prototype.init=function(){this._elements=[],this._listening=!1},s.prototype.viewable=function(t){if(!t.getBoundingClientRect)return!0;var e;try{e=t.getBoundingClientRect()}catch(t){return!1}return 0<=e.bottom&&0<=e.right&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)},s.prototype.check=function(){this.freeze=!0;var n=[];i.each(this._elements,i.bind(function(t,e){if(this.viewable(t.elem)){try{t.func.call(this)}catch(t){r.console.log(t)}n.push(e)}},this)),i.each(n,function(t){this._elements.splice(t,1)},this),0===this._elements.length&&this.stop(),this.freeze=!1},s.prototype.stop=function(){try{o.detachEvent(window,"DOMContentLoaded",this.handler),o.detachEvent(window,"load",this.handler),o.detachEvent(window,"resize",this.handler),o.detachEvent(window,"scroll",this.handler)}catch(t){}this.handler=null,this._listening=!1},s.prototype.listen=function(){return!this._listening&&(this._listening=!0,this.handler=i.bind(function(){!this.freeze&&this._elements.length&&this.check()},this),o.addEvent(window,"DOMContentLoaded",this.handler),o.addEvent(window,"load",this.handler),o.addEvent(window,"resize",this.handler),void o.addEvent(window,"scroll",this.handler))},s.prototype.on=function(t,e,n){"viewable"===t&&(this._elements.push({elem:e,func:n}),this.listen(),this.check())},e.exports=s},{"./browser.js":4,"./dom.js":7,"./utils.js":29}],31:[function(t,e,n){if(window.embedly&&window.embedly.look)return window.embedly.look(),!1;var r=t("./common/iframes/all.js"),i=t("./common/browser.js"),s=t("./common/utils.js"),o=t("./common/a.js"),a=t("./common/dom.js"),l=t("./common/ready.js"),c=t("./common/meta.js"),u=t("./common/viewport.js"),h=t("./common/page.js"),d=t("./common/urlparse.js"),f=t("./common/found.js"),p=t("./common/share.js"),g=t("./common/log/front.js"),m=t("./common/recommend/front.js"),v=t("./common/players.js"),y=t("./common/integrate.js"),b=t("./common/blacklist.js"),_=new o,w=new u;m.connect(_),p.connect(_),v.connect(_),y.connect(_),g.connect(_,"platform");var x,C={analytics:null,recommend:!1,shared:(x=/emb_(\d+)/.exec(i.location.hash()),x?x[1]:null),defaults:{cards:{}}},k={media:[]},$=function(t){var e;try{e=JSON.parse(t.data)}catch(t){return i.console.error(t),!1}_.notify("window.message",t,e)};a.addEvent(window,"message",$);var S=function(t,e,n){var i;if(s.isFunction(e)&&(n=e,e={}),s.isString(t)||!s.isElement(t)&&s.isObject(t))return f.add.cards(t),!0;if(s.isElement(t)&&("a"===t.nodeName.toLowerCase()||"blockquote"===t.nodeName.toLowerCase())){var o=s.extend({},C.defaults.cards,e);i=r.cards.one(t,o,_,function(t){s.isFunction(n)&&n.call(t,t)})}return i},E=function(t){var e;return s.isString(t)?(f.add.button(t),!0):(s.isElement(t)&&"a"===t.nodeName.toLowerCase()&&(e=r.button.one(t,_)),e&&e.on("button.rendered",function(){_.notify("button.rendered",e.elem,e)}),e)},O=function(t,e){var n;n=s.isString(t)?{url:t}:t;var i=r.modal.one(n,_);return s.isFunction(e)&&e.call(i,i),i},M=function(t,e,n){var i=r.slideshow.one(t,e,_);return s.isFunction(n)&&n.call(i,i),i},A=function(t){return s.isString(t)&&"reset"===t?!(C.defaults.cards={}):!!s.isObject(t)&&(t.hasOwnProperty("cards")&&s.isObject(t.cards)&&(C.defaults.cards=s.extend({},C.defaults.cards,t.cards)),t.hasOwnProperty("recommend")&&(_.notify("media.recommend.options",null,t.recommend,k.media),s.each(k.media,function(t){_.notify("media.recommend.add",t)})),void(t.hasOwnProperty("integrations")&&y.configure(t.integrations)))};_.on("found",function(t){t.cards&&t.cards.length&&r.cards.multi(t.cards,C.defaults.cards,_),t.buttons&&t.buttons.length&&s.each(t.buttons,function(t){E(t)}),t.slideshows&&t.slideshows.length&&s.each(t.slideshows,function(t){M(t)}),t.iframes&&t.iframes.length&&s.each(t.iframes,function(t){!function(e){if("1"===a.data(e,"connected"))return;a.data(e,"connected","1");var n=r.connect(null,e,_);n.one("media.ready",function(t){n.url=t.url,n.ready(),w.on("viewable",n.elem,function(){n.send("media.view")}),_.notify("media.recommend.add",n),k.media.push(n),t.controllable&&_.notify("media.player.init",n),_.notify("media.ready",n)}),n.on("media.recommend.resize",function(t){_.notify("media.recommend.resize",e,t)}),n.on("iframe.resize",function(t){t.height&&(n.elem.height=t.height),_.notify("media.resize",n)}),n.send("media.ready",{},!0)}(t)})}),_.on("modal.create",function(t){O(t)}),_.on("media.ready",function(t){c.send("media.meta",t)}),_.on("card.rendered",function(t,e){c.send("card.meta",e),w.on("viewable",t,s.bind(function(){this.send("card.view")},e))}),_.on("card.rendered",function(t,e){return!!C.shared&&(!(!e.query||!e.query.url)&&(s.hash(e.query.url)===C.shared&&(C.shared=null,void setTimeout(function(){var t=a.rect(e.elem);return!(!t||!t.top)&&void i.animateScroll(t.top-5,500)},500))))});var T=!1;_.on("pinterest.log",function(){if(T)return!1;T=!0;var t={type:"pidget",partner:"embedly",via:document.URL,callback:s.getUUID()};l.script("https://log.pinterest.com/?"+d.createQuery(t),function(){a.remove(a.one("#pinLog"))},this,{id:"pinLog"})});var P=function(){var t=Array.prototype.slice.call(arguments,0);if(0===t.length)return null;switch(t.splice(0,1)[0]){case"card":return S.apply(window,t);case"button":return E.apply(window,t);case"modal":return O.apply(window,t);case"slideshow":return M.apply(window,t);case"look":return f.look.apply(window,t);case"on":return function(t,e){_.on(t,e)}.apply(window,t);case"off":return function(t,e){_.off(t,e)}.apply(window,t);case"kill":return function(){a.detachEvent(window,"message",$),f.stop(),_.clear(),a.remove(a.one("#emb_xcomm")),window.embedly=null}.apply(window,t);case"analytics":return function(t){return!(!t||!t.key)&&(f.analytics=t,void f.look())}.apply(window,t);case"player":return function(t,e){s.isFunction(t)&&(e=t,t=null),v.get(_,t,e)}.apply(window,t);case"recommend":return function(e,n){if(!s.isElement(e))return!1;if(s.isString(n)){var i=!1;s.each(k.media,function(t){t.elem===e&&(i=!0,_.notify("media.recommend."+n,t,t.elem))}),i||_.notify("media.recommend."+n,null,e)}else s.isObject(n)&&_.notify("media.recommend.options",e,n,k.media);f.look()}.apply(window,t);case"defaults":return A.apply(window,t)}return null};b.allowed(window.location.toString())?function(){var t=[];window.embedly&&s.isFunction(window.embedly)&&s.isArray(window.embedly.q)&&(t=window.embedly.q),window.embedly=function(){return P.apply(window,arguments)},window.embedly.card=function(){return S.apply(window,arguments)},window.embedly.button=function(){return E.apply(window,arguments)},window.embedly.modal=function(){return O.apply(window,arguments)},window.embedly.slideshow=function(){return M.apply(window,arguments)},window.embedly.look=function(){return f.look()},window.embedly.defaults=function(){return A.apply(window,arguments)},s.each(t,function(t){window.embedly.apply(window,t)}),h.connect(_),f.connect(_),l.bind(f.look),s.isFunction(window.onEmbedlyReady)&&window.onEmbedlyReady.apply(this,[window.embedly])}():(window.embedly=function(){},s.each(["card","button","modal","slideshow","look","defaults"],function(t){window.embedly[t]=function(){}}))},{"./common/a.js":1,"./common/blacklist.js":3,"./common/browser.js":4,"./common/dom.js":7,"./common/found.js":8,"./common/iframes/all.js":9,"./common/integrate.js":16,"./common/log/front.js":18,"./common/meta.js":19,"./common/page.js":21,"./common/players.js":22,"./common/ready.js":23,"./common/recommend/front.js":24,"./common/share.js":25,"./common/urlparse.js":28,"./common/utils.js":29,"./common/viewport.js":30}],conf:[function(t,e,n){!function(t){t.EMB_DEBUG=!1,t.EMB_HTTPS="http:"!==window.location.protocol,t.EMB_ORIGIN=(t.EMB_HTTPS?"https":"http")+"://cdn.embedly.com",t.EMB_ORIGIN_BASE=t.EMB_ORIGIN+"/",t.EMB_ASSET_VERSION="96a3975a",t.EMB_FRAME_SRC=t.EMB_ORIGIN+"/widgets/",t.EMB_SECURE_FRAME_SRC="https://cdn.embedly.com/widgets/",t.EMB_POST_MESSAGE=!!window.postMessage,t.EMB_PROGRESS=!0,t.EMB_APP_API="https://app.embed.ly",t.EMB_API_KEY="fd92ebbc52fc43fb98f69e50e7893c13";var e=window.location.pathname.split(".")[0].split("/");t.EMB_GROUP=e[e.length-1].toLowerCase(),t.PAGE_PROGRESS_DOMAINS=[]}(void 0===e?this.conf={}:e.exports)},{}]},{},[31])}(),function(t,e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof module&&module.exports?module.exports=e():t.lscache=e()}(this,function(){var e,t,o="lscache-",r="-cacheexpiration",n=6e4,s=_(n),a="",i=!1;function l(){var t="__lscachetest__";if(void 0!==e)return e;try{if(!localStorage)return!1}catch(t){return!1}try{p(t,"__lscachetest__"),g(t),e=!0}catch(t){e=!(!c(t)||!localStorage.length)}return e}function c(t){return t&&("QUOTA_EXCEEDED_ERR"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name||"QuotaExceededError"===t.name)}function u(){return void 0===t&&(t=null!=window.JSON),t}function h(t){return t+r}function d(){return Math.floor((new Date).getTime()/n)}function f(t){return localStorage.getItem(o+a+t)}function p(t,e){localStorage.removeItem(o+a+t),localStorage.setItem(o+a+t,e)}function g(t){localStorage.removeItem(o+a+t)}function m(t){for(var e=new RegExp("^"+o+a.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),n=localStorage.length-1;0<=n;--n){var i=localStorage.key(n);(i=(i=i&&i.match(e))&&i[1])&&i.indexOf(r)<0&&t(i,h(i))}}function v(t){var e=h(t);g(t),g(e)}function y(t){var e=h(t),n=f(e);if(n){var i=parseInt(n,10);if(d()>=i)return g(t),g(e),!0}}function b(t,e){i&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+t),e&&window.console.warn("lscache - The error was: "+e.message))}function _(t){return Math.floor(864e13/t)}return{set:function(e,n,t){if(!l())return!1;if(!u())return!1;try{n=JSON.stringify(n)}catch(t){return!1}try{p(e,n)}catch(t){if(!c(t))return b("Could not add item with key '"+e+"'",t),!1;var i,o=[];m(function(t,e){var n=f(e);n=n?parseInt(n,10):s,o.push({key:t,size:(f(t)||"").length,expiration:n})}),o.sort(function(t,e){return e.expiration-t.expiration});for(var r=(n||"").length;o.length&&0<r;)i=o.pop(),b("Cache is full, removing item with key '"+e+"'"),v(i.key),r-=i.size;try{p(e,n)}catch(t){return b("Could not add item with key '"+e+"', perhaps it's too big?",t),!1}}return t?p(h(e),(d()+t).toString(10)):g(h(e)),!0},get:function(t){if(!l())return null;if(y(t))return null;var e=f(t);if(!e||!u())return e;try{return JSON.parse(e)}catch(t){return e}},remove:function(t){l()&&v(t)},supported:function(){return l()},flush:function(){l()&&m(function(t){v(t)})},flushExpired:function(){l()&&m(function(t){y(t)})},setBucket:function(t){a=t},resetBucket:function(){a=""},getExpiryMilliseconds:function(){return n},setExpiryMilliseconds:function(t){s=_(n=t)},enableWarnings:function(t){i=t}}}),function(t,e){var n=function(i,f,r){"use strict";var p,g;if(function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in g=i.lazySizesConfig||i.lazysizesConfig||{},e)t in g||(g[t]=e[t])}(),!f||!f.getElementsByClassName)return{init:function(){},cfg:g,noSupport:!0};var m=f.documentElement,o=i.HTMLPictureElement,s="addEventListener",v="getAttribute",e=i[s].bind(i),h=i.setTimeout,n=i.requestAnimationFrame||h,a=i.requestIdleCallback,d=/^picture$/i,l=["load","error","lazyincluded","_lazyloaded"],c={},y=Array.prototype.forEach,u=function(t,e){return c[e]||(c[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),c[e].test(t[v]("class")||"")&&c[e]},b=function(t,e){u(t,e)||t.setAttribute("class",(t[v]("class")||"").trim()+" "+e)},_=function(t,e){var n;(n=u(t,e))&&t.setAttribute("class",(t[v]("class")||"").replace(n," "))},w=function t(e,n,i){var o=i?s:"removeEventListener";i&&t(e,n),l.forEach(function(t){e[o](t,n)})},x=function(t,e,n,i,o){var r=f.createEvent("Event");return n||(n={}),n.instance=p,r.initEvent(e,!i,!o),r.detail=n,t.dispatchEvent(r),r},C=function(t,e){var n;!o&&(n=i.picturefill||g.pf)?(e&&e.src&&!t[v]("srcset")&&t.setAttribute("srcset",e.src),n({reevaluate:!0,elements:[t]})):e&&e.src&&(t.src=e.src)},k=function(t,e){return(getComputedStyle(t,null)||{})[e]},$=function(t,e,n){for(n=n||t.offsetWidth;n<g.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},S=(xt=[],Ct=[],kt=xt,$t=function(){var t=kt;for(kt=xt.length?Ct:xt,wt=!(_t=!0);t.length;)t.shift()();_t=!1},St=function(t,e){_t&&!e?t.apply(this,arguments):(kt.push(t),wt||(wt=!0,(f.hidden?h:n)($t)))},St._lsFlush=$t,St),t=function(n,t){return t?function(){S(n)}:function(){var t=this,e=arguments;S(function(){n.apply(t,e)})}},E=function(t){var e,n,i=function(){e=null,t()},o=function t(){var e=r.now()-n;e<99?h(t,99-e):(a||i)(i)};return function(){n=r.now(),e||(e=h(o,99))}},O=(tt=/^img$/i,et=/^iframe$/i,nt="onscroll"in i&&!/(gle|ing)bot/.test(navigator.userAgent),it=0,ot=0,rt=-1,st=function(t){ot--,(!t||ot<0||!t.target)&&(ot=0)},at=function(t){return null==V&&(V="hidden"==k(f.body,"visibility")),V||!("hidden"==k(t.parentNode,"visibility")&&"hidden"==k(t,"visibility"))},lt=function(t,e){var n,i=t,o=at(t);for(B-=e,q+=e,H-=e,U+=e;o&&(i=i.offsetParent)&&i!=f.body&&i!=m;)(o=0<(k(i,"opacity")||1))&&"visible"!=k(i,"overflow")&&(n=i.getBoundingClientRect(),o=U>n.left&&H<n.right&&q>n.top-1&&B<n.bottom+1);return o},ct=function(){var t,e,n,i,o,r,s,a,l,c,u,h,d=p.elements;if((z=g.loadMode)&&ot<8&&(t=d.length)){for(e=0,rt++;e<t;e++)if(d[e]&&!d[e]._lazyRace)if(!nt||p.prematureUnveil&&p.prematureUnveil(d[e]))mt(d[e]);else if((a=d[e][v]("data-expand"))&&(r=1*a)||(r=it),c||(c=!g.expand||g.expand<1?500<m.clientHeight&&500<m.clientWidth?500:370:g.expand,p._defEx=c,u=c*g.expFactor,h=g.hFac,V=null,it<u&&ot<1&&2<rt&&2<z&&!f.hidden?(it=u,rt=0):it=1<z&&1<rt&&ot<6?c:0),l!==r&&(R=innerWidth+r*h,W=innerHeight+r,s=-1*r,l=r),n=d[e].getBoundingClientRect(),(q=n.bottom)>=s&&(B=n.top)<=W&&(U=n.right)>=s*h&&(H=n.left)<=R&&(q||U||H||B)&&(g.loadHidden||at(d[e]))&&(N&&ot<3&&!a&&(z<3||rt<4)||lt(d[e],r))){if(mt(d[e]),o=!0,9<ot)break}else!o&&N&&!i&&ot<4&&rt<4&&2<z&&(D[0]||g.preloadAfterLoad)&&(D[0]||!a&&(q||U||H||B||"auto"!=d[e][v](g.sizesAttr)))&&(i=D[0]||d[e]);i&&!o&&mt(i)}},Y=ct,Q=0,K=g.throttleDelay,X=g.ricTimeout,Z=function(){G=!1,Q=r.now(),Y()},J=a&&49<X?function(){a(Z,{timeout:X}),X!==g.ricTimeout&&(X=g.ricTimeout)}:t(function(){h(Z)},!0),ut=function(t){var e;(t=!0===t)&&(X=33),G||(G=!0,(e=K-(r.now()-Q))<0&&(e=0),t||e<9?J():h(J,e))},ht=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(st(t),b(e,g.loadedClass),_(e,g.loadingClass),w(e,ft),x(e,"lazyloaded"))},dt=t(ht),ft=function(t){dt({target:t.target})},pt=function(t){var e,n=t[v](g.srcsetAttr);(e=g.customMedia[t[v]("data-media")||t[v]("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},gt=t(function(e,t,n,i,o){var r,s,a,l,c,u;(c=x(e,"lazybeforeunveil",t)).defaultPrevented||(i&&(n?b(e,g.autosizesClass):e.setAttribute("sizes",i)),s=e[v](g.srcsetAttr),r=e[v](g.srcAttr),o&&(a=e.parentNode,l=a&&d.test(a.nodeName||"")),u=t.firesLoad||"src"in e&&(s||r||l),c={target:e},b(e,g.loadingClass),u&&(clearTimeout(F),F=h(st,2500),w(e,ft,!0)),l&&y.call(a.getElementsByTagName("source"),pt),s?e.setAttribute("srcset",s):r&&!l&&(et.test(e.nodeName)?function(e,n){try{e.contentWindow.location.replace(n)}catch(t){e.src=n}}(e,r):e.src=r),o&&(s||l)&&C(e,{src:r})),e._lazyRace&&delete e._lazyRace,_(e,g.lazyClass),S(function(){var t=e.complete&&1<e.naturalWidth;u&&!t||(t&&b(e,"ls-is-cached"),ht(c),e._lazyCache=!0,h(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&ot--},!0)}),mt=function(t){if(!t._lazyRace){var e,n=tt.test(t.nodeName),i=n&&(t[v](g.sizesAttr)||t[v]("sizes")),o="auto"==i;(!o&&N||!n||!t[v]("src")&&!t.srcset||t.complete||u(t,g.errorClass)||!u(t,g.lazyClass))&&(e=x(t,"lazyunveilread").detail,o&&M.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,ot++,gt(t,e,o,i,n))}},vt=E(function(){g.loadMode=3,ut()}),yt=function(){3==g.loadMode&&(g.loadMode=2),vt()},bt=function t(){if(!N){if(r.now()-L<999)return void h(t,999);N=!0,g.loadMode=3,ut(),e("scroll",yt,!0)}},{_:function(){L=r.now(),p.elements=f.getElementsByClassName(g.lazyClass),D=f.getElementsByClassName(g.lazyClass+" "+g.preloadClass),e("scroll",ut,!0),e("resize",ut,!0),e("pageshow",function(t){if(t.persisted){var e=f.querySelectorAll("."+g.loadingClass);e.length&&e.forEach&&n(function(){e.forEach(function(t){t.complete&&mt(t)})})}}),i.MutationObserver?new MutationObserver(ut).observe(m,{childList:!0,subtree:!0,attributes:!0}):(m[s]("DOMNodeInserted",ut,!0),m[s]("DOMAttrModified",ut,!0),setInterval(ut,999)),e("hashchange",ut,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(t){f[s](t,ut,!0)}),/d$|^c/.test(f.readyState)?bt():(e("load",bt),f[s]("DOMContentLoaded",ut),h(bt,2e4)),p.elements.length?(ct(),S._lsFlush()):ut()},checkElems:ut,unveil:mt,_aLSL:yt}),M=(P=t(function(t,e,n,i){var o,r,s;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),d.test(e.nodeName||""))for(o=e.getElementsByTagName("source"),r=0,s=o.length;r<s;r++)o[r].setAttribute("sizes",i);n.detail.dataAttr||C(t,n.detail)}),j=function(t,e,n){var i,o=t.parentNode;o&&(n=$(t,o,n),(i=x(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&P(t,o,i,n))},I=E(function(){var t,e=T.length;if(e)for(t=0;t<e;t++)j(T[t])}),{_:function(){T=f.getElementsByClassName(g.autosizesClass),e("resize",I)},checkElems:I,updateElem:j}),A=function t(){!t.i&&f.getElementsByClassName&&(t.i=!0,M._(),O._())};var T,P,j,I;var D,N,F,z,L,R,W,B,H,U,q,V,Y,G,Q,K,X,Z,J,tt,et,nt,it,ot,rt,st,at,lt,ct,ut,ht,dt,ft,pt,gt,mt,vt,yt,bt;var _t,wt,xt,Ct,kt,$t,St;return h(function(){g.init&&A()}),p={cfg:g,autoSizer:M,loader:O,init:A,uP:C,aC:b,rC:_,hC:u,fire:x,gW:$,rAF:S}}(t,t.document,Date);t.lazySizes=n,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=n)}("undefined"!=typeof window?window:{}),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){"use strict";var l="millisecond",f="second",p="minute",g="hour",m="day",v="week",y="month",b="year",o=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,_=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,r=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},t={s:r,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+r(i,2,"0")+":"+r(o,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,y),o=e-i<0,r=t.clone().add(n+(o?-1:1),y);return Number(-(n+(e-i)/(o?i-r:r-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:y,y:b,w:v,d:m,h:g,m:p,s:f,ms:l,Q:"quarter"}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},s="en",a={};a[s]=e;var c=function(t){return t instanceof h},i=function(t,e,n){var i;if(!t)return s;if("string"==typeof t)a[t]&&(i=t),e&&(a[t]=e,i=t);else{var o=t.name;a[o]=t,i=o}return n||(s=i),i},u=function(t,e,n){if(c(t))return t.clone();var i=e?"string"==typeof e?{format:e,pl:n}:e:{};return i.date=t,new h(i)},w=t;w.l=i,w.i=c,w.w=function(t,e){return u(t,{locale:e.$L,utc:e.$u})};var h=function(){function t(t){this.$L=this.$L||i(t.locale,null,!0),this.parse(t)}var e=t.prototype;return e.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(o);if(i)return n?new Date(Date.UTC(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)):new Date(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)}return new Date(e)}(t),this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return w},e.isValid=function(){return!("Invalid Date"===this.$d.toString())},e.isSame=function(t,e){var n=u(t);return this.startOf(e)<=n&&n<=this.endOf(e)},e.isAfter=function(t,e){return u(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<u(t)},e.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},e.year=function(t){return this.$g(t,"$y",b)},e.month=function(t){return this.$g(t,"$M",y)},e.day=function(t){return this.$g(t,"$W",m)},e.date=function(t){return this.$g(t,"$D","date")},e.hour=function(t){return this.$g(t,"$H",g)},e.minute=function(t){return this.$g(t,"$m",p)},e.second=function(t){return this.$g(t,"$s",f)},e.millisecond=function(t){return this.$g(t,"$ms",l)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){var i=this,o=!!w.u(e)||e,n=w.p(t),r=function(t,e){var n=w.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return o?n:n.endOf(m)},s=function(t,e){return w.w(i.toDate()[t].apply(i.toDate(),(o?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},a=this.$W,l=this.$M,c=this.$D,u="set"+(this.$u?"UTC":"");switch(n){case b:return o?r(1,0):r(31,11);case y:return o?r(1,l):r(0,l+1);case v:var h=this.$locale().weekStart||0,d=(a<h?a+7:a)-h;return r(o?c-d:c+(6-d),l);case m:case"date":return s(u+"Hours",0);case g:return s(u+"Minutes",1);case p:return s(u+"Seconds",2);case f:return s(u+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var n,i=w.p(t),o="set"+(this.$u?"UTC":""),r=(n={},n.day=o+"Date",n.date=o+"Date",n[y]=o+"Month",n.year=o+"FullYear",n.hour=o+"Hours",n[p]=o+"Minutes",n[f]=o+"Seconds",n[l]=o+"Milliseconds",n)[i],s=i===m?this.$D+(e-this.$W):e;if(i===y||i===b){var a=this.clone().set("date",1);a.$d[r](s),a.init(),this.$d=a.set("date",Math.min(this.$D,a.daysInMonth())).toDate()}else r&&this.$d[r](s);return this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[w.p(t)]()},e.add=function(n,t){var e,i=this;n=Number(n);var o=w.p(t),r=function(t){var e=u(i);return w.w(e.date(e.date()+Math.round(t*n)),i)};if(o===y)return this.set(y,this.$M+n);if(o===b)return this.set(b,this.$y+n);if(o===m)return r(1);if(o===v)return r(7);var s=(e={},e[p]=6e4,e.hour=36e5,e[f]=1e3,e)[o]||1,a=this.valueOf()+n*s;return w.w(a,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var o=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),e=this.$locale(),i=this.$H,s=this.$m,a=this.$M,l=e.weekdays,c=e.months,u=function(t,e,n,i){return t&&(t[e]||t(o,r))||n[e].substr(0,i)},h=function(t){return w.s(i%12||12,t,"0")},d=e.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:u(e.monthsShort,a,c,3),MMMM:c[a]||c(this,r),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:u(e.weekdaysMin,this.$W,l,2),ddd:u(e.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,s,!0),A:d(i,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return r.replace(_,function(t,e){return e||f[t]||n.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,e,n){var i,o=w.p(e),r=u(t),s=6e4*(r.utcOffset()-this.utcOffset()),a=this-r,l=w.m(this,r);return l=(i={},i.year=l/12,i[y]=l,i.quarter=l/3,i.week=(a-s)/6048e5,i.day=(a-s)/864e5,i.hour=a/36e5,i[p]=a/6e4,i[f]=a/1e3,i)[o]||a,n?l:w.a(l)},e.daysInMonth=function(){return this.endOf(y).$D},e.$locale=function(){return a[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var n=this.clone();return n.$L=i(t,e,!0),n},e.clone=function(){return w.w(this.toDate(),this)},e.toDate=function(){return new Date(this.$d)},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}();return u.prototype=h.prototype,u.extend=function(t,e){return t(e,h,u),u},u.locale=i,u.isDayjs=c,u.unix=function(t){return u(1e3*t)},u.en=a[s],u.Ls=a,u}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(require("jquery")):t.Tipped=e(jQuery)}(this,function($){function degrees(t){return 180*t/Math.PI}function radian(t){return t*Math.PI/180}function sec(t){return 1/Math.cos(t)}function sfcc(t){return String.fromCharCode.apply(String,t.replace(" ","").split(","))}function deepExtend(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=$.extend({},t[n])||{},deepExtend(t[n],e[n])):t[n]=e[n];return t}function Spin(){return this.initialize.apply(this,_slice.call(arguments))}function Visible(){return this.initialize.apply(this,_slice.call(arguments))}function Skin(){this.initialize.apply(this,_slice.call(arguments))}function Stem(){this.initialize.apply(this,_slice.call(arguments))}function Tooltip(){this.initialize.apply(this,_slice.call(arguments))}function Collection(){this.initialize.apply(this,_slice.call(arguments))}var Tipped={};$.extend(Tipped,{version:"4.6.1"}),Tipped.Skins={base:{afterUpdate:!1,ajax:{},cache:!0,container:!1,containment:{selector:"viewport",padding:5},close:!1,detach:!0,fadeIn:200,fadeOut:200,showDelay:75,hideDelay:25,hideAfter:!1,hideOn:{element:"mouseleave"},hideOthers:!1,position:"top",inline:!1,offset:{x:0,y:0},onHide:!1,onShow:!1,padding:!0,radius:!0,shadow:!0,showOn:{element:"mousemove"},size:"medium",spinner:!0,stem:!0,target:"element",voila:!0},reset:{ajax:!1,hideOn:{element:"mouseleave",tooltip:"mouseleave"},showOn:{element:"mouseenter",tooltip:"mouseenter"}}},$.each("dark light gray red green blue lightyellow lightblue lightpink".split(" "),function(t,e){Tipped.Skins[e]={}});var Browser=function(n){function t(t){var e=new RegExp(t+"([\\d.]+)").exec(n);return!e||parseFloat(e[1])}return{IE:!(!window.attachEvent||-1!==n.indexOf("Opera"))&&t("MSIE "),Opera:-1<n.indexOf("Opera")&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:-1<n.indexOf("AppleWebKit/")&&t("AppleWebKit/"),Gecko:-1<n.indexOf("Gecko")&&-1===n.indexOf("KHTML")&&t("rv:"),MobileSafari:!!n.match(/Apple.*Mobile.*Safari/),Chrome:-1<n.indexOf("Chrome")&&t("Chrome/"),ChromeMobile:-1<n.indexOf("CrMo")&&t("CrMo/"),Android:-1<n.indexOf("Android")&&t("Android "),IEMobile:-1<n.indexOf("IEMobile")&&t("IEMobile/")}}(navigator.userAgent),Support=function(){function e(t,e){var n=t.charAt(0).toUpperCase()+t.substr(1);return function(t,e){for(var n in t)if(void 0!==i.style[t[n]])return"prefix"!=e||t[n];return!1}((t+" "+o.join(n+" ")+n).split(" "),e)}var i=document.createElement("div"),o="Webkit Moz O ms Khtml".split(" ");return{css:{animation:e("animation"),transform:e("transform"),prefixed:function(t){return e(t,"prefix")}},shadow:e("boxShadow")&&e("pointerEvents"),touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch(t){return!1}}()}}(),_slice=Array.prototype.slice,_={wrap:function(t,e){var n=t;return function(){var t=[$.proxy(n,this)].concat(_slice.call(arguments));return e.apply(this,t)}},isElement:function(t){return t&&1==t.nodeType},isText:function(t){return t&&3==t.nodeType},isDocumentFragment:function(t){return t&&11==t.nodeType},delay:function(t,e){var n=_slice.call(arguments,2);return setTimeout(function(){return t.apply(t,n)},e)},defer:function(t){return _.delay.apply(this,[t,1].concat(_slice.call(arguments,1)))},pointer:function(t){return{x:t.pageX,y:t.pageY}},element:{isAttached:function(t){var e=function(t){for(var e=t;e&&e.parentNode;)e=e.parentNode;return e}(t);return!(!e||!e.body)}}},getUID=(xOa=0,function(t){for(t=t||"_tipped-uid-",xOa++;document.getElementById(t+xOa);)xOa++;return t+xOa}),Position={positions:["topleft","topmiddle","topright","righttop","rightmiddle","rightbottom","bottomright","bottommiddle","bottomleft","leftbottom","leftmiddle","lefttop"],regex:{toOrientation:/^(top|left|bottom|right)(top|left|bottom|right|middle|center)$/,horizontal:/^(top|bottom)/,isCenter:/(middle|center)/,side:/^(top|bottom|left|right)/},toDimension:(AOa={top:"height",left:"width",bottom:"height",right:"width"},function(t){return AOa[t]}),isCenter:function(t){return!!t.toLowerCase().match(this.regex.isCenter)},isCorner:function(t){return!this.isCenter(t)},getOrientation:function(t){return t.toLowerCase().match(this.regex.horizontal)?"horizontal":"vertical"},getSide:function(t){var e=null,n=t.toLowerCase().match(this.regex.side);return n&&n[1]&&(e=n[1]),e},split:function(t){return t.toLowerCase().match(this.regex.toOrientation)},_flip:{top:"bottom",bottom:"top",left:"right",right:"left"},flip:function(t,e){var n=this.split(t);return e?this.inverseCornerPlane(this.flip(this.inverseCornerPlane(t))):this._flip[n[1]]+n[2]},inverseCornerPlane:function(t){if(Position.isCorner(t)){var e=this.split(t);return e[2]+e[1]}return t},adjustOffsetBasedOnPosition:function(t,e,n){var i=$.extend({},t),o={horizontal:"x",vertical:"y"},r=Position.getOrientation(e);if(r==Position.getOrientation(n)){if(Position.getSide(e)!=Position.getSide(n))i[{x:"y",y:"x"}[o[r]]]*=-1}else{var s=i.x;i.x=i.y,i.y=s;var a={top:{right:"x"},bottom:{left:"x"},left:{bottom:"y"},right:{top:"y"}}[Position.getSide(e)][Position.getSide(n)];a&&(i[a]*=-1),i[o[Position.getOrientation(n)]]=0}return i},getBoxFromPoints:function(t,e,n,i){var o=Math.min(t,n),r=Math.max(t,n),s=Math.min(e,i),a=Math.max(e,i);return{left:o,top:s,width:Math.max(r-o,0),height:Math.max(a-s,0)}},isPointWithinBox:function(t,e,n,i,o,r){var s=this.getBoxFromPoints(n,i,o,r);return t>=s.left&&t<=s.left+s.width&&e>=s.top&&e<=s.top+s.height},isPointWithinBoxLayout:function(t,e,n){return this.isPointWithinBox(t,e,n.position.left,n.position.top,n.position.left+n.dimensions.width,n.position.top+n.dimensions.height)},getDistance:function(t,e,n,i){return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(i-e),2))},intersectsLine:(FPa=function(t,e,n,i,o,r){var s=(r-e)*(n-t)-(i-e)*(o-t);return 0<s||!(s<0)},function(t,e,n,i,o,r,s,a,l){return l?(p=((h=s-o)*(e-r)-(d=a-r)*(t-o))/(-h*(u=i-e)+(c=n-t)*d),0<=(f=(-u*(t-o)+c*(e-r))/(-h*u+c*d))&&f<=1&&0<=p&&p<=1&&{x:t+p*c,y:e+p*u}):FPa(t,e,o,r,s,a)!=FPa(n,i,o,r,s,a)&&FPa(t,e,n,i,o,r)!=FPa(t,e,n,i,s,a);var c,u,h,d,f,p})},Bounds={viewport:function(){return Browser.MobileSafari||Browser.Android&&Browser.Gecko?{width:window.innerWidth,height:window.innerHeight}:{height:$(window).height(),width:$(window).width()}}},Mouse={_buffer:{pageX:0,pageY:0},_dimensions:{width:30,height:30},_shift:{x:2,y:10},getPosition:function(t){var e=this.getActualPosition(t);return{left:e.left-Math.round(.5*this._dimensions.width)+this._shift.x,top:e.top-Math.round(.5*this._dimensions.height)+this._shift.y}},getActualPosition:function(t){var e=t&&"number"==$.type(t.pageX)?t:this._buffer;return{left:e.pageX,top:e.pageY}},getDimensions:function(){return this._dimensions}},Color=function(){function i(t){return("0"+parseInt(t).toString(16)).slice(-2)}var o={_default:"#000000",aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};return{toRGB:function(t){if(/^rgba?\(/.test(t))return"#"+i((e=(e=t).match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+i(e[2])+i(e[3]);var e;o[t]&&(t=o[t]);var n=t.replace("#","");return/^(?:[0-9a-fA-F]{3}){1,2}$/.test(n)?(3==n.length&&(n=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)),"#"+n):o._default}}}(),FPa,AOa,xOa;Spin.supported=Support.css.transform&&Support.css.animation,$.extend(Spin.prototype,{initialize:function(){this.options=$.extend({},arguments[0]||{}),this.build(),this.start()},build:function(){var t=2*(this.options.length+this.options.radius),e={height:t,width:t};this.element=$("<div>").addClass("tpd-spin").css(e),this.element.append(this._rotate=$("<div>").addClass("tpd-spin-rotate")),this.element.css({"margin-left":-.5*e.width,"margin-top":-.5*e.height});for(var n=this.options.lines,i=0;i<n;i++){var o,r;this._rotate.append(o=$("<div>").addClass("tpd-spin-frame").append(r=$("<div>").addClass("tpd-spin-line"))),r.css({"background-color":this.options.color,width:this.options.width,height:this.options.length,"margin-left":-.5*this.options.width,"border-radius":Math.round(.5*this.options.width)}),o.css({opacity:(1/n*(i+1)).toFixed(2)});var s={};s[Support.css.prefixed("transform")]="rotate("+360/n*(i+1)+"deg)",o.css(s)}},start:function(){var t={};t[Support.css.prefixed("animation")]="tpd-spin 1s infinite steps("+this.options.lines+")",this._rotate.css(t)},stop:function(){var t={};t[Support.css.prefixed("animation")]="none",this._rotate.css(t),this.element.detach()}}),$.extend(Visible.prototype,{initialize:function(t){return t="array"==$.type(t)?t:[t],this.elements=t,this._restore=[],$.each(t,$.proxy(function(t,e){var n=$(e).is(":visible");n||$(e).show(),this._restore.push({element:e,visible:n})},this)),this},restore:function(){$.each(this._restore,function(t,e){e.visible||$(e.element).show()}),this._restore=null}});var AjaxCache=(PQa=[],{get:function(t){for(var e=null,n=0;n<PQa.length;n++)PQa[n]&&PQa[n].url==t.url&&(PQa[n].type||"GET").toUpperCase()==(t.type||"GET").toUpperCase()&&$.param(PQa[n].data||{})==$.param(t.data||{})&&(e=PQa[n]);return e},set:function(t,e,n){var i=this.get(t);i||(i=$.extend({callbacks:{}},t),PQa.push(i)),i.callbacks[e]=n},remove:function(t){for(var e=0;e<PQa.length;e++)PQa[e]&&PQa[e].url==t&&delete PQa[e]},clear:function(){PQa=[]}}),Voila=function(s){function a(t,e,n){if(!(this instanceof a))return new a(t,e,n);var i=s.type(e),o="object"===i?e:{},r="function"===i?e:"function"===s.type(n)&&n;return this.options=s.extend({method:"onload"},o),this.deferred=new jQuery.Deferred,r&&this.always(r),this._processed=0,this.images=[],this._add(t),this}s.extend(a.prototype,{_add:function(t){var e="string"==s.type(t)?s(t):t instanceof jQuery||0<t.length?t:[t];s.each(e,s.proxy(function(t,e){var n=s(),i=s(e);(n=i.is("img")?n.add(i):n.add(i.find("img"))).each(s.proxy(function(t,e){this.images.push(new o(e,s.proxy(function(t){this._progress(t)},this),s.proxy(function(t){this._progress(t)},this),this.options))},this))},this)),this.images.length<1&&setTimeout(s.proxy(function(){this._resolve()},this))},abort:function(){this._progress=this._notify=this._reject=this._resolve=function(){},s.each(this.images,function(t,e){e.abort()}),this.images=[]},_progress:function(t){this._processed++,t.isLoaded||(this._broken=!0),this._notify(t),this._processed==this.images.length&&this[this._broken?"_reject":"_resolve"]()},_notify:function(t){this.deferred.notify(this,t)},_reject:function(){this.deferred.reject(this)},_resolve:function(){this.deferred.resolve(this)},always:function(t){return this.deferred.always(t),this},done:function(t){return this.deferred.done(t),this},fail:function(t){return this.deferred.fail(t),this},progress:function(t){return this.deferred.progress(t),this}});var o=function(r){var t=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};r.extend(t.prototype,{initialize:function(){this.options=r.extend({test:function(){},success:function(){},timeout:function(){},callAt:!1,intervals:[[0,0],[1e3,10],[2e3,50],[4e3,100],[2e4,500]]},arguments[0]||{}),this._test=this.options.test,this._success=this.options.success,this._timeout=this.options.timeout,this._ipos=0,this._time=0,this._delay=this.options.intervals[this._ipos][1],this._callTimeouts=[],this.poll(),this._createCallsAt()},poll:function(){this._polling=setTimeout(r.proxy(function(){if(this._test())this.success();else{if(this._time+=this._delay,this._time>=this.options.intervals[this._ipos][0]){if(!this.options.intervals[this._ipos+1])return void("function"==r.type(this._timeout)&&this._timeout());this._ipos++,this._delay=this.options.intervals[this._ipos][1]}this.poll()}},this),this._delay)},success:function(){this.abort(),this._success()},_createCallsAt:function(){this.options.callAt&&r.each(this.options.callAt,r.proxy(function(t,e){var n=e[0],i=e[1],o=setTimeout(r.proxy(function(){i()},this),n);this._callTimeouts.push(o)},this))},_stopCallTimeouts:function(){r.each(this._callTimeouts,function(t,e){clearTimeout(e)}),this._callTimeouts=[]},abort:function(){this._stopCallTimeouts(),this._polling&&(clearTimeout(this._polling),this._polling=null)}});var e=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};return r.extend(e.prototype,{supports:{naturalWidth:"naturalWidth"in new Image},initialize:function(t,e,n){return this.img=r(t)[0],this.successCallback=e,this.errorCallback=n,this.isLoaded=!1,this.options=r.extend({method:"onload",pollFallbackAfter:1e3},arguments[3]||{}),"onload"!=this.options.method&&this.supports.naturalWidth?void this.poll():void this.load()},poll:function(){this._poll=new t({test:r.proxy(function(){return 0<this.img.naturalWidth},this),success:r.proxy(function(){this.success()},this),timeout:r.proxy(function(){this.error()},this),callAt:[[this.options.pollFallbackAfter,r.proxy(function(){this.load()},this)]]})},load:function(){this._loading=setTimeout(r.proxy(function(){var t=new Image;(this._onloadImage=t).onload=r.proxy(function(){t.onload=function(){},this.supports.naturalWidth||(this.img.naturalWidth=t.width,this.img.naturalHeight=t.height,t.naturalWidth=t.width,t.naturalHeight=t.height),this.success()},this),t.onerror=r.proxy(this.error,this),t.src=this.img.src},this))},success:function(){this._calledSuccess||(this._calledSuccess=!0,this.abort(),this.waitForRender(r.proxy(function(){this.isLoaded=!0,this.successCallback(this)},this)))},error:function(){this._calledError||(this._calledError=!0,this.abort(),this._errorRenderTimeout=setTimeout(r.proxy(function(){this.errorCallback&&this.errorCallback(this)},this)))},abort:function(){this.stopLoading(),this.stopPolling(),this.stopWaitingForRender()},stopPolling:function(){this._poll&&(this._poll.abort(),this._poll=null)},stopLoading:function(){this._loading&&(clearTimeout(this._loading),this._loading=null),this._onloadImage&&(this._onloadImage.onload=function(){},this._onloadImage.onerror=function(){})},waitForRender:function(t){this._renderTimeout=setTimeout(t)},stopWaitingForRender:function(){this._renderTimeout&&(clearTimeout(this._renderTimeout),this._renderTimeout=null),this._errorRenderTimeout&&(clearTimeout(this._errorRenderTimeout),this._errorRenderTimeout=null)}}),e}(jQuery);return a}(jQuery),PQa;Tipped.Behaviors={hide:{showOn:{element:"mouseenter",tooltip:!1},hideOn:{element:"mouseleave",tooltip:"mouseenter"}},mouse:{showOn:{element:"mouseenter",tooltip:!1},hideOn:{element:"mouseleave",tooltip:"mouseenter"},target:"mouse",showDelay:100,fadeIn:0,hideDelay:0,fadeOut:0},sticky:{showOn:{element:"mouseenter",tooltip:"mouseenter"},hideOn:{element:"mouseleave",tooltip:"mouseleave"},showDelay:150,target:"mouse",fixed:!0}};var Options={create:function(){function e(t){return g=Tipped.Skins.base,m=deepExtend($.extend({},g),Tipped.Skins.reset),(e=n)(t)}function f(t){return t.match(/^(top|left|bottom|right)$/)&&(t+="middle"),t.replace("center","middle").replace(" ",""),t}function p(t){var e;return t.behavior&&(e=Tipped.Behaviors[t.behavior])?deepExtend($.extend({},e),t):t}function n(t){var e=t.skin?t.skin:Tooltips.options.defaultSkin,n=$.extend({},Tipped.Skins[e]||{});n.skin||(n.skin=Tooltips.options.defaultSkin||"dark");var i=deepExtend($.extend({},m),p(n)),o=deepExtend($.extend({},i),p(t));if(o.ajax){var r=(m.ajax,g.ajax);"boolean"==$.type(o.ajax)&&(o.ajax={}),o.ajax=deepExtend($.extend({},r),o.ajax)}var s,a=a=o.position&&o.position.target||"string"==$.type(o.position)&&o.position||m.position&&m.position.target||"string"==$.type(m.position)&&m.position||g.position&&g.position.target||g.position;a=f(a);var l,c=o.position&&o.position.tooltip||m.position&&m.position.tooltip||g.position&&g.position.tooltip||Tooltips.Position.getInversedPosition(a);if(c=f(c),o.position?"string"==$.type(o.position)?(o.position=f(o.position),s={target:o.position,tooltip:Tooltips.Position.getTooltipPositionFromTarget(o.position)}):(s={tooltip:c,target:a},o.position.tooltip&&(s.tooltip=f(o.position.tooltip)),o.position.target&&(s.target=f(o.position.target))):s={tooltip:c,target:a},Position.isCorner(s.target)&&Position.getOrientation(s.target)!=Position.getOrientation(s.tooltip)&&(s.target=Position.inverseCornerPlane(s.target)),"mouse"==o.target){var u=Position.getOrientation(s.target);s.target="horizontal"==u?s.target.replace(/(left|right)/,"middle"):s.target.replace(/(top|bottom)/,"middle")}if(o.position=s,"mouse"==o.target?(l=$.extend({},g.offset),$.extend(l,Tipped.Skins.reset.offset||{}),t.skin&&$.extend(l,(Tipped.Skins[t.skin]||Tipped.Skins[Tooltips.options.defaultSkin]||{}).offset||{}),l=Position.adjustOffsetBasedOnPosition(g.offset,g.position,s.target,!0),t.offset&&(l=$.extend(l,t.offset||{}))):l={x:o.offset.x,y:o.offset.y},o.offset=l,o.hideOn&&"click-outside"==o.hideOn&&(o.hideOnClickOutside=!0,o.hideOn=!1,o.fadeOut=0),o.showOn){var h=o.showOn;"string"==$.type(h)&&(h={element:h}),o.showOn=h}if(o.hideOn){var d=o.hideOn;"string"==$.type(d)&&(d={element:d}),o.hideOn=d}return o.inline&&"string"!=$.type(o.inline)&&(o.inline=!1),Browser.IE&&Browser.IE<9&&$.extend(o,{fadeIn:0,fadeOut:0,hideDelay:0}),o.spinner&&(Spin.supported?"boolean"==$.type(o.spinner)&&(o.spinner=m.spinner||g.spinner||{}):o.spinner=!1),o.container||(o.container=document.body),o.containment&&"string"==$.type(o.containment)&&(o.containment={selector:o.containment,padding:m.containment&&m.containment.padding||g.padding&&g.containment.padding}),o.shadow&&(o.shadow=Support.shadow),o}var g,m;return e}()};$.extend(Skin.prototype,{initialize:function(t){this.tooltip=t,this.element=t._skin;var e=this.tooltip.options;this.tooltip._tooltip[(e.shadow?"remove":"add")+"Class"]("tpd-no-shadow")[(e.radius?"remove":"add")+"Class"]("tpd-no-radius")[(e.stem?"remove":"add")+"Class"]("tpd-no-stem");var n,i,o,r,s=Support.css.prefixed("borderTopLeftRadius");this.element.append(n=$("<div>").addClass("tpd-frames").append($("<div>").addClass("tpd-frame").append($("<div>").addClass("tpd-backgrounds").append(i=$("<div>").addClass("tpd-background").append(o=$("<div>").addClass("tpd-background-content")))))).append(r=$("<div>").addClass("tpd-spinner")),i.css({width:999,height:999,zoom:1}),this._css={border:parseFloat(i.css("border-top-width")),radius:parseFloat(s?i.css(s):0),padding:parseFloat(t._content.css("padding-top")),borderColor:i.css("border-top-color"),backgroundColor:o.css("background-color"),backgroundOpacity:o.css("opacity"),spinner:{dimensions:{width:r.innerWidth(),height:r.innerHeight()}}},r.remove(),n.remove(),this._side=Position.getSide(t.options.position.tooltip)||"top",this._vars={}},destroy:function(){this.frames&&($.each("top right bottom left".split(" "),$.proxy(function(t,e){this["stem_"+e]&&this["stem_"+e].destroy()},this)),this.frames.remove(),this.frames=null)},build:function(){this.frames||(this.element.append(this.frames=$("<div>").addClass("tpd-frames")),$.each("top right bottom left".split(" "),$.proxy(function(t,e){this.insertFrame(e)},this)),this._spinner||this.tooltip._tooltip.append(this._spinner=$("<div>").addClass("tpd-spinner").hide().append($("<div>").addClass("tpd-spinner-spin"))))},_frame:function(){var n,t=$("<div>").addClass("tpd-frame").append(n=$("<div>").addClass("tpd-backgrounds").append($("<div>").addClass("tpd-background-shadow"))).append($("<div>").addClass("tpd-shift-stem").append($("<div>").addClass("tpd-shift-stem-side tpd-shift-stem-side-before")).append($("<div>").addClass("tpd-stem")).append($("<div>").addClass("tpd-shift-stem-side tpd-shift-stem-side-after")));return $.each("top right bottom left".split(" "),$.proxy(function(t,e){n.append($("<div>").addClass("tpd-background-box tpd-background-box-"+e).append($("<div>").addClass("tpd-background-box-shift").append($("<div>").addClass("tpd-background-box-shift-further").append($("<div>").addClass("tpd-background").append($("<div>").addClass("tpd-background-title")).append($("<div>").addClass("tpd-background-content"))).append($("<div>").addClass("tpd-background tpd-background-loading")).append($("<div>").addClass("tpd-background-border-hack").hide()))))},this)),t}(),_getFrame:function(t){var e=this._frame.clone();e.addClass("tpd-frame-"+t),e.find(".tpd-background-shadow").css({"border-radius":this._css.radius}),this.tooltip.options.stem&&e.find(".tpd-stem").attr("data-stem-position",t);var n=Math.max(this._css.radius-this._css.border,0);e.find(".tpd-background-title").css({"border-top-left-radius":n,"border-top-right-radius":n}),e.find(".tpd-background-content").css({"border-bottom-left-radius":n,"border-bottom-right-radius":n}),e.find(".tpd-background-loading").css({"border-radius":n});var i={backgroundColor:this._css.borderColor};i["horizontal"==Position.getOrientation(t)?"height":"width"]=this._css.border+"px";return i[{top:"bottom",bottom:"top",left:"right",right:"left"}[t]]=0,e.find(".tpd-shift-stem-side").css(i),e},insertFrame:function(t){var e=this["frame_"+t]=this._getFrame(t);if(this.frames.append(e),this.tooltip.options.stem){var n=e.find(".tpd-stem");this["stem_"+t]=new Stem(n,this,{})}},startLoading:function(){this.tooltip.supportsLoading&&(this.build(),this._spinner||this.tooltip.is("resize-to-content")||this.setDimensions(this._css.spinner.dimensions),this._spinner&&this._spinner.show())},stopLoading:function(){this.tooltip.supportsLoading&&this._spinner&&(this.build(),this._spinner.hide())},updateBackground:function(){var t=this._vars.frames[this._side],e=$.extend({},t.background.dimensions);if(this.tooltip.title&&!this.tooltip.is("loading")){this.element.find(".tpd-background-title, .tpd-background-content").show(),this.element.find(".tpd-background").css({"background-color":"transparent"});var n=$.extend({},e),i=Math.max(this._css.radius-this._css.border,0),o={"border-top-left-radius":i,"border-top-right-radius":i,"border-bottom-left-radius":i,"border-bottom-right-radius":i},r=new Visible(this.tooltip._tooltip),s=this.tooltip._titleWrapper.innerHeight();n.height-=s,this.element.find(".tpd-background-title").css({height:s,width:e.width}),o["border-top-left-radius"]=0,o["border-top-right-radius"]=0,r.restore(),this.element.find(".tpd-background-content").css(n).css(o),this.element.find(".tpd-background-loading").css({"background-color":this._css.backgroundColor})}else this.element.find(".tpd-background-title, .tpd-background-content").hide(),this.element.find(".tpd-background").css({"background-color":this._css.backgroundColor});this._css.border&&(this.element.find(".tpd-background").css({"border-color":"transparent"}),this.element.find(".tpd-background-border-hack").css({width:e.width,height:e.height,"border-radius":this._css.radius,"border-width":this._css.border,"border-color":this._css.borderColor}).show())},paint:function(){if(!this._paintedDimensions||this._paintedDimensions.width!=this._dimensions.width||this._paintedDimensions.height!=this._dimensions.height||this._paintedStemPosition!=this._stemPosition){this._paintedDimensions=this._dimensions,this._paintedStemPosition=this._stemPosition,this.element.removeClass("tpd-visible-frame-top tpd-visible-frame-bottom tpd-visible-frame-left tpd-visible-frame-right").addClass("tpd-visible-frame-"+this._side);var t=this._vars.frames[this._side],e=$.extend({},t.background.dimensions);this.element.find(".tpd-background").css(e),this.element.find(".tpd-background-shadow").css({width:e.width+2*this._css.border,height:e.height+2*this._css.border}),this.updateBackground(),this.element.find(".tpd-background-box-shift, .tpd-background-box-shift-further").removeAttr("style"),this.element.add(this.frames).add(this.tooltip._tooltip).css(t.dimensions);var n=this._side,i=this._vars.frames[n],o=this.element.find(".tpd-frame-"+this._side),r=this._vars.frames[n].dimensions;o.css(r),o.find(".tpd-backgrounds").css($.extend({},i.background.position,{width:r.width-i.background.position.left,height:r.height-i.background.position.top}));var s=Position.getOrientation(n);if(this.tooltip.options.stem)if(o.find(".tpd-shift-stem").css($.extend({},i.shift.dimensions,i.shift.position)),"vertical"==s){(l=o.find(".tpd-background-box-top, .tpd-background-box-bottom")).css({height:this._vars.cut,width:this._css.border}),o.find(".tpd-background-box-bottom").css({top:i.dimensions.height-this._vars.cut}).find(".tpd-background-box-shift").css({"margin-top":-1*i.dimensions.height+this._vars.cut});var a="right"==n?i.dimensions.width-i.stemPx-this._css.border:0;l.css({left:a}).find(".tpd-background-box-shift").css({"margin-left":-1*a}),o.find(".tpd-background-box-"+("left"==n?"left":"right")).hide(),"right"==n?o.find(".tpd-background-box-left").css({width:i.dimensions.width-i.stemPx-this._css.border}):o.find(".tpd-background-box-right").css({"margin-left":this._css.border}).find(".tpd-background-box-shift").css({"margin-left":-1*this._css.border}),(c=o.find(".tpd-background-box-"+this._side)).css({height:i.dimensions.height-2*this._vars.cut,"margin-top":this._vars.cut}),c.find(".tpd-background-box-shift").css({"margin-top":-1*this._vars.cut})}else{var l;(l=o.find(".tpd-background-box-left, .tpd-background-box-right")).css({width:this._vars.cut,height:this._css.border}),o.find(".tpd-background-box-right").css({left:i.dimensions.width-this._vars.cut}).find(".tpd-background-box-shift").css({"margin-left":-1*i.dimensions.width+this._vars.cut});var c;a="bottom"==n?i.dimensions.height-i.stemPx-this._css.border:0;l.css({top:a}).find(".tpd-background-box-shift").css({"margin-top":-1*a}),o.find(".tpd-background-box-"+("top"==n?"top":"bottom")).hide(),"bottom"==n?o.find(".tpd-background-box-top").css({height:i.dimensions.height-i.stemPx-this._css.border}):o.find(".tpd-background-box-bottom").css({"margin-top":this._css.border}).find(".tpd-background-box-shift").css({"margin-top":-1*this._css.border}),(c=o.find(".tpd-background-box-"+this._side)).css({width:i.dimensions.width-2*this._vars.cut,"margin-left":this._vars.cut}),c.find(".tpd-background-box-shift").css({"margin-left":-1*this._vars.cut})}var u=t.background,h=u.position,d=u.dimensions;this._spinner.css({top:h.top+this._css.border+(.5*d.height-.5*this._css.spinner.dimensions.height),left:h.left+this._css.border+(.5*d.width-.5*this._css.spinner.dimensions.width)})}},getVars:function(){var s=(this._css.padding,this._css.radius,this._css.border),t=this._vars.maxStemHeight||0,a=$.extend({},this._dimensions||{}),l={frames:{},dimensions:a,maxStemHeight:t};l.cut=Math.max(this._css.border,this._css.radius)||0;var c={width:0,height:0},e=0,u=0;return this.tooltip.options.stem&&(c=this.stem_top.getMath().dimensions.outside,e=this.stem_top._css.offset,u=Math.max(c.height-this._css.border,0)),l.stemDimensions=c,l.stemOffset=e,Position.getOrientation(this._side),$.each("top right bottom left".split(" "),$.proxy(function(t,e){var n="vertical"==Position.getOrientation(e),i={width:a.width+2*s,height:a.height+2*s},o=i[n?"height":"width"]-2*l.cut,r={dimensions:i,stemPx:u,position:{top:0,left:0},background:{dimensions:$.extend({},a),position:{top:0,left:0}}};switch((l.frames[e]=r).dimensions[n?"width":"height"]+=u,("top"==e||"left"==e)&&(r.background.position[e]+=u),$.extend(r,{shift:{position:{top:0,left:0},dimensions:{width:n?c.height:o,height:n?o:c.height}}}),e){case"top":case"bottom":r.shift.position.left+=l.cut,"bottom"==e&&(r.shift.position.top+=i.height-s-u);break;case"left":case"right":r.shift.position.top+=l.cut,"right"==e&&(r.shift.position.left+=i.width-s-u)}},this)),l.connections={},$.each(Position.positions,$.proxy(function(t,e){l.connections[e]=this.getConnectionLayout(e,l)},this)),l},setDimensions:function(t){this.build();var e=this._dimensions;e&&e.width==t.width&&e.height==t.height||(this._dimensions=t,this._vars=this.getVars())},setSide:function(t){this._side=t,this._vars=this.getVars()},getConnectionLayout:function(t,e){var n=Position.getSide(t),i=Position.getOrientation(t),o=(e.dimensions,e.cut),r=this["stem_"+n],s=e.stemOffset,a=this.tooltip.options.stem?r.getMath().dimensions.outside.width:0,l=o+s+.5*a,c={stem:{}},u={left:0,right:0,up:0,down:0},h={top:0,left:0},d={top:0,left:0},f=e.frames[n];l=0;if("horizontal"==i){var p=f.dimensions.width;this.tooltip.options.stem&&((p=f.shift.dimensions.width)-a<2*s&&(s=Math.floor(.5*(p-a))||0),l=o+s+.5*a);var g=p-2*s,m=s;switch((y=Position.split(t))[2]){case"left":u.right=g-a,h.left=l;break;case"middle":m+=Math.round(.5*g-.5*a),u.left=m-s,u.right=m-s,h.left=d.left=Math.round(.5*f.dimensions.width);break;case"right":m+=g-a,u.left=g-a,h.left=f.dimensions.width-l,d.left=f.dimensions.width}"bottom"==y[1]&&(h.top+=f.dimensions.height,d.top+=f.dimensions.height),$.extend(c.stem,{position:{left:m},before:{width:m},after:{left:m+a,width:p-m-a+1}})}else{var v=f.dimensions.height;this.tooltip.options.stem&&((v=f.shift.dimensions.height)-a<2*s&&(s=Math.floor(.5*(v-a))||0),l=o+s+.5*a);var y,b=v-2*s,_=s;switch((y=Position.split(t))[2]){case"top":u.down=b-a,h.top=l;break;case"middle":_+=Math.round(.5*b-.5*a),u.up=_-s,u.down=_-s,h.top=d.top=Math.round(.5*f.dimensions.height);break;case"bottom":_+=b-a,u.up=b-a,h.top=f.dimensions.height-l,d.top=f.dimensions.height}"right"==y[1]&&(h.left+=f.dimensions.width,d.left+=f.dimensions.width),$.extend(c.stem,{position:{top:_},before:{height:_},after:{top:_+a,height:v-_-a+1}})}return c.move=u,c.stem.connection=h,c.connection=d,c},setStemPosition:function(t,e){if(this._stemPosition!=t){this._stemPosition=t;var n=Position.getSide(t);this.setSide(n)}this.tooltip.options.stem&&this.setStemShift(t,e)},setStemShift:function(t,e){var n=this._shift,i=this._dimensions;if(!n||n.stemPosition!=t||n.shift.x!=e.x||n.shift.y!=e.y||!i||n.dimensions.width!=i.width||n.dimensions.height!=i.height){this._shift={stemPosition:t,shift:e,dimensions:i};var o=Position.getSide(t),r={horizontal:"x",vertical:"y"}[Position.getOrientation(t)],s={x:{left:"left",width:"width"},y:{left:"top",width:"height"}}[r],a=this["stem_"+o],l=deepExtend({},this._vars.connections[t].stem);e&&0!==e[r]&&(l.before[s.width]+=e[r],l.position[s.left]+=e[r],l.after[s.left]+=e[r],l.after[s.width]-=e[r]),a.element.css(l.position),a.element.siblings(".tpd-shift-stem-side-before").css(l.before),a.element.siblings(".tpd-shift-stem-side-after").css(l.after)}}}),$.extend(Stem.prototype,{initialize:function(t,e){this.element=$(t),this.element[0]&&(this.skin=e,this.element.removeClass("tpd-stem-reset"),this._css=$.extend({},e._css,{width:this.element.innerWidth(),height:this.element.innerHeight(),offset:parseFloat(this.element.css("margin-left")),spacing:parseFloat(this.element.css("margin-top"))}),this.element.addClass("tpd-stem-reset"),this.options=$.extend({},arguments[2]||{}),this._position=this.element.attr("data-stem-position")||"top",this._m=100,this.build())},destroy:function(){this.element.html("")},build:function(){this.destroy();var t=this._css.backgroundColor,e=-1<t.indexOf("rgba")&&parseFloat(t.replace(/^.*,(.+)\)/,"$1")),n=e&&e<1;this._useTransform=n&&Support.css.transform,this._css.border||(this._useTransform=!1),this[(this._useTransform?"build":"buildNo")+"Transform"]()},buildTransform:function(){this.element.append(this.spacer=$("<div>").addClass("tpd-stem-spacer").append(this.downscale=$("<div>").addClass("tpd-stem-downscale").append(this.transform=$("<div>").addClass("tpd-stem-transform").append(this.first=$("<div>").addClass("tpd-stem-side").append(this.border=$("<div>").addClass("tpd-stem-border")).append($("<div>").addClass("tpd-stem-border-corner")).append($("<div>").addClass("tpd-stem-triangle")))))),this.transform.append(this.last=this.first.clone().addClass("tpd-stem-side-inversed")),this.sides=this.first.add(this.last);var t=this.getMath(),e=t.dimensions,n=this._m,i=Position.getSide(this._position);if(this.element.find(".tpd-stem-spacer").css({width:h?e.inside.height:e.inside.width,height:h?e.inside.width:e.inside.height}),"top"==i||"left"==i){var o={};"top"==i?(o.bottom=0,o.top="auto"):"left"==i&&(o.right=0,o.left="auto"),this.element.find(".tpd-stem-spacer").css(o)}this.transform.css({width:e.inside.width*n,height:e.inside.height*n});var r=Support.css.prefixed("transform"),s={"background-color":"transparent","border-bottom-color":this._css.backgroundColor,"border-left-width":.5*e.inside.width*n,"border-bottom-width":e.inside.height*n};s[r]="translate("+t.border*n+"px, 0)",this.element.find(".tpd-stem-triangle").css(s);var a=this._css.borderColor;alpha=-1<a.indexOf("rgba")&&parseFloat(a.replace(/^.*,(.+)\)/,"$1")),alpha&&alpha<1?a=(a.substring(0,a.lastIndexOf(","))+")").replace("rgba","rgb"):alpha=1;var l={"background-color":"transparent","border-right-width":t.border*n,width:t.border*n,"margin-left":-2*t.border*n,"border-color":a,opacity:alpha};l[r]="skew("+t.skew+"deg) translate("+t.border*n+"px, "+-1*this._css.border*n+"px)",this.element.find(".tpd-stem-border").css(l);a=this._css.borderColor;alpha=-1<a.indexOf("rgba")&&parseFloat(a.replace(/^.*,(.+)\)/,"$1")),alpha&&alpha<1?a=(a.substring(0,a.lastIndexOf(","))+")").replace("rgba","rgb"):alpha=1;var c={width:t.border*n,"border-right-width":t.border*n,"border-right-color":a,background:a,opacity:alpha,"margin-left":-2*t.border*n};if(c[r]="skew("+t.skew+"deg) translate("+t.border*n+"px, "+(e.inside.height-this._css.border)*n+"px)",this.element.find(".tpd-stem-border-corner").css(c),this.setPosition(this._position),1<n){var u={};u[r]="scale("+1/n+","+1/n+")",this.downscale.css(u)}var h=/^(left|right)$/.test(this._position);this._css.border||this.element.find(".tpd-stem-border, .tpd-stem-border-corner").hide(),this.element.css({width:h?e.outside.height:e.outside.width,height:h?e.outside.width:e.outside.height})},buildNoTransform:function(){this.element.append(this.spacer=$("<div>").addClass("tpd-stem-spacer").append($("<div>").addClass("tpd-stem-notransform").append($("<div>").addClass("tpd-stem-border").append($("<div>").addClass("tpd-stem-border-corner")).append($("<div>").addClass("tpd-stem-border-center-offset").append($("<div>").addClass("tpd-stem-border-center-offset-inverse").append($("<div>").addClass("tpd-stem-border-center"))))).append($("<div>").addClass("tpd-stem-triangle"))));var t=this.getMath(),e=t.dimensions,n=/^(left|right)$/.test(this._position),i=/^(bottom)$/.test(this._position),o=/^(right)$/.test(this._position),r=Position.getSide(this._position);if(this.element.css({width:n?e.outside.height:e.outside.width,height:n?e.outside.width:e.outside.height}),this.element.find(".tpd-stem-notransform").add(this.element.find(".tpd-stem-spacer")).css({width:n?e.inside.height:e.inside.width,height:n?e.inside.width:e.inside.height}),"top"==r||"left"==r){var s={};"top"==r?(s.bottom=0,s.top="auto"):"left"==r&&(s.right=0,s.left="auto"),this.element.find(".tpd-stem-spacer").css(s)}this.element.find(".tpd-stem-border").css({width:"100%",background:"transparent"});var a={opacity:1};a[n?"height":"width"]="100%",a[n?"width":"height"]=this._css.border,a[i?"top":"bottom"]=0,$.extend(a,o?{left:0}:{right:0}),this.element.find(".tpd-stem-border-corner").css(a);var l={width:0,"background-color":"transparent",opacity:1},c=.5*e.inside.width+"px solid transparent",u={"background-color":"transparent"};if(e.inside.width,t.border,n){var h={left:"auto",top:"50%","margin-top":-.5*e.inside.width,"border-top":c,"border-bottom":c};$.extend(l,h),l[o?"right":"left"]=0,l[o?"border-left":"border-right"]=e.inside.height+"px solid "+this._css.borderColor,$.extend(u,h),u[o?"border-left":"border-right"]=e.inside.height+"px solid "+this._css.backgroundColor,u[o?"right":"left"]=t.top,u[o?"left":"right"]="auto",this.element.find(".tpd-stem-border-center-offset").css({"margin-left":-1*this._css.border*(o?-1:1)}).find(".tpd-stem-border-center-offset-inverse").css({"margin-left":this._css.border*(o?-1:1)})}else{h={"margin-left":-.5*e.inside.width,"border-left":c,"border-right":c};$.extend(l,h),l[i?"border-top":"border-bottom"]=e.inside.height+"px solid "+this._css.borderColor,$.extend(u,h),u[i?"border-top":"border-bottom"]=e.inside.height+"px solid "+this._css.backgroundColor,u[i?"bottom":"top"]=t.top,u[i?"top":"bottom"]="auto",this.element.find(".tpd-stem-border-center-offset").css({"margin-top":-1*this._css.border*(i?-1:1)}).find(".tpd-stem-border-center-offset-inverse").css({"margin-top":this._css.border*(i?-1:1)})}this.element.find(".tpd-stem-border-center").css(l),this.element.find(".tpd-stem-border-corner").css({"background-color":this._css.borderColor}),this.element.find(".tpd-stem-triangle").css(u),this._css.border||this.element.find(".tpd-stem-border").hide()},setPosition:function(t){this._position=t,this.transform.attr("class","tpd-stem-transform tpd-stem-transform-"+t)},getMath:function(){var t=this._css.height,e=this._css.width,n=this._css.border;this._useTransform&&Math.floor(e)%2&&(e=Math.max(Math.floor(e)-1,0));var i=degrees(Math.atan(.5*e/t)),o=90-i,r={width:e+2*(n/Math.cos((90-o)*Math.PI/180)),height:t+(d=n/Math.cos((90-i)*Math.PI/180))};Math.max(n,this._css.radius),t=r.height,e=.5*r.width;var s=90-degrees(Math.atan(t/e)),a=n/Math.cos(s*Math.PI/180),l=180*Math.atan(t/e)/Math.PI,c=-1*(90-l),u=90-l,h=n*Math.tan(u*Math.PI/180),d=n/Math.cos((90-u)*Math.PI/180),f=$.extend({},r),p=$.extend({},r);p.height+=this._css.spacing,p.height=Math.ceil(p.height);var g=!0;return r.width<=2*n&&(g=!1),{enabled:g,outside:p,dimensions:{inside:f,outside:p},top:d,border:a,skew:c,corner:h}}});var Tooltips={tooltips:{},options:{defaultSkin:"dark",startingZIndex:999999},_emptyClickHandler:function(){},init:function(){this.reset(),this._resizeHandler=$.proxy(this.onWindowResize,this),$(window).bind("resize orientationchange",this._resizeHandler),Browser.MobileSafari&&$("body").bind("click",this._emptyClickHandler)},reset:function(){Tooltips.removeAll(),Delegations.removeAll(),this._resizeHandler&&$(window).unbind("resize orientationchange",this._resizeHandler),Browser.MobileSafari&&$("body").unbind("click",this._emptyClickHandler)},onWindowResize:function(){this._resizeTimer&&(window.clearTimeout(this._resizeTimer),this._resizeTimer=null),this._resizeTimer=_.delay($.proxy(function(){var t=this.getVisible();$.each(t,function(t,e){e.clearUpdatedTo(),e.position()})},this),15)},_getTooltips:function(t,e){var n,i=[],o=[];if(_.isElement(t)?(n=$(t).data("tipped-uids"))&&(i=i.concat(n)):$(t).each(function(t,e){(n=$(e).data("tipped-uids"))&&(i=i.concat(n))}),!i[0]&&!e){var r=this.getTooltipByTooltipElement($(t).closest(".tpd-tooltip")[0]);r&&r.element&&((n=$(r.element).data("tipped-uids")||[])&&(i=i.concat(n)))}return 0<i.length&&$.each(i,$.proxy(function(t,e){var n;(n=this.tooltips[e])&&o.push(n)},this)),o},findElement:function(t){var e=[];return _.isElement(t)&&(e=this._getTooltips(t)),e[0]&&e[0].element},get:function(n){var t=$.extend({api:!1},arguments[1]||{}),i=[];return _.isElement(n)?i=this._getTooltips(n):n instanceof $?n.each($.proxy(function(t,e){var n=this._getTooltips(e,!0);0<n.length&&(i=i.concat(n))},this)):"string"==$.type(n)&&$.each(this.tooltips,function(t,e){e.element&&$(e.element).is(n)&&i.push(e)}),t.api&&$.each(i,function(t,e){e.is("api",!0)}),i},getTooltipByTooltipElement:function(n){if(!n)return null;var i=null;return $.each(this.tooltips,function(t,e){e.is("build")&&e._tooltip[0]===n&&(i=e)}),i},getBySelector:function(n){var i=[];return $.each(this.tooltips,function(t,e){e.element&&$(e.element).is(n)&&i.push(e)}),i},getNests:function(){var n=[];return $.each(this.tooltips,function(t,e){e.is("nest")&&n.push(e)}),n},show:function(t){$(this.get(t)).each(function(t,e){e.show(!1,!0)})},hide:function(t){$(this.get(t)).each(function(t,e){e.hide()})},toggle:function(t){$(this.get(t)).each(function(t,e){e.toggle()})},hideAll:function(n){$.each(this.getVisible(),function(t,e){n&&n==e||e.hide()})},refresh:function(t){var e;e=t?$.grep(this.get(t),function(t){return t.is("visible")}):this.getVisible(),$.each(e,function(t,e){e.refresh()})},getVisible:function(){var n=[];return $.each(this.tooltips,function(t,e){e.visible()&&n.push(e)}),n},isVisibleByElement:function(n){var i=!1;return _.isElement(n)&&$.each(this.getVisible()||[],function(t,e){return e.element==n?!(i=!0):void 0}),i},getHighestTooltip:function(){var n,i=0;return $.each(this.tooltips,function(t,e){e.zIndex>i&&(i=e.zIndex,n=e)}),n},resetZ:function(){this.getVisible().length<=1&&$.each(this.tooltips,function(t,e){e.is("build")&&!e.options.zIndex&&e._tooltip.css({zIndex:e.zIndex=+Tooltips.options.startingZIndex})})},clearAjaxCache:function(){$.each(this.tooltips,$.proxy(function(t,e){e.options.ajax&&(e._cache&&e._cache.xhr&&(e._cache.xhr.abort(),e._cache.xhr=null),e.is("updated",!1),e.is("updating",!1),e.is("sanitized",!1))},this)),AjaxCache.clear()},add:function(t){this.tooltips[t.uid]=t},remove:function(t){var e=this._getTooltips(t);this.removeTooltips(e)},removeTooltips:function(t){t&&$.each(t,$.proxy(function(t,e){var n=e.uid;delete this.tooltips[n],e.remove()},this))},removeDetached:function(){var t=this.getNests(),n=[];0<t.length&&$.each(t,function(t,e){e.is("detached")&&(n.push(e),e.attach())}),$.each(this.tooltips,$.proxy(function(t,e){e.element&&!_.element.isAttached(e.element)&&this.remove(e.element)},this)),$.each(n,function(t,e){e.detach()})},removeAll:function(){$.each(this.tooltips,$.proxy(function(t,e){e.element&&this.remove(e.element)},this)),this.tooltips={}},setDefaultSkin:function(t){this.options.defaultSkin=t||"dark"},setStartingZIndex:function(t){this.options.startingZIndex=t||0}};Tooltips.Position={inversedPosition:{left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},getInversedPosition:function(t){var e=Position.split(t),n=e[1],i=e[2],o=Position.getOrientation(t),r=$.extend({horizontal:!0,vertical:!0},arguments[1]||{});return"horizontal"==o?(r.vertical&&(n=this.inversedPosition[n]),r.horizontal&&(i=this.inversedPosition[i])):(r.vertical&&(i=this.inversedPosition[i]),r.horizontal&&(n=this.inversedPosition[n])),n+i},getTooltipPositionFromTarget:function(t){var e=Position.split(t);return this.getInversedPosition(e[1]+this.inversedPosition[e[2]])}},$.extend(Tooltip.prototype,{supportsLoading:Support.css.transform&&Support.css.animation,initialize:function initialize(element,content){if(this.element=element,this.element){var options;"object"!=$.type(content)||_.isElement(content)||_.isText(content)||_.isDocumentFragment(content)||content instanceof $?options=arguments[2]||{}:(options=content,content=null);var dataOptions=$(element).data("tipped-options");dataOptions&&(options=deepExtend($.extend({},options),eval("({"+dataOptions+"})"))),this.options=Options.create(options),this._cache={dimensions:{width:0,height:0},events:[],timers:{},layouts:{},is:{},fnCallFn:"",updatedTo:{}},this.queues={showhide:$({})};var title=$(element).attr("title")||$(element).data("tipped-restore-title");if(!content){var dt=$(element).attr("data-tipped");if(dt?content=dt:title&&(content=title),content){var SCRIPT_REGEX=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;content=content.replace(SCRIPT_REGEX,"")}}if((!content||content instanceof $&&!content[0])&&!(this.options.ajax&&this.options.ajax.url||this.options.inline))return void(this._aborted=!0);title&&($(element).data("tipped-restore-title",title),$(element)[0].setAttribute("title","")),this.content=content,this.title=$(this.element).data("tipped-title"),"undefined"!=$.type(this.options.title)&&(this.title=this.options.title),this.zIndex=this.options.zIndex||+Tooltips.options.startingZIndex;var uids=$(element).data("tipped-uids");uids||(uids=[]);var uid=getUID();this.uid=uid,uids.push(uid),$(element).data("tipped-uids",uids);var parentTooltipElement=$(this.element).closest(".tpd-tooltip")[0],parentTooltip;parentTooltipElement&&(parentTooltip=Tooltips.getTooltipByTooltipElement(parentTooltipElement))&&parentTooltip.is("nest",!0);var target=this.options.target;this.target="mouse"==target?this.element:"element"!=target&&target?_.isElement(target)?target:target instanceof $&&target[0]?target[0]:this.element:this.element,this.options.inline&&(this.content=$("#"+this.options.inline)[0]),this.options.ajax&&(this.__content=this.content),"function"==$.type(this.content)&&(this._fn=this.content),this.preBuild(),Tooltips.add(this)}},remove:function(){this.unbind(),this.clearTimers(),this.restoreElementToMarker(),this.stopLoading(),this.abort(),this.is("build")&&this._tooltip&&(this._tooltip.remove(),this._tooltip=null);var t=$(this.element).data("tipped-uids")||[],e=$.inArray(this.uid,t);if(-1<e&&(t.splice(e,1),$(this.element).data("tipped-uids",t)),t.length<1){var n,i="tipped-restore-title";(n=$(this.element).data(i))&&(""!=!$(this.element)[0].getAttribute("title")&&$(this.element).attr("title",n),$(this.element).removeData(i)),$(this.element).removeData("tipped-uids")}var o=($(this.element).attr("class")||"").replace(/(tpd-delegation-uid-)\d+/g,"").replace(/^\s\s*/,"").replace(/\s\s*$/,"");$(this.element).attr("class",o)},detach:function(){this.options.detach&&!this.is("detached")&&(this._tooltip&&this._tooltip.detach(),this.is("detached",!0))},attach:function(){if(this.is("detached")){var t;if("string"==$.type(this.options.container)){var e=this.target;"mouse"==e&&(e=this.element),t=$($(e).closest(this.options.container).first())}else t=$(this.options.container);t[0]||(t=$(document.body)),t.append(this._tooltip),this.is("detached",!1)}},preBuild:function(){this.is("detached",!0);var t={left:"-10000px",top:"-10000px",opacity:0,zIndex:this.zIndex};this._tooltip=$("<div>").addClass("tpd-tooltip").addClass("tpd-skin-"+this.options.skin).addClass("tpd-size-"+this.options.size).css(t).hide(),this.createPreBuildObservers()},build:function(){this.is("build")||(this.attach(),this._tooltip.append(this._skin=$("<div>").addClass("tpd-skin")).append(this._contentWrapper=$("<div>").addClass("tpd-content-wrapper").append(this._contentSpacer=$("<div>").addClass("tpd-content-spacer").append(this._titleWrapper=$("<div>").addClass("tpd-title-wrapper").append(this._titleSpacer=$("<div>").addClass("tpd-title-spacer").append(this._titleRelative=$("<div>").addClass("tpd-title-relative").append(this._titleRelativePadder=$("<div>").addClass("tpd-title-relative-padder").append(this._title=$("<div>").addClass("tpd-title"))))).append(this._close=$("<div>").addClass("tpd-close").append($("<div>").addClass("tpd-close-icon").html("&times;")))).append(this._contentRelative=$("<div>").addClass("tpd-content-relative").append(this._contentRelativePadder=$("<div>").addClass("tpd-content-relative-padder").append(this._content=$("<div>").addClass("tpd-content"))).append(this._inner_close=$("<div>").addClass("tpd-close").append($("<div>").addClass("tpd-close-icon").html("&times;")))))),this.skin=new Skin(this),this._contentSpacer.css({"border-radius":Math.max(this.skin._css.radius-this.skin._css.border,0)}),this.createPostBuildObservers(),this.is("build",!0))},createPostBuildObservers:function(){this._tooltip.delegate(".tpd-close, .close-tooltip","click",$.proxy(function(t){t.stopPropagation(),t.preventDefault(),this.is("api",!1),this.hide(!0)},this))},createPreBuildObservers:function(){this.bind(this.element,"mouseenter",this.setActive),this.bind(this._tooltip,Support.touch&&Browser.MobileSafari?"touchstart":"mouseenter",this.setActive),this.bind(this.element,"mouseleave",function(t){this.setIdle(t)}),this.bind(this._tooltip,"mouseleave",function(t){this.setIdle(t)}),this.options.showOn&&($.each(this.options.showOn,$.proxy(function(t,e){var n,i=!1;switch(t){case"element":n=this.element,this.options.hideOn&&this.options.showOn&&"click"==this.options.hideOn.element&&"click"==this.options.showOn.element&&(i=!0,this.is("toggleable",i));break;case"tooltip":n=this._tooltip;break;case"target":n=this.target}if(n&&e){var o=e;this.bind(n,o,"click"==e&&i?function(){this.is("api",!1),this.toggle()}:function(){this.is("api",!1),this.showDelayed()})}},this)),Support.touch&&Browser.MobileSafari&&this.bind(this._tooltip,"touchend",function(){this._tooltipTouchEndTime=(new Date).getTime()})),this.options.hideOn&&$.each(this.options.hideOn,$.proxy(function(t,e){var n;switch(t){case"element":if(this.is("toggleable")&&"click"==e)return;n=this.element;break;case"tooltip":n=this._tooltip;break;case"target":n=this.target}if(n&&e){var i=e;Support.touch&&Browser.MobileSafari&&/^(target|element)/.test(t)&&/mouse(leave|out)/.test(i)?this.bind(n,i,function(t){if(this._tooltipTouchEndTime&&/^mouse(leave|out)$/.test(t.type)&&(new Date).getTime()-this._tooltipTouchEndTime<450)return;this.is("api",!1),this.hideDelayed()}):this.bind(n,i,function(){this.is("api",!1),this.hideDelayed()})}},this)),this.options.hideOnClickOutside&&($(this.element).addClass("tpd-hideOnClickOutside"),this.bind(document.documentElement,"click touchend",$.proxy(function(t){if(this.visible()){var e=$(t.target).closest(".tpd-tooltip, .tpd-hideOnClickOutside")[0];(!e||e&&e!=this._tooltip[0]&&e!=this.element)&&this.hide()}},this))),"mouse"==this.options.target&&this.bind(this.element,"mouseenter mousemove",$.proxy(function(t){this._cache.event=t},this));var t=!1;this.options.showOn&&"mouse"==this.options.target&&!this.options.fixed&&(t=!0),t&&this.bind(this.element,"mousemove",function(){this.is("build")&&(this.is("api",!1),this.position())})}}),$.extend(Tooltip.prototype,{stop:function(){this._tooltip&&(this.queues.showhide.queue([]),this._tooltip.stop(1,0))},showDelayed:function(){this.is("disabled")||(this.clearTimer("hide"),this.is("visible")||this.getTimer("show")||this.setTimer("show",$.proxy(function(){this.clearTimer("show"),this.show()},this),this.options.showDelay||1))},show:function(){if(this.clearTimer("hide"),!this.visible()&&!this.is("disabled")&&$(this.target).is(":visible")){this.is("visible",!0),this.attach(),this.stop();var t=this.queues.showhide;this.is("updated")||this.is("updating")||t.queue($.proxy(function(e){this._onResizeDimensions={width:0,height:0},this.update($.proxy(function(t){return t?(this.is("visible",!1),void this.detach()):void e()},this))},this)),t.queue($.proxy(function(t){this.is("sanitized")?(this.stopLoading(),this._contentWrapper.css({visibility:"visible"}),this.is("resize-to-content",!0),t()):(this._contentWrapper.css({visibility:"hidden"}),this.startLoading(),this.sanitize($.proxy(function(){this.stopLoading(),this._contentWrapper.css({visibility:"visible"}),this.is("resize-to-content",!0),t()},this)))},this)),t.queue($.proxy(function(t){this.position(),this.raise(),t()},this)),t.queue($.proxy(function(t){if(this.is("updated")&&"function"==$.type(this.options.onShow)){var e=new Visible(this._tooltip);this.options.onShow(this._content[0],this.element),e.restore(),t()}else t()},this)),t.queue($.proxy(function(t){this._show(this.options.fadeIn,function(){t()})},this))}},_show:function(t,e){t=("number"==$.type(t)?t:this.options.fadeIn)||0,e=e||"function"==$.type(t)&&t,this.options.hideOthers&&Tooltips.hideAll(this),this._tooltip.fadeTo(t,1,$.proxy(function(){e&&e()},this))},hideDelayed:function(){this.clearTimer("show"),this.getTimer("hide")||!this.visible()||this.is("disabled")||this.setTimer("hide",$.proxy(function(){this.clearTimer("hide"),this.hide()},this),this.options.hideDelay||1)},hide:function(e,n){if(this.clearTimer("show"),this.visible()&&!this.is("disabled")){this.is("visible",!1),this.stop();var t=this.queues.showhide;t.queue($.proxy(function(t){this.abort(),t()},this)),t.queue($.proxy(function(t){this._hide(e,t)},this)),t.queue(function(t){Tooltips.resetZ(),t()}),t.queue($.proxy(function(t){this.clearUpdatedTo(),t()},this)),"function"==$.type(this.options.afterHide)&&this.is("updated")&&t.queue($.proxy(function(t){this.options.afterHide(this._content[0],this.element),t()},this)),this.options.cache||!this.options.ajax&&!this._fn||t.queue($.proxy(function(t){this.is("updated",!1),this.is("updating",!1),this.is("sanitized",!1),t()},this)),"function"==$.type(n)&&t.queue(function(t){n(),t()}),t.queue($.proxy(function(t){this.detach(),t()},this))}},_hide:function(t,e){e=e||"function"==$.type(t)&&t,this.attach(),this._tooltip.fadeTo(t?0:this.options.fadeOut,0,$.proxy(function(){this.stopLoading(),this.is("resize-to-content",!1),this._tooltip.hide(),e&&e()},this))},toggle:function(){this.is("disabled")||this[this.visible()?"hide":"show"]()},raise:function(){if(this.is("build")&&!this.options.zIndex){var t=Tooltips.getHighestTooltip();t&&t!=this&&this.zIndex<=t.zIndex&&(this.zIndex=t.zIndex+1,this._tooltip.css({"z-index":this.zIndex}),this._tooltipShadow&&(this._tooltipShadow.css({"z-index":this.zIndex}),this.zIndex=t.zIndex+2,this._tooltip.css({"z-index":this.zIndex})))}}}),$.extend(Tooltip.prototype,{createElementMarker:function(){!this.elementMarker&&this.content&&_.element.isAttached(this.content)&&($(this.content).data("tpd-restore-inline-display",$(this.content).css("display")),this.elementMarker=$("<div>").hide(),$(this.content).before($(this.elementMarker).hide()))},restoreElementToMarker:function(){var t;this.content,this.elementMarker&&this.content&&((t=$(this.content).data("tpd-restore-inline-display"))&&$(this.content).css({display:t}),$(this.elementMarker).before(this.content).remove())},startLoading:function(){this.is("loading")||(this.build(),this.is("loading",!0),this.options.spinner&&(this._tooltip.addClass("tpd-is-loading"),this.skin.startLoading(),this.is("resize-to-content")||(this.position(),this.raise(),this._show())))},stopLoading:function(){this.build(),this.is("loading",!1),this.options.spinner&&(this._tooltip.removeClass("tpd-is-loading"),this.skin.stopLoading())},abort:function(){this.abortAjax(),this.abortSanitize(),this.is("refreshed-before-sanitized",!1)},abortSanitize:function(){this._cache.voila&&(this._cache.voila.abort(),this._cache.voila=null)},abortAjax:function(){this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null,this.is("updated",!1),this.is("updating",!1))},update:function(r){if(!this.is("updating")){this.is("updating",!0),this.build();var t=this.options.inline?"inline":this.options.ajax?"ajax":_.isElement(this.content)||_.isText(this.content)||_.isDocumentFragment(this.content)?"element":this._fn?"function":"html";switch(this._contentWrapper.css({visibility:"hidden"}),t){case"html":case"element":case"inline":if(this.is("updated"))return void(r&&r());this._update(this.content,r);break;case"function":if(this.is("updated"))return void(r&&r());var e=this._fn(this.element);if(!e)return this.is("updating",!1),void(r&&r(!0));this._update(e,r);break;case"ajax":var n=this.options.ajax||{},i=n.url||this.__content,o=n.data||{},s=(t=n.type||"GET",n.dataType),a={url:i,data:o};t&&$.extend(a,{type:t}),s&&$.extend(a,{dataType:s});var l,c=$.extend({},a,n);if(c.method&&delete(c=$.extend({},c)).method,$.each("complete error success".split(" "),$.proxy(function(t,o){c[o]||(c[o]="success"==o?function(t,e,n){return n.responseText}:function(){}),c[o]=_.wrap(c[o],$.proxy(function(t){var e=_slice.call(arguments,1),n=$.type("object"==e[0])?e[0]:e[2];if(!n.statusText||"abort"!=n.statusText){this.options.cache&&AjaxCache.set({url:c.url,type:c.type,data:c.data},o,e),this._cache.xhr=null;var i=t.apply(this,e);i&&this._update(i,r)}},this))},this)),this.options.cache&&(l=AjaxCache.get(c))&&l.callbacks.success)return void $.each(l.callbacks,$.proxy(function(t,e){"function"==$.type(c[t])&&c[t].apply(this,e)},this));this.startLoading(),this._cache.xhr=$.ajax(c)}}},_update:function(t,e){var n={title:this.options.title,close:this.options.close};"string"==$.type(t)||_.isElement(t)||_.isText(t)||_.isDocumentFragment(t)||t instanceof $?n.content=t:$.extend(n,t);t=n.content;var i=n.title,o=n.close;this.content=t,this.title=i,this.close=o,this.createElementMarker(),(_.isElement(t)||t instanceof $)&&$(t).show(),this._content.html(this.content),this._title.html(i&&"string"==$.type(i)?i:""),this._titleWrapper[i?"show":"hide"](),this._close[(this.title||this.options.title)&&o?"show":"hide"]();var r=o&&!(this.options.title||this.title),s=o&&!(this.options.title||this.title)&&"overlap"!=o,a=o&&(this.options.title||this.title)&&"overlap"!=o;this._inner_close[r?"show":"hide"](),this._tooltip[(s?"add":"remove")+"Class"]("tpd-has-inner-close"),this._tooltip[(a?"add":"remove")+"Class"]("tpd-has-title-close"),this._content[(this.options.padding?"remove":"add")+"Class"]("tpd-content-no-padding"),this.finishUpdate(e)},sanitize:function(e){return!this.options.voila||this._content.find("img").length<1?(this.is("sanitized",!0),void(e&&e())):void(this._cache.voila=Voila(this._content,{method:"onload"},$.proxy(function(t){this._markImagesAsSanitized(t.images),this.is("refreshed-before-sanitized")?(this.is("refreshed-before-sanitized",!1),this.sanitize(e)):(this.is("sanitized",!0),e&&e())},this)))},_markImagesAsSanitized:function(t){$.each(t,function(t,e){var n=e.img;$(n).data("completed-src",e.img.src)})},_hasAllImagesSanitized:function(){var i=!0;return this._content.find("img").each(function(t,e){var n=$(e).data("completed-src");return n&&e.src==n?void 0:i=!1}),i},refresh:function(){if(this.visible()){if(!this.is("sanitized"))return void this.is("refreshed-before-sanitized",!0);this.is("refreshing",!0),this.clearTimer("refresh-spinner"),!this.options.voila||this._content.find("img").length<1||this._hasAllImagesSanitized()?(this.is("should-update-dimensions",!0),this.position(),this.is("refreshing",!1)):(this.is("sanitized",!1),this._contentWrapper.css({visibility:"hidden"}),this.startLoading(),this.sanitize($.proxy(function(){this._contentWrapper.css({visibility:"visible"}),this.stopLoading(),this.is("should-update-dimensions",!0),this.position(),this.is("refreshing",!1)},this)))}},finishUpdate:function(t){if(this.is("updated",!0),this.is("updating",!1),"function"==$.type(this.options.afterUpdate)){var e=this._contentWrapper.css("visibility");e&&this._contentWrapper.css({visibility:"visible"}),this.options.afterUpdate(this._content[0],this.element),e&&this._contentWrapper.css({visibility:"hidden"})}t&&t()}}),$.extend(Tooltip.prototype,{clearUpdatedTo:function(){this._cache.updatedTo={}},updateDimensionsToContent:function(t,e){this.skin.build();var n=this.is("loading"),i=this._cache.updatedTo;if((this._maxWidthPass||this.is("api")||this.is("should-update-dimensions")||i.stemPosition!=e||i.loading!=n)&&(!n||!this.is("resize-to-content"))){this._cache.updatedTo={type:this.is("resize-to-content")?"content":"spinner",loading:this.is("loading"),stemPosition:e},this.is("should-update-dimensions")&&this.is("should-update-dimensions",!1);t=t||this.options.position.target,e=e||this.options.position.tooltip;var o=Position.getSide(e),r=Position.getOrientation(e),s=this.skin._css.border;this._tooltip.addClass("tpd-tooltip-measuring");var a=this._tooltip.attr("style");this._tooltip.removeAttr("style");var l={top:s,right:s,bottom:s,left:s},c=0;if("vertical"==Position.getOrientation(e)){this.options.stem&&(l[o]=this.skin["stem_"+o].getMath().dimensions.outside.height);var u=this.getMouseRoom();u[Position._flip[o]]&&(l[o]+=u[Position._flip[o]]);var h=this.getContainmentLayout(e),d=this.getPaddingLine(t),f=!1;Position.isPointWithinBoxLayout(d.x1,d.y1,h)||Position.isPointWithinBoxLayout(d.x2,d.y2,h)?f=!0:$.each("top right bottom left".split(" "),$.proxy(function(t,e){var n=this.getSideLine(h,e);return Position.intersectsLine(d.x1,d.y1,d.x2,d.y2,n.x1,n.y1,n.x2,n.y2)?!(f=!0):void 0},this)),f&&(c="left"==o?d.x1-h.position.left:h.position.left+h.dimensions.width-d.x1,l[o]+=c)}if(this.options.offset&&"vertical"==r){var p=Position.adjustOffsetBasedOnPosition(this.options.offset,this.options.position.target,t);0!==p.x&&(l.right+=Math.abs(p.x))}this.options.containment&&(c=this.options.containment.padding)&&($.each(l,function(t){l[t]+=c}),"vertical"==r?l["left"==o?"left":"right"]-=c:l["top"==o?"top":"bottom"]-=c);var g=Bounds.viewport(),m={width:0,height:0};this.close&&"overlap"!=this.close&&!this.title&&(m=this._innerCloseDimensions||{width:this._inner_close.outerWidth(!0),height:this._inner_close.outerHeight(!0)},this._innerCloseDimensions=m),this._contentRelativePadder.css({"padding-right":m.width}),this._contentSpacer.css({width:g.width-l.left-l.right});var v={width:this._content.innerWidth()+m.width,height:Math.max(this._content.innerHeight(),m.height||0)},y={width:0,height:0};if(this.title){var b={width:0,height:0};this._titleWrapper.add(this._titleSpacer).css({width:"auto",height:"auto"}),this.close&&"overlap"!=this.close&&(b={width:this._close.outerWidth(!0),height:this._close.outerHeight(!0)},this._close.hide()),this._maxWidthPass&&v.width>this.options.maxWidth&&this._titleRelative.css({width:v.width}),this._titleRelativePadder.css({"padding-right":b.width});var _=parseFloat(this._titleWrapper.css("border-bottom-width"));(y={width:this.title?this._titleWrapper.innerWidth():0,height:Math.max(this.title?this._titleWrapper.innerHeight()+_:0,b.height+_)}).width>g.width-l.left-l.right&&(y.width=g.width-l.left-l.right,this._titleSpacer.css({width:y.width}),y.height=Math.max(this.title?this._titleWrapper.innerHeight()+_:0,b.height+_)),v.width=Math.max(y.width,v.width),v.height+=y.height,this._titleWrapper.css({height:Math.max(this.title?this._titleWrapper.innerHeight():0,b.height)}),this.close&&this._close.show()}if(this.options.stem){var w="vertical"==r?"height":"width",x=this.skin["stem_"+o].getMath().outside.width+2*this.skin._css.radius;v[w]<x&&(v[w]=x)}if(this._contentSpacer.css({width:v.width}),v.height!=Math.max(this._content.innerHeight(),m.height)+(this.title?this._titleRelative.outerHeight():0)&&v.width++,this.is("resize-to-content")||(v=this.skin._css.spinner.dimensions),this.setDimensions(v),l={top:s,right:s,bottom:s,left:s},this.options.stem){var C=Position.getSide(e);l[C]=this.skin.stem_top.getMath().dimensions.outside.height}this._contentSpacer.css({"margin-top":l.top,"margin-left":+l.left,width:v.width}),(this.title||this.close)&&this._titleWrapper.css({height:this._titleWrapper.innerHeight(),width:v.width}),this._tooltip.removeClass("tpd-tooltip-measuring"),this._tooltip.attr("style",a);var k=this._contentRelative.add(this._titleRelative);this.options.maxWidth&&v.width>this.options.maxWidth&&!this._maxWidthPass&&this.is("resize-to-content")&&(k.css({width:this.options.maxWidth}),this._maxWidthPass=!0,this.updateDimensionsToContent(t,e),this._maxWidthPass=!1,k.css({width:"auto"}))}},setDimensions:function(t){this.skin.setDimensions(t)},getContainmentSpace:function(t,e){var n=this.getContainmentLayout(t,e),i=this.getTargetLayout(),o=i.position,r=i.dimensions,s=n.position,a=n.dimensions,l={top:Math.max(o.top-s.top,0),bottom:Math.max(s.top+a.height-(o.top+r.height),0),left:Math.max(o.left-s.left,0),right:Math.max(s.left+a.width-(o.left+r.width),0)};return o.top>s.top+a.height&&(l.top-=o.top-(s.top+a.height)),o.top+r.height<s.top&&(l.bottom-=s.top-(o.top+r.height)),o.left>s.left+a.width&&s.left+a.width>=o.left&&(l.left-=o.left-(s.left+a.width)),o.left+r.width<s.left&&(l.right-=s.left-(o.left+r.width)),this._cache.layouts.containmentSpace=l},position:function(){if(this.visible()){this.is("positioning",!0),this._cache.layouts={},this._cache.dimensions;var t=this.options.position.target,e=this.options.position.tooltip,n=e,i=t;this.updateDimensionsToContent(i,n);var o=deepExtend(this.getPositionBasedOnTarget(i,n)),r=[];if(this.options.containment){var s=!1,a={};if($.each("top right bottom left".split(" "),$.proxy(function(t,e){(a[e]=this.isSideWithinContainment(e,n,!0))&&(s=!0)},this)),s||(o.contained=!0),o.contained)this.setPosition(o);else if(r.unshift({position:o,targetPosition:i,stemPosition:n}),i=Position.flip(t),n=Position.flip(e),a[Position.getSide(i)]?(this.updateDimensionsToContent(i,n),o=this.getPositionBasedOnTarget(i,n)):o.contained=!1,o.contained)this.setPosition(o,n);else{r.unshift({position:o,targetPosition:i,stemPosition:n});var l=t,c=this.getContainmentSpace(n,!0),u="horizontal"==Position.getOrientation(l)?["left","right"]:["top","bottom"],h=(c[u[0]]===c[u[1]]?"horizontal"==Position.getOrientation(l)?"left":"top":u[c[u[0]]>c[u[1]]?0:1])+Position.split(l)[1],d=Position.flip(h);if(i=h,n=d,a[Position.getSide(i)]?(this.updateDimensionsToContent(i,n),o=this.getPositionBasedOnTarget(i,n)):o.contained=!1,o.contained)this.setPosition(o,n);else{r.unshift({position:o,targetPosition:i,stemPosition:n});var f,p=[];if($.each(r,function(t,e){if(0<=e.position.top&&0<=e.position.left)f=e;else{var n=0<=e.position.top?1:Math.abs(e.position.top),i=0<=e.position.left?1:Math.abs(e.position.left);p.push({result:e,negativity:n*i})}}),!f){var g=p[p.length-1];$.each(p,function(t,e){e.negativity<g.negativity&&(g=e)}),f=g.result}this.updateDimensionsToContent(f.targetPosition,f.stemPosition,!0),this.setPosition(f.position,f.stemPosition)}}}else this.setPosition(o);this._cache.dimensions=this.skin._vars.dimensions,this.skin.paint(),this.is("positioning",!1)}},getPositionBasedOnTarget:function(t,e){e=e||this.options.position.tooltip;var n=this.getTargetDimensions(),i={left:0,top:0},o={left:0,top:0};Position.getSide(t);var r=this.skin._vars,s=r.frames[Position.getSide(e)],a=Position.getOrientation(t),l=Position.split(t);if("horizontal"==a){var c=Math.floor(.5*n.width);switch(l[2]){case"left":o.left=c;break;case"middle":i.left=n.width-c,o.left=i.left;break;case"right":i.left=n.width,o.left=n.width-c}"bottom"==l[1]&&(i.top=n.height,o.top=n.height)}else{c=Math.floor(.5*n.height);switch(l[2]){case"top":o.top=c;break;case"middle":i.top=n.height-c,o.top=i.top;break;case"bottom":o.top=n.height-c,i.top=n.height}"right"==l[1]&&(i.left=n.width,o.left=n.width)}var u=this.getTargetPosition(),h=$.extend({},n,{top:u.top,left:u.left,connection:i,max:o}),d={width:s.dimensions.width,height:s.dimensions.height,top:0,left:0,connection:r.connections[e].connection,stem:r.connections[e].stem};if(d.top=h.top+h.connection.top,d.left=h.left+h.connection.left,d.top-=d.connection.top,d.left-=d.connection.left,this.options.stem){var f=r.stemDimensions.width,p={stem:{top:d.top+d.stem.connection.top,left:d.left+d.stem.connection.left},connection:{top:h.top+h.connection.top,left:h.left+h.connection.left},max:{top:h.top+h.max.top,left:h.left+h.max.left}};if(!Position.isPointWithinBox(p.stem.left,p.stem.top,p.connection.left,p.connection.top,p.max.left,p.max.top)){p={stem:{top:d.top+d.stem.connection.top,left:d.left+d.stem.connection.left},connection:{top:h.top+h.connection.top,left:h.left+h.connection.left},max:{top:h.top+h.max.top,left:h.left+h.max.left}};var g={connection:Position.getDistance(p.stem.left,p.stem.top,p.connection.left,p.connection.top),max:Position.getDistance(p.stem.left,p.stem.top,p.max.left,p.max.top)},m=Math.min(g.connection,g.max),v=p[g.connection<=g.max?"connection":"max"],y="horizontal"==Position.getOrientation(e)?"left":"top";if(f<=Position.getDistance(p.connection.left,p.connection.top,p.max.left,p.max.top)){var b={top:0,left:0},_=v[y]<p.stem[y]?-1:1;b[y]=m*_,b[y]+=Math.floor(.5*f)*_,d.left+=b.left,d.top+=b.top}else{$.extend(p,{center:{top:Math.round(h.top+.5*n.height),left:Math.round(h.left+.5*n.left)}});m=g[Position.getDistance(p.center.left,p.center.top,p.connection.left,p.connection.top)<=Position.getDistance(p.center.left,p.center.top,p.max.left,p.max.top)?"connection":"max"];var w={top:0,left:0};_=v[y]<p.stem[y]?-1:1;w[y]=m*_,d.left+=w.left,d.top+=w.top}}}if(this.options.offset){var x=$.extend({},this.options.offset);x=Position.adjustOffsetBasedOnPosition(x,this.options.position.target,t),d.top+=x.y,d.left+=x.x}var C=this.getContainment({top:d.top,left:d.left},e),k=C.horizontal&&C.vertical,S={x:0,y:0},E=Position.getOrientation(e);if(!C[E]){var O="horizontal"==E,M=O?["left","right"]:["up","down"],A=O?"x":"y",T=O?"left":"top",P=C.correction[A],j=this.getContainmentLayout(e),I=j.position[O?"left":"top"];if(0!==P){var D=r.connections[e].move,N=D[M[-1*P<0?0:1]],F=P<0?-1:1;if(P*F<=N&&d[T]+P>=I)d[T]+=P,S[A]=-1*P,k=!0;else if(Position.getOrientation(t)==Position.getOrientation(e)){if(d[T]+=N*F,S[A]=-1*N*F,d[T]<I){var z=I-d[T],L=D[M[0]]+D[M[1]];z=Math.min(z,L);d[T]+=z;var R=S[A]-z;R>=r.connections[e].move[M[0]]&&R<=r.connections[e].move[M[1]]&&(S[A]-=z)}var W=(C=this.getContainment({top:d.top,left:d.left},e)).correction[A],B=deepExtend({},d);this.options.offset&&(B.left-=this.options.offset.x,B.top-=this.options.offset.y),(p={stem:{top:B.top+d.stem.connection.top,left:B.left+d.stem.connection.left}}).stem[T]+=S[A];var H=this.getTargetLayout(),U=(f=r.stemDimensions.width,Math.floor(.5*f)),q=I+j.dimensions[O?"width":"height"];if("x"==A){var V=H.position.left+U;0<W&&(V+=H.dimensions.width-2*U),(W<0&&p.stem.left+W>=V&&B.left+W>=I||0<W&&p.stem.left+W<=V&&B.left+W<=q)&&(B.left+=W)}else{var Y=H.position.top+U;0<W&&(Y+=H.dimensions.height-2*U),(W<0&&p.stem.top+W>=Y&&B.top+W>=I||0<W&&p.stem.top+W<=Y&&B.top+W<=q)&&(B.top+=W)}d=B,this.options.offset&&(d.left+=this.options.offset.x,d.top+=this.options.offset.y)}}k=(C=this.getContainment({top:d.top,left:d.left},e)).horizontal&&C.vertical}return{top:d.top,left:d.left,contained:k,shift:S}},setPosition:function(t,e){var n=this._position;if(!n||n.top!=t.top||n.left!=t.left){var i;if(this.options.container!=document.body){if("string"==$.type(this.options.container)){var o=this.target;"mouse"==o&&(o=this.element),i=$($(o).closest(this.options.container).first())}else i=$(i);if(i[0]){var r=$(i).offset(),s=Math.round(r.top),a=Math.round(r.left),l=Math.round($(i).scrollTop()),c=Math.round($(i).scrollLeft());t.top-=s,t.top+=l,t.left-=a,t.left+=c}}this._position=t,this._tooltip.css({top:t.top,left:t.left})}this.skin.setStemPosition(e||this.options.position.tooltip,t.shift||{x:0,y:0})},getSideLine:function(t,e){var n=t.position.left,i=t.position.top,o=t.position.left,r=t.position.top;switch(e){case"top":o+=t.dimensions.width;break;case"bottom":i+=t.dimensions.height,o+=t.dimensions.width,r+=t.dimensions.height;break;case"left":r+=t.dimensions.height;break;case"right":n+=t.dimensions.width,o+=t.dimensions.width,r+=t.dimensions.height}return{x1:n,y1:i,x2:o,y2:r}},isSideWithinContainment:function(t,e,n){var i=this.getContainmentLayout(e,n),o=this.getTargetLayout(),r=this.getSideLine(o,t);if(Position.isPointWithinBoxLayout(r.x1,r.y1,i)||Position.isPointWithinBoxLayout(r.x2,r.y2,i))return!0;var s=!1;return $.each("top right bottom left".split(" "),$.proxy(function(t,e){var n=this.getSideLine(i,e);return Position.intersectsLine(r.x1,r.y1,r.x2,r.y2,n.x1,n.y1,n.x2,n.y2)?!(s=!0):void 0},this)),s},getContainment:function(t,e){var n={horizontal:!0,vertical:!0,correction:{y:0,x:0}};if(this.options.containment){var i=this.getContainmentLayout(e),o=this.skin._vars.frames[Position.getSide(e)].dimensions;this.options.containment&&((t.left<i.position.left||t.left+o.width>i.position.left+i.dimensions.width)&&(n.horizontal=!1,n.correction.x=t.left<i.position.left?i.position.left-t.left:i.position.left+i.dimensions.width-(t.left+o.width)),(t.top<i.position.top||t.top+o.height>i.position.top+i.dimensions.height)&&(n.vertical=!1,n.correction.y=t.top<i.position.top?i.position.top-t.top:i.position.top+i.dimensions.height-(t.top+o.height)))}return n},getContainmentLayout:function(t,e){var n={top:$(window).scrollTop(),left:$(window).scrollLeft()},i=this.target;"mouse"==i&&(i=this.element);var o,r=$(i).closest(this.options.containment.selector).first()[0];o=r&&"viewport"!=this.options.containment.selector?{dimensions:{width:$(r).innerWidth(),height:$(r).innerHeight()},position:$(r).offset()}:{dimensions:Bounds.viewport(),position:n};var s=this.options.containment.padding;if(s&&!e){var a=Math.max(o.dimensions.height,o.dimensions.width);if(a<2*s&&(s=Math.max(Math.floor(.5*a),0)),s)o.dimensions.width-=2*s,o.dimensions.height-=2*s,o.position.top+=s,o.position.left+=s,"vertical"==Position.getOrientation(t)?(o.dimensions.width+=s,"left"==Position.getSide(t)&&(o.position.left-=s)):(o.dimensions.height+=s,"top"==Position.getSide(t)&&(o.position.top-=s))}return this._cache.layouts.containmentLayout=o},getMouseRoom:function(){var t={top:0,left:0,right:0,bottom:0};if("mouse"==this.options.target&&!this.is("api")){var e=Mouse.getActualPosition(this._cache.event),n=$(this.element).offset(),i=$(this.element).innerWidth(),o=$(this.element).innerHeight();t={top:Math.max(0,e.top-n.top),bottom:Math.max(0,n.top+o-e.top),left:Math.max(0,e.left-n.left),right:Math.max(0,n.left+i-e.left)}}return t},getTargetPosition:function(){var t;if("mouse"==this.options.target)if(this.is("api")){var e=$(this.element).offset();t={top:Math.round(e.top),left:Math.round(e.left)}}else t=Mouse.getPosition(this._cache.event);else{e=$(this.target).offset();t={top:Math.round(e.top),left:Math.round(e.left)}}return this._cache.layouts.targetPosition=t},getTargetDimensions:function(){return this._cache.layouts.targetDimensions?this._cache.layouts.targetDimensions:(t="mouse"==this.options.target?Mouse.getDimensions():{width:$(this.target).innerWidth(),height:$(this.target).innerHeight()},this._cache.layouts.targetDimensions=t);var t},getTargetLayout:function(){if(this._cache.layouts.targetLayout)return this._cache.layouts.targetLayout;var t={position:this.getTargetPosition(),dimensions:this.getTargetDimensions()};return this._cache.layouts.targetLayout=t},getPaddingLine:function(t){var e=this.getTargetLayout(),n="left";if("vertical"==Position.getOrientation(t))return this.getSideLine(e,Position.getSide(t));if(Position.isCorner(t)){var i=Position.inverseCornerPlane(t);return n=Position.getSide(i),this.getSideLine(e,n)}var o=this.getSideLine(e,n),r=Math.round(.5*e.dimensions.width);return o.x1+=r,o.x2+=r,o}}),$.extend(Tooltip.prototype,{setActive:function(){this.is("active",!0),this.visible()&&this.raise(),this.options.hideAfter&&this.clearTimer("idle")},setIdle:function(){this.is("active",!1),this.options.hideAfter&&this.setTimer("idle",$.proxy(function(){this.clearTimer("idle"),this.is("active")||this.hide()},this),this.options.hideAfter)}}),$.extend(Tooltip.prototype,{bind:function(t,e,n,i){e=e;var o=$.proxy(n,i||this);this._cache.events.push({element:t,eventName:e,handler:o}),$(t).bind(e,o)},unbind:function(){$.each(this._cache.events,function(t,e){$(e.element).unbind(e.eventName,e.handler)}),this._cache.events=[]}}),$.extend(Tooltip.prototype,{disable:function(){this.is("disabled")||this.is("disabled",!0)},enable:function(){this.is("disabled")&&this.is("disabled",!1)}}),$.extend(Tooltip.prototype,{is:function(t,e){return"boolean"==$.type(e)&&(this._cache.is[t]=e),this._cache.is[t]},visible:function(){return this.is("visible")}}),$.extend(Tooltip.prototype,{setTimer:function(t,e,n){this._cache.timers[t]=_.delay(e,n)},getTimer:function(t){return this._cache.timers[t]},clearTimer:function(t){this._cache.timers[t]&&(clearTimeout(this._cache.timers[t]),delete this._cache.timers[t])},clearTimers:function(){$.each(this._cache.timers,function(t,e){clearTimeout(e)}),this._cache.timers={}}}),$.extend(Tipped,{init:function(){Tooltips.init()},create:function(t,n){var i=$.extend({},arguments[2]||{}),o=[];return _.isElement(t)?o.push(new Tooltip(t,n,i)):$(t).each(function(t,e){o.push(new Tooltip(e,n,i))}),new Collection(o)},get:function(t){return new Collection(Tooltips.get(t))},findElement:function(t){return Tooltips.findElement(t)},hideAll:function(){return Tooltips.hideAll(),this},setDefaultSkin:function(t){return Tooltips.setDefaultSkin(t),this},visible:function(t){if(_.isElement(t))return Tooltips.isVisibleByElement(t);if("undefined"==$.type(t))return Tooltips.getVisible().length;var e=$(t),n=0;return $.each(e,function(t,e){Tooltips.isVisibleByElement(e)&&n++}),n},clearAjaxCache:function(){return Tooltips.clearAjaxCache(),this},refresh:function(t,e,n){return Tooltips.refresh(t,e,n),this},setStartingZIndex:function(t){return Tooltips.setStartingZIndex(t),this},remove:function(t){return Tooltips.remove(t),this}}),$.each("show hide toggle disable enable".split(" "),function(t,e){Tipped[e]=function(t){return this.get(t)[e](),this}}),$.extend(Tipped,{delegate:function(){Delegations.add.apply(Delegations,_slice.call(arguments))},undelegate:function(){Delegations.remove.apply(Delegations,_slice.call(arguments))}});var Delegations={_uid:0,_delegations:{},add:function(t,n,i){"object"!=$.type(n)||_.isElement(n)?i=i||{}:(i=n,n=null);var o=++this._uid,e=Options.create($.extend({},i));this._delegations[o]={uid:o,selector:t,content:n,options:e};var r=function(t){$(this).addClass("tpd-delegation-uid-"+o);var e=new Tooltip(this,n,i);e._cache.event=t,e.setActive(),e.showDelayed()};this._delegations[o].removeTitleHandler=$.proxy(this.removeTitle,this),$(document).delegate(t+":not(.tpd-delegation-uid-"+o+")","mouseenter",this._delegations[o].removeTitleHandler),this._delegations[o].handler=r,$(document).delegate(t+":not(.tpd-delegation-uid-"+o+")",e.showOn.element,r)},removeTitle:function(t){var e=t.currentTarget,n=$(e).attr("title");n&&($(e).data("tipped-restore-title",n),$(e)[0].setAttribute("title",""))},remove:function(n){$.each(this._delegations,$.proxy(function(t,e){e.selector==n&&($(document).undelegate(n+":not(.tpd-delegation-uid-"+t+")","mouseenter",e.removeTitleHandler).undelegate(n+":not(.tpd-delegation-uid-"+t+")",e.options.showOn.element,e.handler),delete this._delegations[t])},this))},removeAll:function(){$.each(this._delegations,$.proxy(function(t,e){$(document).undelegate(e.selector+":not(.tpd-delegation-uid-"+t+")","mouseenter",e.removeTitleHandler).undelegate(e.selector+":not(.tpd-delegation-uid-"+t+")",e.options.showOn.element,e.handler),delete this._delegations[t]},this))}};return $.extend(Collection.prototype,{initialize:function(t){return this.tooltips=t,this},items:function(){return $.each(this.tooltips,function(t,e){e.is("api",!0)}),this.tooltips},refresh:function(){return $.each(this._tooltips,function(t,e){e.is("visible")&&e.refresh()}),this},remove:function(){return Tooltips.removeTooltips(this.tooltips),this.tooltips=[],this}}),$.each("show hide toggle disable enable".split(" "),function(t,n){Collection.prototype[n]=function(){return $.each(this.tooltips,function(t,e){e.is("api",!0),e[n]()}),this}}),Tipped.init(),Tipped}),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs_locale_en=e()}(this,function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs_plugin_relativeTime=e()}(this,function(){"use strict";return function(t,e,d){var n=e.prototype;d.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var i=function(t,e,n,i){for(var o,r,s=n.$locale().relativeTime,a=[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],l=a.length,c=0;c<l;c+=1){var u=a[c];u.d&&(o=i?d(t).diff(n,u.d,!0):n.diff(t,u.d,!0));var h=Math.round(Math.abs(o));if(h<=u.r||!u.r){1===h&&0<c&&(u=a[c-1]),r=s[u.l].replace("%d",h);break}}return e?r:(0<o?s.future:s.past).replace("%s",r)};n.to=function(t,e){return i(t,e,this,!0)},n.from=function(t,e){return i(t,e,this)};var o=function(t){return t.$u?d.utc():d()};n.toNow=function(t){return this.to(o(this),t)},n.fromNow=function(t){return this.from(o(this),t)}}}),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs_plugin_advancedFormat=e()}(this,function(){"use strict";return function(t,e,n){var i=e.prototype,r=i.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},i.format=function(t){var e=this,n=this.$locale(),i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|gggg|Do|X|x|k{1,2}|S/g,function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"wo":return n.ordinal(e.week(),"W");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();default:return t}});return r.bind(this)(o)}}}),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs_plugin_localizedFormat=e()}(this,function(){"use strict";return function(t,e,n){var i=e.prototype,r=i.format,s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};n.en.formats=s,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,o=void 0===e?{}:e,n=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,e,n){var i=n&&n.toUpperCase();return e||o[n]||s[n]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})});return r.call(this,n)}}}),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs_plugin_customParseFormat=e()}(this,function(){"use strict";var a,_=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d\d/,e=/\d\d?/,n=/\d*[^\s\d-:/.()]+/,i=function(e){return function(t){this[e]=+t}},o=[/[+-]\d\d:?\d\d/,function(t){var e,n;(this.zone||(this.zone={})).offset=0==(n=60*(e=t.match(/([+-]|\d\d)/g))[1]+ +e[2])?0:"+"===e[0]?-n:n}],w={A:[/[AP]M/,function(t){this.afternoon="PM"===t}],a:[/[ap]m/,function(t){this.afternoon="pm"===t}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[t,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[e,i("seconds")],ss:[e,i("seconds")],m:[e,i("minutes")],mm:[e,i("minutes")],H:[e,i("hours")],h:[e,i("hours")],HH:[e,i("hours")],hh:[e,i("hours")],D:[e,i("day")],DD:[t,i("day")],Do:[n,function(t){var e=a.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var i=1;i<=31;i+=1)e(i).replace(/\[|\]/g,"")===t&&(this.day=i)}],M:[e,i("month")],MM:[t,i("month")],MMM:[n,function(e){var t=a,n=t.months,i=t.monthsShort,o=i?i.findIndex(function(t){return t===e}):n.findIndex(function(t){return t.substr(0,3)===e});if(o<0)throw new Error;this.month=o+1}],MMMM:[n,function(t){var e=a.months.indexOf(t);if(e<0)throw new Error;this.month=e+1}],Y:[/[+-]?\d+/,i("year")],YY:[t,function(t){t=+t,this.year=t+(68<t?1900:2e3)}],YYYY:[/\d{4}/,i("year")],Z:o,ZZ:o};return function(t,e,r){var n=e.prototype,s=n.parse;n.parse=function(t){var e=t.date,n=t.format,i=t.pl,o=t.utc;this.$u=o,n?(a=i?r.Ls[i]:this.$locale(),this.$d=function(t,s,e){try{var n=function(t){for(var c=s.match(_),u=c.length,e=0;e<u;e+=1){var n=c[e],i=w[n],o=i&&i[0],r=i&&i[1];c[e]=r?{regex:o,parser:r}:n.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,i=0;n<u;n+=1){var o=c[n];if("string"==typeof o)i+=o.length;else{var r=o.regex,s=o.parser,a=t.substr(i),l=r.exec(a)[0];s.call(e,l),t=t.replace(l,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}()(t),i=n.year,o=n.month,r=n.day,a=n.hours,l=n.minutes,c=n.seconds,u=n.milliseconds,h=n.zone;if(h)return new Date(Date.UTC(i,o-1,r,a||0,l||0,c||0,u||0)+60*h.offset*1e3);var d=new Date,f=i||d.getFullYear(),p=0<o?o-1:d.getMonth(),g=r||d.getDate(),m=a||0,v=l||0,y=c||0,b=u||0;return e?new Date(Date.UTC(f,p,g,m,v,y,b)):new Date(f,p,g,m,v,y,b)}catch(t){return new Date("")}}(e,n,o),this.init(t)):s.call(this,t)}}}),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs_plugin_utc=e()}(this,function(){"use strict";return function(t,n,e){var i=n.prototype;e.utc=function(t,e){return new n({date:t,utc:!0,format:e})},i.utc=function(){return e(this.toDate(),{locale:this.$L,utc:!0})},i.local=function(){return e(this.toDate(),{locale:this.$L,utc:!1})};var o=i.parse;i.parse=function(t){t.utc&&(this.$u=!0),o.call(this,t)};var r=i.init;i.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var s=i.utcOffset;i.utcOffset=function(){return this.$u?0:s.call(this)};var a=i.format;i.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return a.call(this,e)},i.isUTC=function(){return!!this.$u}}}),function(){function h(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}h.prototype.diff_main=function(t,e,n,i){if(void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var o=n,r=this.diff_commonPrefix(t,e);n=t.substring(0,r),t=t.substring(r),e=e.substring(r);r=this.diff_commonSuffix(t,e);var s=t.substring(t.length-r);return t=t.substring(0,t.length-r),e=e.substring(0,e.length-r),t=this.diff_compute_(t,e,o,i),n&&t.unshift([0,n]),s&&t.push([0,s]),this.diff_cleanupMerge(t),t},h.prototype.diff_compute_=function(t,e,n,i){if(!t)return[[1,e]];if(!e)return[[-1,t]];var o=t.length>e.length?t:e,r=t.length>e.length?e:t,s=o.indexOf(r);return-1!=s?(n=[[1,o.substring(0,s)],[0,r],[1,o.substring(s+r.length)]],t.length>e.length&&(n[0][0]=n[2][0]=-1),n):1==r.length?[[-1,t],[1,e]]:(o=this.diff_halfMatch_(t,e))?(r=o[0],t=o[1],s=o[2],e=o[3],o=o[4],r=this.diff_main(r,s,n,i),n=this.diff_main(t,e,n,i),r.concat([[0,o]],n)):n&&100<t.length&&100<e.length?this.diff_lineMode_(t,e,i):this.diff_bisect_(t,e,i)},h.prototype.diff_lineMode_=function(t,e,n){var i=this.diff_linesToChars_(t,e);t=i.chars1,e=i.chars2,i=i.lineArray,t=this.diff_main(t,e,!1,n),this.diff_charsToLines_(t,i),this.diff_cleanupSemantic(t),t.push([0,""]);for(var o=i=e=0,r="",s="";e<t.length;){switch(t[e][0]){case 1:o++,s+=t[e][1];break;case-1:i++,r+=t[e][1];break;case 0:if(1<=i&&1<=o){for(t.splice(e-i-o,i+o),e=e-i-o,o=(i=this.diff_main(r,s,!1,n)).length-1;0<=o;o--)t.splice(e,0,i[o]);e+=i.length}i=o=0,s=r=""}e++}return t.pop(),t},h.prototype.diff_bisect_=function(t,e,n){for(var i=t.length,o=e.length,r=Math.ceil((i+o)/2),s=r,a=2*r,l=Array(a),c=Array(a),u=0;u<a;u++)l[u]=-1,c[u]=-1;l[s+1]=0;for(var h=(c[s+1]=0)!=(u=i-o)%2,d=0,f=0,p=0,g=0,m=0;m<r&&!((new Date).getTime()>n);m++){for(var v=-m+d;v<=m-f;v+=2){for(var y,b=s+v,_=(y=v==-m||v!=m&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1)-v;y<i&&_<o&&t.charAt(y)==e.charAt(_);)y++,_++;if(i<(l[b]=y))f+=2;else if(o<_)d+=2;else if(h&&(0<=(b=s+u-v)&&b<a&&-1!=c[b])){var w=i-c[b];if(w<=y)return this.diff_bisectSplit_(t,e,y,_,n)}}for(v=-m+p;v<=m-g;v+=2){for(b=s+v,y=(w=v==-m||v!=m&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1)-v;w<i&&y<o&&t.charAt(i-w-1)==e.charAt(o-y-1);)w++,y++;if(i<(c[b]=w))g+=2;else if(o<y)p+=2;else if(!h&&(0<=(b=s+u-v)&&b<a&&-1!=l[b]&&(_=s+(y=l[b])-b,(w=i-w)<=y)))return this.diff_bisectSplit_(t,e,y,_,n)}}return[[-1,t],[1,e]]},h.prototype.diff_bisectSplit_=function(t,e,n,i,o){var r=t.substring(0,n),s=e.substring(0,i);return t=t.substring(n),e=e.substring(i),r=this.diff_main(r,s,!1,o),o=this.diff_main(t,e,!1,o),r.concat(o)},h.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,i=-1,o=s.length;i<t.length-1;){-1==(i=t.indexOf("\n",n))&&(i=t.length-1);var r=t.substring(n,i+1);n=i+1;(a.hasOwnProperty?a.hasOwnProperty(r):void 0!==a[r])?e+=String.fromCharCode(a[r]):(e+=String.fromCharCode(o),a[r]=o,s[o++]=r)}return e}var s=[],a={};return s[0]="",{chars1:n(t),chars2:n(e),lineArray:s}},h.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n][1],o=[],r=0;r<i.length;r++)o[r]=e[i.charCodeAt(r)];t[n][1]=o.join("")}},h.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(r,o)==e.substring(r,o)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o},h.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),o=i,r=0;n<o;)t.substring(t.length-o,t.length-r)==e.substring(e.length-o,e.length-r)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o},h.prototype.diff_commonOverlap_=function(t,e){var n=t.length,i=e.length;if(0==n||0==i)return 0;if(i<n?t=t.substring(n-i):n<i&&(e=e.substring(0,n)),n=Math.min(n,i),t==e)return n;i=0;for(var o=1;;){var r=t.substring(n-o);if(-1==(r=e.indexOf(r)))return i;o+=r,0!=r&&t.substring(n-o)!=e.substring(0,o)||(i=o,o++)}},h.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var i,o,r,s,a=t.substring(n,n+Math.floor(t.length/4)),l=-1,c="";-1!=(l=e.indexOf(a,l+1));){var u=d.diff_commonPrefix(t.substring(n),e.substring(l)),h=d.diff_commonSuffix(t.substring(0,n),e.substring(0,l));c.length<h+u&&(c=e.substring(l-h,l)+e.substring(l,l+u),i=t.substring(0,n-h),o=t.substring(n+u),r=e.substring(0,l-h),s=e.substring(l+u))}return 2*c.length>=t.length?[i,o,r,s,c]:null}if(this.Diff_Timeout<=0)return null;var i=t.length>e.length?t:e,o=t.length>e.length?e:t;if(i.length<4||2*o.length<i.length)return null;var r,s,d=this,a=n(i,o,Math.ceil(i.length/4));i=n(i,o,Math.ceil(i.length/2));return a||i?(r=i?a&&a[4].length>i[4].length?a:i:a,t.length>e.length?(a=r[0],i=r[1],o=r[2],s=r[3]):(o=r[0],s=r[1],a=r[2],i=r[3]),[a,i,o,s,r=r[4]]):null},h.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],i=0,o=null,r=0,s=0,a=0,l=0,c=0;r<t.length;)0==t[r][0]?(s=l,a=c,c=l=0,o=t[n[i++]=r][1]):(1==t[r][0]?l+=t[r][1].length:c+=t[r][1].length,o&&o.length<=Math.max(s,a)&&o.length<=Math.max(l,c)&&(t.splice(n[i-1],0,[-1,o]),t[n[i-1]+1][0]=1,i--,r=0<--i?n[i-1]:-1,c=l=a=s=0,e=!(o=null))),r++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),r=1;r<t.length;)-1==t[r-1][0]&&1==t[r][0]&&(e=t[r-1][1],n=t[r][1],i=this.diff_commonOverlap_(e,n),(o=this.diff_commonOverlap_(n,e))<=i?(i>=e.length/2||i>=n.length/2)&&(t.splice(r,0,[0,n.substring(0,i)]),t[r-1][1]=e.substring(0,e.length-i),t[r+1][1]=n.substring(i),r++):(o>=e.length/2||o>=n.length/2)&&(t.splice(r,0,[0,e.substring(0,o)]),t[r-1][0]=1,t[r-1][1]=n.substring(0,n.length-o),t[r+1][0]=-1,t[r+1][1]=e.substring(o),r++),r++),r++},h.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),i=e.charAt(0),o=n.match(h.nonAlphaNumericRegex_),r=i.match(h.nonAlphaNumericRegex_),s=o&&n.match(h.whitespaceRegex_),a=r&&i.match(h.whitespaceRegex_),l=(n=s&&n.match(h.linebreakRegex_),i=a&&i.match(h.linebreakRegex_),n&&t.match(h.blanklineEndRegex_)),c=i&&e.match(h.blanklineStartRegex_);return l||c?5:n||i?4:o&&!s&&a?3:s||a?2:o||r?1:0}for(var n=1;n<t.length-1;){if(0==t[n-1][0]&&0==t[n+1][0]){var i=t[n-1][1],o=t[n][1],r=t[n+1][1];if(a=this.diff_commonSuffix(i,o)){var s=o.substring(o.length-a);i=i.substring(0,i.length-a),o=s+o.substring(0,o.length-a),r=s+r}for(var a=i,l=(s=o,r),c=e(i,o)+e(o,r);o.charAt(0)===r.charAt(0);){i=i+o.charAt(0),o=o.substring(1)+r.charAt(0),r=r.substring(1);var u=e(i,o)+e(o,r);c<=u&&(c=u,a=i,s=o,l=r)}t[n-1][1]!=a&&(a?t[n-1][1]=a:(t.splice(n-1,1),n--),t[n][1]=s,l?t[n+1][1]=l:(t.splice(n+1,1),n--))}n++}},h.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,h.whitespaceRegex_=/\s/,h.linebreakRegex_=/[\r\n]/,h.blanklineEndRegex_=/\n\r?\n$/,h.blanklineStartRegex_=/^\r?\n\r?\n/,h.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],i=0,o=null,r=0,s=!1,a=!1,l=!1,c=!1;r<t.length;)0==t[r][0]?(o=t[r][1].length<this.Diff_EditCost&&(l||c)?(s=l,a=c,t[n[i++]=r][1]):(i=0,null),l=c=!1):(-1==t[r][0]?c=!0:l=!0,o&&(s&&a&&l&&c||o.length<this.Diff_EditCost/2&&3==s+a+l+c)&&(t.splice(n[i-1],0,[-1,o]),t[n[i-1]+1][0]=1,i--,o=null,s&&a?(l=c=!0,i=0):(r=0<--i?n[i-1]:-1,l=c=!1),e=!0)),r++;e&&this.diff_cleanupMerge(t)},h.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,i=0,o=0,r="",s="";n<t.length;)switch(t[n][0]){case 1:o++,s+=t[n][1],n++;break;case-1:i++,r+=t[n][1],n++;break;case 0:1<i+o?(0!==i&&0!==o&&(0!==(e=this.diff_commonPrefix(s,r))&&(0<n-i-o&&0==t[n-i-o-1][0]?t[n-i-o-1][1]+=s.substring(0,e):(t.splice(0,0,[0,s.substring(0,e)]),n++),s=s.substring(e),r=r.substring(e)),0!==(e=this.diff_commonSuffix(s,r))&&(t[n][1]=s.substring(s.length-e)+t[n][1],s=s.substring(0,s.length-e),r=r.substring(0,r.length-e))),0===i?t.splice(n-o,i+o,[1,s]):0===o?t.splice(n-i,i+o,[-1,r]):t.splice(n-i-o,i+o,[-1,r],[1,s]),n=n-i-o+(i?1:0)+(o?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=o=0,s=r=""}for(""===t[t.length-1][1]&&t.pop(),i=!1,n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),i=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),i=!0)),n++;i&&this.diff_cleanupMerge(t)},h.prototype.diff_xIndex=function(t,e){var n,i=0,o=0,r=0,s=0;for(n=0;n<t.length&&(1!==t[n][0]&&(i+=t[n][1].length),-1!==t[n][0]&&(o+=t[n][1].length),!(e<i));n++)r=i,s=o;return t.length!=n&&-1===t[n][0]?s:s+(e-r)},h.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,i=/</g,o=/>/g,r=/\n/g,s=0;s<t.length;s++){var a=t[s][0],l=(l=t[s][1]).replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(r,"&para;<br>");switch(a){case 1:e[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:e[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:e[s]="<span>"+l+"</span>"}}return e.join("")},h.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},h.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},h.prototype.diff_levenshtein=function(t){for(var e=0,n=0,i=0,o=0;o<t.length;o++){var r=t[o][0],s=t[o][1];switch(r){case 1:n+=s.length;break;case-1:i+=s.length;break;case 0:e+=Math.max(n,i),i=n=0}}return e+Math.max(n,i)},h.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},h.prototype.diff_fromDelta=function(t,e){for(var n=[],i=0,o=0,r=e.split(/\t/g),s=0;s<r.length;s++){var a=r[s].substring(1);switch(r[s].charAt(0)){case"+":try{n[i++]=[1,decodeURI(a)]}catch(t){throw Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0)throw Error("Invalid number in diff_fromDelta: "+a);a=t.substring(o,o+=l),"="==r[s].charAt(0)?n[i++]=[0,a]:n[i++]=[-1,a];break;default:if(r[s])throw Error("Invalid diff operation in diff_fromDelta: "+r[s])}}if(o!=t.length)throw Error("Delta length ("+o+") does not equal source text length ("+t.length+").");return n},h.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},h.prototype.match_bitap_=function(t,o,r){function e(t,e){var n=t/o.length,i=Math.abs(r-e);return s.Match_Distance?n+i/s.Match_Distance:i?1:n}if(o.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var n=this.match_alphabet_(o),s=this,i=this.Match_Threshold;-1!=(h=t.indexOf(o,r))&&(i=Math.min(e(0,h),i),-1!=(h=t.lastIndexOf(o,r+o.length))&&(i=Math.min(e(0,h),i)));for(var a,l,c,u=1<<o.length-1,h=-1,d=o.length+t.length,f=0;f<o.length;f++){for(a=0,l=d;a<l;)e(f,r+l)<=i?a=l:d=l,l=Math.floor((d-a)/2+a);d=l,a=Math.max(1,r-l+1);var p=Math.min(r+l,t.length)+o.length;for((l=Array(p+2))[p+1]=(1<<f)-1;a<=p;p--){var g=n[t.charAt(p-1)];if(l[p]=0===f?(l[p+1]<<1|1)&g:(l[p+1]<<1|1)&g|(c[p+1]|c[p])<<1|1|c[p+1],l[p]&u&&(g=e(f,p-1))<=i){if(i=g,!(r<(h=p-1)))break;a=Math.max(1,2*r-h)}}if(e(f+1,r)>i)break;c=l}return h},h.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},h.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin,(n=e.substring(t.start2-i,t.start2))&&t.diffs.unshift([0,n]),(i=e.substring(t.start2+t.length1,t.start2+t.length1+i))&&t.diffs.push([0,i]),t.start1-=n.length,t.start2-=n.length,t.length1+=n.length+i.length,t.length2+=n.length+i.length}},h.prototype.patch_make=function(t,e,n){var i;if("string"==typeof t&&"string"==typeof e&&void 0===n)i=t,2<(e=this.diff_main(i,e,!0)).length&&(this.diff_cleanupSemantic(e),this.diff_cleanupEfficiency(e));else if(t&&"object"==_typeof(t)&&void 0===e&&void 0===n)e=t,i=this.diff_text1(e);else if("string"==typeof t&&e&&"object"==_typeof(e)&&void 0===n)i=t;else{if("string"!=typeof t||"string"!=typeof e||!n||"object"!=_typeof(n))throw Error("Unknown call format to patch_make.");i=t,e=n}if(0===e.length)return[];n=[],t=new h.patch_obj;for(var o=0,r=0,s=0,a=i,l=0;l<e.length;l++){var c=e[l][0],u=e[l][1];switch(!o&&0!==c&&(t.start1=r,t.start2=s),c){case 1:t.diffs[o++]=e[l],t.length2+=u.length,i=i.substring(0,s)+u+i.substring(s);break;case-1:t.length1+=u.length,t.diffs[o++]=e[l],i=i.substring(0,s)+i.substring(s+u.length);break;case 0:u.length<=2*this.Patch_Margin&&o&&e.length!=l+1?(t.diffs[o++]=e[l],t.length1+=u.length,t.length2+=u.length):u.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(t,a),n.push(t),t=new h.patch_obj,o=0,a=i,r=s)}1!==c&&(r+=u.length),-1!==c&&(s+=u.length)}return o&&(this.patch_addContext_(t,a),n.push(t)),n},h.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=new h.patch_obj;o.diffs=[];for(var r=0;r<i.diffs.length;r++)o.diffs[r]=i.diffs[r].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,e[n]=o}return e},h.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var i=0,o=[],r=0;r<t.length;r++){var s,a=t[r].start2+i,l=-1;if((u=this.diff_text1(t[r].diffs)).length>this.Match_MaxBits?-1!=(s=this.match_main(e,u.substring(0,this.Match_MaxBits),a))&&(-1==(l=this.match_main(e,u.substring(u.length-this.Match_MaxBits),a+u.length-this.Match_MaxBits))||l<=s)&&(s=-1):s=this.match_main(e,u,a),-1==s)o[r]=!1,i-=t[r].length2-t[r].length1;else if(o[r]=!0,i=s-a,u==(a=-1==l?e.substring(s,s+u.length):e.substring(s,l+this.Match_MaxBits)))e=e.substring(0,s)+this.diff_text2(t[r].diffs)+e.substring(s+u.length);else if(a=this.diff_main(u,a,!1),u.length>this.Match_MaxBits&&this.diff_levenshtein(a)/u.length>this.Patch_DeleteThreshold)o[r]=!1;else{this.diff_cleanupSemanticLossless(a);var c,u=0;for(l=0;l<t[r].diffs.length;l++){var h=t[r].diffs[l];0!==h[0]&&(c=this.diff_xIndex(a,u)),1===h[0]?e=e.substring(0,s+c)+h[1]+e.substring(s+c):-1===h[0]&&(e=e.substring(0,s+c)+e.substring(s+this.diff_xIndex(a,u+h[1].length))),-1!==h[0]&&(u+=h[1].length)}}}return[e=e.substring(n.length,e.length-n.length),o]},h.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;i<=e;i++)n+=String.fromCharCode(i);for(i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var o=(i=t[0]).diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),i.start1-=e,i.start2-=e,i.length1+=e,i.length2+=e;else if(e>o[0][1].length){var r=e-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],i.start1-=r,i.start2-=r,i.length1+=r,i.length2+=r}return 0==(o=(i=t[t.length-1]).diffs).length||0!=o[o.length-1][0]?(o.push([0,n]),i.length1+=e,i.length2+=e):e>o[o.length-1][1].length&&(r=e-o[o.length-1][1].length,o[o.length-1][1]+=n.substring(0,r),i.length1+=r,i.length2+=r),n},h.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=e)){var i=t[n];t.splice(n--,1);for(var o=i.start1,r=i.start2,s="";0!==i.diffs.length;){var a=new h.patch_obj,l=!0;for(a.start1=o-s.length,a.start2=r-s.length,""!==s&&(a.length1=a.length2=s.length,a.diffs.push([0,s]));0!==i.diffs.length&&a.length1<e-this.Patch_Margin;){s=i.diffs[0][0];var c=i.diffs[0][1];1===s?(a.length2+=c.length,r+=c.length,a.diffs.push(i.diffs.shift()),l=!1):-1===s&&1==a.diffs.length&&0==a.diffs[0][0]&&c.length>2*e?(a.length1+=c.length,o+=c.length,l=!1,a.diffs.push([s,c]),i.diffs.shift()):(c=c.substring(0,e-a.length1-this.Patch_Margin),a.length1+=c.length,o+=c.length,0===s?(a.length2+=c.length,r+=c.length):l=!1,a.diffs.push([s,c]),c==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(c.length))}s=(s=this.diff_text2(a.diffs)).substring(s.length-this.Patch_Margin),""!==(c=this.diff_text1(i.diffs).substring(0,this.Patch_Margin))&&(a.length1+=c.length,a.length2+=c.length,0!==a.diffs.length&&0===a.diffs[a.diffs.length-1][0]?a.diffs[a.diffs.length-1][1]+=c:a.diffs.push([0,c])),l||t.splice(++n,0,a)}}},h.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},h.prototype.patch_fromText=function(t){var e=[];if(!t)return e;t=t.split("\n");for(var n=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;n<t.length;){var o=t[n].match(i);if(!o)throw Error("Invalid patch string: "+t[n]);var r=new h.patch_obj;for(e.push(r),r.start1=parseInt(o[1],10),""===o[2]?(r.start1--,r.length1=1):"0"==o[2]?r.length1=0:(r.start1--,r.length1=parseInt(o[2],10)),r.start2=parseInt(o[3],10),""===o[4]?(r.start2--,r.length2=1):"0"==o[4]?r.length2=0:(r.start2--,r.length2=parseInt(o[4],10)),n++;n<t.length;){o=t[n].charAt(0);try{var s=decodeURI(t[n].substring(1))}catch(t){throw Error("Illegal escape in patch_fromText: "+s)}if("-"==o)r.diffs.push([-1,s]);else if("+"==o)r.diffs.push([1,s]);else if(" "==o)r.diffs.push([0,s]);else{if("@"==o)break;if(""!==o)throw Error('Invalid patch mode "'+o+'" in: '+s)}n++}}return e},(h.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0}).prototype.toString=function(){var t,e,n;for(t=["@@ -"+(t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(e=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],e=0;e<this.diffs.length;e++){switch(this.diffs[e][0]){case 1:n="+";break;case-1:n="-";break;case 0:n=" "}t[e+1]=n+encodeURI(this.diffs[e][1])+"\n"}return t.join("").replace(/%20/g," ")},this.diff_match_patch=h,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}(),function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(t):"function"==typeof define&&define.amd?define("colors",[],function(){return e(t)}):t.Colors=e(t)}(this,function(t,c){"use strict";function r(t,e,n,i,o){if("string"==typeof e)n=(e=R.txt2color(e)).type,L[n]=e[n],o=o!==c?o:e.alpha;else if(e)for(var r in e)t[n][r]=a(e[r]/D[n][r][1],0,1);return o!==c&&(t.alpha=a(+o,0,1)),s(n,i?t:c)}function s(t,e){var n,i,o,r,s,a,l,c,u=e||L,h=R,d=z.options,f=D,p=u.RND,g="",m="",v={hsl:"hsv",rgb:t},y=p.rgb;if("alpha"!==t){for(var b in f)if(!f[b][b])for(g in t!==b&&(m=v[b]||"rgb",u[b]=h[m+"2"+b](u[m])),p[b]||(p[b]={}),n=u[b])p[b][g]=F(n[g]*f[b][g][1]);y=p.rgb,u.HEX=h.RGB2HEX(y),u.equivalentGrey=d.grey.r*u.rgb.r+d.grey.g*u.rgb.g+d.grey.b*u.rgb.b,u.webSave=i=P(y,51),u.webSmart=o=P(y,17),u.saveColor=y.r===i.r&&y.g===i.g&&y.b===i.b?"web save":y.r===o.r&&y.g===o.g&&y.b===o.b?"web smart":"",u.hueRGB=R.hue2RGB(u.hsv.h),e&&(u.background=(r=y,s=u.rgb,a=u.alpha,l=z.options.grey,(c={}).RGB={r:r.r,g:r.g,b:r.b},c.rgb={r:s.r,g:s.g,b:s.b},c.alpha=a,c.equivalentGrey=F(l.r*r.r+l.g*r.g+l.b*r.b),c.rgbaMixBlack=I(s,{r:0,g:0,b:0},a,1),c.rgbaMixWhite=I(s,{r:1,g:1,b:1},a,1),c.rgbaMixBlack.luminance=j(c.rgbaMixBlack,!0),c.rgbaMixWhite.luminance=j(c.rgbaMixWhite,!0),z.options.customBG&&(c.rgbaMixCustom=I(s,z.options.customBG,a,1),c.rgbaMixCustom.luminance=j(c.rgbaMixCustom,!0),z.options.customBG.luminance=j(z.options.customBG,!0)),c))}var _,w,x,C,k,$,S,E,O=u.rgb,M=u.alpha,A="luminance",T=u.background;return(_=I(O,{r:0,g:0,b:0},M,1))[A]=j(_,!0),u.rgbaMixBlack=_,(w=I(O,{r:1,g:1,b:1},M,1))[A]=j(w,!0),u.rgbaMixWhite=w,d.customBG&&((x=I(O,T.rgbaMixCustom,M,1))[A]=j(x,!0),x.WCAG2Ratio=(S=x[A],E=T.rgbaMixCustom[A],F(100*(E<=S?(S+.05)/(E+.05):(E+.05)/(S+.05)))/100),(u.rgbaMixBGMixCustom=x).luminanceDelta=N.abs(x[A]-T.rgbaMixCustom[A]),x.hueDelta=(C=T.rgbaMixCustom,k=x,$=!0,(N.max(C.r-k.r,k.r-C.r)+N.max(C.g-k.g,k.g-C.g)+N.max(C.b-k.b,k.b-C.b))*($?255:1)/765)),u.RGBLuminance=j(y),u.HUELuminance=j(u.hueRGB),d.convertCallback&&d.convertCallback(u,t),u}function P(t,e){var n={},i=0,o=e/2;for(var r in t)i=t[r]%e,n[r]=t[r]+(o<i?e-i:-i);return n}function j(t,e){for(var n=e?1:255,i=[t.r/n,t.g/n,t.b/n],o=z.options.luminance,r=i.length;r--;)i[r]=i[r]<=.03928?i[r]/12.92:N.pow((i[r]+.055)/1.055,2.4);return o.r*i[0]+o.g*i[1]+o.b*i[2]}function I(t,e,n,i){var o={},r=n!==c?n:1,s=i!==c?i:1,a=r+s*(1-r);for(var l in t)o[l]=(t[l]*r+e[l]*s*(1-r))/a;return o.a=a,o}function a(t,e,n){return n<t?n:t<e?e:t}var D={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},N=t.Math,F=N.round,z={},L={},e={r:.298954,g:.586434,b:.114612},n={r:.2126,g:.7152,b:.0722},i=function(t){this.colors={RND:{}},this.options={color:"rgba(0,0,0,0)",grey:e,luminance:n,valueRanges:D},o(this,t||{})},o=function(t,e){var n,i=t.options;for(var o in l(t),e)e[o]!==c&&(i[o]=e[o]);n=i.customBG,i.customBG="string"==typeof n?R.txt2color(n).rgb:n,L=r(t.colors,i.color,c,!0)},l=function(t){z!==t&&(L=(z=t).colors)};i.prototype.setColor=function(t,e,n){return l(this),t?r(this.colors,t,e,c,n):(n!==c&&(this.colors.alpha=a(n,0,1)),s(e))},i.prototype.setCustomBackground=function(t){return l(this),this.options.customBG="string"==typeof t?R.txt2color(t).rgb:t,r(this.colors,c,"rgb")},i.prototype.saveAsBackground=function(){return l(this),r(this.colors,c,"rgb",!0)},i.prototype.toString=function(t,e){return R.color2text((t||"rgb").toLowerCase(),this.colors,e)};var R={txt2color:function(t){var e={},n=t.replace(/(?:#|\)|%)/g,"").split("("),i=(n[1]||"").split(/,\s*/),o=n[1]?n[0].substr(0,3):"rgb",r="";if(e.type=o,e[o]={},n[1])for(var s=3;s--;)r=o[s]||o.charAt(s),e[o][r]=+i[s]/D[o][r][1];else e.rgb=R.HEX2rgb(n[0]);return e.alpha=i[3]?+i[3]:1,e},color2text:function(t,e,n){var i=!1!==n&&F(100*e.alpha)/100,o="number"==typeof i&&!1!==n&&(n||1!==i),r=e.RND.rgb,s=e.RND.hsl,a="hex"===t&&o,l="hex"===t&&!a,c="rgb"===t||a?r.r+", "+r.g+", "+r.b:l?"#"+e.HEX:s.h+", "+s.s+"%, "+s.l+"%";return l?c:(a?"rgb":t)+(o?"a":"")+"("+c+(o?", "+i:"")+")"},RGB2HEX:function(t){return((t.r<16?"0":"")+t.r.toString(16)+(t.g<16?"0":"")+t.g.toString(16)+(t.b<16?"0":"")+t.b.toString(16)).toUpperCase()},HEX2rgb:function(t){return{r:+("0x"+(t=t.split(""))[0]+t[t[3]?1:0])/255,g:+("0x"+t[t[3]?2:1]+(t[3]||t[1]))/255,b:+("0x"+(t[4]||t[2])+(t[5]||t[2]))/255}},hue2RGB:function(t){var e=6*t,n=~~e%6,i=6===e?0:e-n;return{r:F(255*[1,1-i,0,0,i,1][n]),g:F(255*[i,1,1,1-i,0,0][n]),b:F(255*[0,0,i,1,1,1-i][n])}},rgb2hsv:function(t){var e,n,i=t.r,o=t.g,r=t.b,s=0;return o<r&&(o=r+(r=o,0),s=-1),n=r,i<o&&(i=o+(o=i,0),s=-2/6-s,n=N.min(o,r)),e=i-n,{h:(i?e/i:0)<1e-15?L&&L.hsl&&L.hsl.h||0:e?N.abs(s+(o-r)/(6*e)):0,s:i?e/i:L&&L.hsv&&L.hsv.s||0,v:i}},hsv2rgb:function(t){var e=6*t.h,n=t.s,i=t.v,o=~~e,r=e-o,s=i*(1-n),a=i*(1-r*n),l=i*(1-(1-r)*n),c=o%6;return{r:[i,a,s,s,l,i][c],g:[l,i,i,a,s,s][c],b:[s,s,l,i,i,a][c]}},hsv2hsl:function(t){var e=(2-t.s)*t.v,n=t.s*t.v;return n=t.s?e<1?e?n/e:0:n/(2-e):0,{h:t.h,s:t.v||n?n:L&&L.hsl&&L.hsl.s||0,l:e/2}},rgb2hsl:function(t,e){var n=R.rgb2hsv(t);return R.hsv2hsl(e?n:L.hsv=n)},hsl2rgb:function(t){var e=6*t.h,n=t.s,i=t.l,o=i<.5?i*(1+n):i+n-n*i,r=i+i-o,s=~~e,a=o*(o?(o-r)/o:0)*(e-s),l=r+a,c=o-a,u=s%6;return{r:[o,c,r,r,l,o][u],g:[l,o,o,c,r,r][u],b:[r,r,l,o,o,c][u]}}};return i}),function(n,i){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=i(n,require("jquery"),require("colors")):"function"==typeof define&&define.amd?define(["jquery","colors"],function(t,e){return i(n,t,e)}):i(n,n.jQuery,n.Colors)}(this,function(r,s,e,g){"use strict";function a(t){return t.value||t.getAttribute("value")||s(t).css("background-color")||"#FFF"}function o(t){return(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).originalEvent?t.originalEvent:t}function l(t){return s(t.find(y.doRender)[0]||t[0])}function n(t){var e=s(this),n=e.offset(),i=s(r),o=y.gap;t?((b=l(e))._colorMode=b.data("colorMode"),f.$trigger=e,(p||(s("head")[y.cssPrepend?"prepend":"append"]('<style type="text/css" id="tinyColorPickerStyles">'+(y.css||I)+(y.cssAddon||"")+"</style>"),s(j).css({margin:y.margin}).appendTo("body").show(0,function(){f.$UI=p=s(this),T=y.GPU&&p.css("perspective")!==g,_=s(".cp-z-slider",this),w=s(".cp-xy-slider",this),x=s(".cp-xy-cursor",this),C=s(".cp-z-cursor",this),k=s(".cp-alpha",this),$=s(".cp-alpha-cursor",this),y.buildCallback.call(f,p),p.prepend("<div>").children().eq(0).css("width",p.children().eq(0).width()),p._width=this.offsetWidth,p._height=this.offsetHeight}).hide())).css(y.positionCallback.call(f,e)||{left:(p._left=n.left)-(0<(p._left+=p._width-(i.scrollLeft()+i.width()))+o?p._left+o:0),top:(p._top=n.top+e.outerHeight())-(0<(p._top+=p._height-(i.scrollTop()+i.height()))+o?p._top+o:0)}).show(y.animationSpeed,function(){!0!==t&&(k.toggle(!!y.opacity)._width=k.width(),w._width=w.width(),w._height=w.height(),_._height=_.height(),v.setColor(a(b[0])),d(!0))}).off(".tcp").on(M,".cp-xy-slider,.cp-z-slider,.cp-alpha",c)):f.$trigger&&s(p).hide(y.animationSpeed,function(){d(!1),f.$trigger=null}).off(".tcp")}function c(t){var e=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");1<(t.button||t.which)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1,b._offset=s(this).offset(),(e="xy_slider"===e?i:"z_slider"===e?u:h)(t),d(),S.on(A,function(){S.off(".tcp")}).on(O,function(t){e(t),d()}))}function i(t){var e=o(t),n=e.pageX-b._offset.left,i=e.pageY-b._offset.top;v.setColor({s:n/w._width*100,v:100-i/w._height*100},"hsv")}function u(t){var e=o(t).pageY-b._offset.top;v.setColor({h:360-e/_._height*360},"hsv")}function h(t){var e=(o(t).pageX-b._offset.left)/k._width;v.setColor({},"rgb",e)}function d(t){var e=v.colors,n=e.hueRGB,i=(e.RND.rgb,e.RND.hsl,y.dark),o=y.light,r=v.toString(b._colorMode,y.forceAlpha),s=.22<e.HUELuminance?i:o,a=.22<e.rgbaMixBlack.luminance?i:o,l=(1-e.hsv.h)*_._height,c=e.hsv.s*w._width,u=(1-e.hsv.v)*w._height,h=e.alpha*k._width,d=T?"translate3d":"",f=b[0].value,p=b[0].hasAttribute("value")&&""===f&&t!==g;w._css={backgroundColor:"rgb("+n.r+","+n.g+","+n.b+")"},x._css={transform:d+"("+c+"px, "+u+"px, 0)",left:T?"":c,top:T?"":u,borderColor:.22<e.RGBLuminance?i:o},C._css={transform:d+"(0, "+l+"px, 0)",top:T?"":l,borderColor:"transparent "+s},k._css={backgroundColor:"#"+e.HEX},$._css={transform:d+"("+h+"px, 0, 0)",left:T?"":h,borderColor:a+" transparent"},b._css={backgroundColor:p?"":r,color:p?"":.22<e.rgbaMixBGMixCustom.luminance?i:o},b.text=p?"":f!==r?r:"",t!==g?m(t):P(m)}function m(t){w.css(w._css),x.css(x._css),C.css(C._css),k.css(k._css),$.css($._css),y.doRender&&b.css(b._css),b.text&&b.val(b.text),y.renderCallback.call(f,b,"boolean"==typeof t?t:g)}var f,v,y,b,p,_,w,x,C,k,$,S=s(document),E=s(),O="touchmove.tcp mousemove.tcp pointermove.tcp",M="touchstart.tcp mousedown.tcp pointerdown.tcp",A="touchend.tcp mouseup.tcp pointerup.tcp",T=!1,P=r.requestAnimationFrame||r.webkitRequestAnimationFrame||function(t){t()},j='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',I=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",D=function(t){v=this.color=new e(t),y=v.options,f=this};D.prototype={render:d,toggle:n},s.fn.colorPicker=function(i){var e=this,t=function(){};return i=s.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:t,buildCallback:t,positionCallback:t,body:document.body,scrollResize:!0,gap:4,dark:"#222",light:"#DDD"},i),!f&&i.scrollResize&&s(r).on("resize.tcp scroll.tcp",function(){f.$trigger&&f.toggle.call(f.$trigger[0],!0)}),E=E.add(this),this.colorPicker=f||new D(i),this.options=i,s(i.body).off(".tcp").on(M,function(t){-1===E.add(p).add(s(p).find(t.target)).index(t.target)&&n()}),this.on("focusin.tcp click.tcp",function(t){f.color.options=s.extend(f.color.options,y=e.options),n.call(this,t)}).on("change.tcp",function(){v.setColor(this.value||"#FFF"),e.colorPicker.render(!0)}).each(function(){var t=a(this),e=t.split("("),n=l(s(this));n.data("colorMode",e[1]?e[0].substr(0,3):"HEX").attr("readonly",y.preventFocus),i.doRender&&n.css({"background-color":t,color:function(){return.22<v.setColor(t).rgbaMixBGMixCustom.luminance?i.dark:i.light}})})},s.fn.colorPicker.destroy=function(){s("*").off(".tcp"),f.toggle(!1),E=s()}}),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=a(String(t||"").toLowerCase()))||!t.length)return[];var e,n,i,o,r=[],s=t.split(/ +/);for(e=0,n=s.length;e<n;e++){if(i=l(s[e]),this.settings.diacritics)for(o in c)c.hasOwnProperty(o)&&(i=i.replace(new RegExp(o,"g"),c[o]));r.push({string:s[e],regex:new RegExp(i,"i")})}return r},t.prototype.iterator=function(t,e){(s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var o,r,s;t=this.prepareSearch(t,e),r=t.tokens,o=t.options.fields,s=r.length;var a,l=function(t,e){var n,i;return t?-1===(i=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===i&&(n+=.5),n):0},c=(a=o.length)?1===a?function(t,e){return l(e[o[0]],t)}:function(t,e){for(var n=0,i=0;n<a;n++)i+=l(e[o[n]],t);return i/a}:function(){return 0};return s?1===s?function(t){return c(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<s;n++){if((e=c(r[n],t))<=0)return 0;i+=e}return i/s}:function(t){for(var e=0,n=0;e<s;e++)n+=c(r[e],t);return n/s}:function(){return 0}},t.prototype.getSortFunction=function(t,e){var n,i,o,r,s,a,l,c,u,h,d;if(d=!(t=(o=this).prepareSearch(t,e)).query&&e.sort_empty||e.sort,u=function(t,e){return"$score"===t?e.score:o.items[e.id][t]},s=[],d)for(n=0,i=d.length;n<i;n++)(t.query||"$score"!==d[n].field)&&s.push(d[n]);if(t.query){for(h=!0,n=0,i=s.length;n<i;n++)if("$score"===s[n].field){h=!1;break}h&&s.unshift({field:"$score",direction:"desc"})}else for(n=0,i=s.length;n<i;n++)if("$score"===s[n].field){s.splice(n,1);break}for(c=[],n=0,i=s.length;n<i;n++)c.push("desc"===s[n].direction?-1:1);return(a=s.length)?1===a?(r=s[0].field,l=c[0],function(t,e){return l*f(u(r,t),u(r,e))}):function(t,e){var n,i,o;for(n=0;n<a;n++)if(o=s[n].field,i=c[n]*f(u(o,t),u(o,e)))return i;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"===_typeof(t))return t;var n=(e=r({},e)).fields,i=e.sort,o=e.sort_empty;return n&&!s(n)&&(e.fields=[n]),i&&!s(i)&&(e.sort=[i]),o&&!s(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,n){var i,o,e,r;return o=this.prepareSearch(t,n),n=o.options,t=o.query,r=n.score||this.getScoreFunction(o),t.length?this.iterator(this.items,function(t,e){i=r(t),(!1===n.filter||0<i)&&o.items.push({score:i,id:e})}):this.iterator(this.items,function(t,e){o.items.push({score:1,id:e})}),(e=this.getSortFunction(o,n))&&o.items.sort(e),o.total=o.items.length,"number"==typeof n.limit&&(o.items=o.items.slice(0,n.limit)),o};var f=function(t,e){return"number"==typeof t&&"number"==typeof e?e<t?1:t<e?-1:0:(t=String(t||"").toLowerCase(),(e=String(e||"").toLowerCase())<t?1:t<e?-1:0)},r=function(t,e){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t},a=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},l=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||$&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c={a:"[a]",c:"[c]",d:"[d]",e:"[e]",i:"[i]",n:"[n]",o:"[o]",s:"[s]",u:"[u]",y:"[y]",z:"[z]"};return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={mixin:function(i){i.plugins={},i.prototype.initializePlugins=function(t){var e,n,i,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},r.isArray(t))for(e=0,n=t.length;e<n;e++)"string"==typeof t[e]?o.push(t[e]):(this.plugins.settings[t[e].name]=t[e].options,o.push(t[e].name));else if(t)for(i in t)t.hasOwnProperty(i)&&(this.plugins.settings[i]=t[i],o.push(i));for(;o.length;)this.require(o.shift())},i.prototype.loadPlugin=function(t){var e=this.plugins,n=i.plugins[t];if(!i.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');e.requested[t]=!0,e.loaded[t]=n.fn.apply(this,[this.plugins.settings[t]||{}]),e.names.push(t)},i.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},i.define=function(t,e){i.plugins[t]={name:t,fn:e}}}},r={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(x,c,t){"use strict";var C=function(t,e){if("string"!=typeof e||e.length){var c="string"==typeof e?new RegExp(e,"i"):e,n=function t(e){var n=0;if(3===e.nodeType){var i=e.data.search(c);if(0<=i&&0<e.data.length){var o=e.data.match(c),r=document.createElement("span");r.className="highlight";var s=e.splitText(i),a=(s.splitText(o[0].length),s.cloneNode(!0));r.appendChild(a),s.parentNode.replaceChild(r,s),n=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var l=0;l<e.childNodes.length;++l)l+=t(e.childNodes[l]);return n};return t.each(function(){n(this)})}},i=function(){};i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]};var b=/Mac/.test(navigator.userAgent),_=b?91:17,w=b?18:17,u=function(t){return void 0!==t},k=function(t){return null==t?"":"boolean"==typeof t?t?"1":"0":t+""},a=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},l=function(t){return(t+"").replace(/\$/g,"$$$$")},h=function(t,e){if(!x.isArray(e))return e;var n,i,o={};for(n=0,i=e.length;n<i;n++)e[n].hasOwnProperty(t)&&(o[e[n][t]]=e[n]);return o},e=function(e,n,t){var i,o=e.trigger,r={};for(i in e.trigger=function(){var t=arguments[0];if(-1===n.indexOf(t))return o.apply(e,arguments);r[t]=arguments},t.apply(e,[]),e.trigger=o,r)r.hasOwnProperty(i)&&o.apply(e,r[i])},d=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},$=function(c){var t=function(t){var e,n,i,o,r,s,a,l;(t=t||window.event||{}).metaKey||t.altKey||!1!==c.data("grow")&&(e=c.val(),t.type&&"keydown"===t.type.toLowerCase()&&(i=97<=(n=t.keyCode)&&n<=122||65<=n&&n<=90||48<=n&&n<=57||32===n,46===n||8===n?(l=d(c[0])).length?e=e.substring(0,l.start)+e.substring(l.start+l.length):8===n&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):46===n&&void 0!==l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1)):i&&(s=t.shiftKey,a=String.fromCharCode(t.keyCode),e+=a=s?a.toUpperCase():a.toLowerCase())),o=c.attr("placeholder")||"",!e.length&&o.length&&(e=o),(r=function(t,e){var n=x("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(t,e,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=t.css(n[i]);else r=t.css();e.css(r)}(e,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=n.width();return n.remove(),i}(e,c)+4)!==c.width()&&(c.width(r),c.triggerHandler("resize")))};c.on("keydown keyup update blur",t),t()},s=function t(e,n){var i,o,r,s,a,l=this;(o=e[0]).selectize=l,i=(i=window.getComputedStyle?window.getComputedStyle(o,null).getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",x.extend(l,{settings:n,$input:e,tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(i),eventNS:".selectize"+ ++t.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:(r=l.onSearchChange,s=n.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(a),a=window.setTimeout(function(){r.apply(t,e)},s)})}),l.sifter=new c(this.options,{diacritics:n.diacritics}),x.extend(l.options,h(n.valueField,n.options)),delete l.settings.options,x.extend(l.optgroups,h(n.optgroupValueField,n.optgroups)),delete l.settings.optgroups,l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return i.mixin(s),t.mixin(s),x.extend(s.prototype,{setup:function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,f,p=this,g=p.settings,m=p.eventNS,v=x(window),y=x(document);s=p.settings.mode,a=p.$input.attr("tabindex")||"",l=p.$input.attr("class")||"",t=x("<div>").addClass(g.wrapperClass).addClass(l).addClass(s),e=x("<div>").addClass(g.inputClass).addClass("items").appendTo(t),n=x('<input type="text" autocomplete="off">').appendTo(e).attr("tabindex",a),r=x(g.dropdownParent||t),i=x("<div>").addClass(g.dropdownClass).addClass(l).addClass(s).hide().appendTo(r),o=x("<div>").addClass(g.dropdownContentClass).appendTo(i),t.css({width:p.$input[0].style.width}),p.plugins.names.length&&(c="plugin-"+p.plugins.names.join(" plugin-"),t.addClass(c),i.addClass(c)),(null===g.maxItems||1<g.maxItems)&&1===p.tagType&&p.$input.attr("multiple","multiple"),p.settings.placeholder&&n.attr("placeholder",g.placeholder),p.$wrapper=t,p.$control=e,p.$control_input=n,p.$dropdown=i,p.$dropdown_content=o,i.on("mouseenter","[data-selectable]",function(){return p.onOptionHover.apply(p,arguments)}),i.on("mousedown","[data-selectable]",function(){return p.onOptionSelect.apply(p,arguments)}),h="mousedown",d="*:not(input)",f=function(){return p.onItemSelect.apply(p,arguments)},(u=e).on(h,d,function(t){for(var e=t.target;e&&e.parentNode!==u[0];)e=e.parentNode;return t.currentTarget=e,f.apply(this,[t])}),$(n),e.on({mousedown:function(){return p.onMouseDown.apply(p,arguments)},click:function(){return p.onClick.apply(p,arguments)}}),n.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return p.onKeyDown.apply(p,arguments)},keyup:function(){return p.onKeyUp.apply(p,arguments)},keypress:function(){return p.onKeyPress.apply(p,arguments)},resize:function(){p.positionDropdown.apply(p,[])},blur:function(){return p.onBlur.apply(p,arguments)},focus:function(){return p.onFocus.apply(p,arguments)}}),y.on("keydown"+m,function(t){p.isCmdDown=t[b?"metaKey":"ctrlKey"],p.isCtrlDown=t[b?"altKey":"ctrlKey"],p.isShiftDown=t.shiftKey}),y.on("keyup"+m,function(t){t.keyCode===w&&(p.isCtrlDown=!1),16===t.keyCode&&(p.isShiftDown=!1),t.keyCode===_&&(p.isCmdDown=!1)}),y.on("mousedown"+m,function(t){if(p.isFocused){if(t.target===p.$dropdown[0]||t.target.parentNode===p.$dropdown[0])return!1;p.$control.has(t.target).length||t.target===p.$control[0]||p.blur()}}),v.on(["scroll"+m,"resize"+m].join(" "),function(){p.isOpen&&p.positionDropdown.apply(p,arguments)}),v.on("mousemove"+m,function(){p.ignoreHover=!1}),this.revertSettings={$children:p.$input.children().detach(),tabindex:p.$input.attr("tabindex")},p.$input.attr("tabindex",-1).hide().after(p.$wrapper),x.isArray(g.items)&&(p.setValue(g.items),delete g.items),p.$input[0].validity&&p.$input.on("invalid"+m,function(t){t.preventDefault(),p.isInvalid=!0,p.refreshState()}),p.updateOriginalInput(),p.refreshItems(),p.refreshState(),p.updatePlaceholder(),p.isSetup=!0,p.$input.is(":disabled")&&p.disable(),p.on("change",this.onChange),p.trigger("initialize"),g.preload&&p.onSearchChange("")},setupTemplates:function(){var n=this.settings.labelField,i=this.settings.optgroupLabelField,t={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=x.extend({},t,this.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isFocused||(this.focus(),t.preventDefault())},onMouseDown:function(t){var e=this,n=t.isDefaultPrevented();x(t.target);if(e.isFocused){if(t.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():n||e.setActiveItem(null),!1}else n||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){t.target,this.$control_input[0];var e=this;if(e.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void e.close();case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 38:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 13:return e.isOpen&&e.$activeOption&&e.onOptionSelect({currentTarget:e.$activeOption}),void t.preventDefault();case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}(e.isFull()||e.isInputHidden)&&t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(e){var n=this,i=n.settings.load;i&&(n.loadedSearches.hasOwnProperty(e)||(n.loadedSearches[e]=!0,n.load(function(t){i.apply(n,[e,t])})))},onFocus:function(t){var e=this;if(e.isFocused=!0,e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||("focus"===e.settings.preload&&e.onSearchChange(""),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t){var e=this;e.isFocused=!1,e.ignoreFocus||(e.settings.create&&e.settings.createOnBlur&&e.createItem(),e.close(),e.setTextboxValue(""),e.setActiveItem(null),e.setActiveOption(null),e.setCaret(e.items.length),e.refreshState())},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(t){var e,n;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(n=x(t.currentTarget)).hasClass("create")?this.createItem():(e=n.attr("data-value"))&&(this.lastQuery=null,this.setTextboxValue(""),this.addItem(e),!this.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&this.setActiveOption(this.getOption(e)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass("loading");e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass("loading"),e.trigger("load",t)}])},setTextboxValue:function(t){this.$control_input.val(t).triggerHandler("update"),this.lastValue=t},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(i){e(this,["change"],function(){this.clear();for(var t=x.isArray(i)?i:[i],e=0,n=t.length;e<n;e++)this.addItem(t[e])})},setActiveItem:function(t,e){var n,i,o,r,s,a,l,c,u=this;if("single"!==u.settings.mode){if(!(t=x(t)).length)return x(u.$activeItems).removeClass("active"),u.$activeItems=[],void(u.isFocused&&u.showInput());if("mousedown"===(n=e&&e.type.toLowerCase())&&u.isShiftDown&&u.$activeItems.length){for(c=u.$control.children(".active:last"),r=Array.prototype.indexOf.apply(u.$control[0].childNodes,[c[0]]),(s=Array.prototype.indexOf.apply(u.$control[0].childNodes,[t[0]]))<r&&(l=r,r=s,s=l),i=r;i<=s;i++)a=u.$control[0].childNodes[i],-1===u.$activeItems.indexOf(a)&&(x(a).addClass("active"),u.$activeItems.push(a));e.preventDefault()}else"mousedown"===n&&u.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(o=u.$activeItems.indexOf(t[0]),u.$activeItems.splice(o,1),t.removeClass("active")):u.$activeItems.push(t.addClass("active")[0]):(x(u.$activeItems).removeClass("active"),u.$activeItems=[t.addClass("active")[0]]);u.hideInput(),this.isFocused||u.focus()}},setActiveOption:function(t,e,n){var i,o,r,s,a,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(t=x(t)).length&&(l.$activeOption=t.addClass("active"),!e&&u(e)||(i=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),e=l.$dropdown_content.scrollTop()||0,a=(s=r=l.$activeOption.offset().top-l.$dropdown_content.offset().top+e)-i+o,i+e<r+o?l.$dropdown_content.stop().animate({scrollTop:a},n?l.settings.scrollDuration:0):r<e&&l.$dropdown_content.stop().animate({scrollTop:s},n?l.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(){this.$control_input.trigger("blur")},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e={field:e}),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(t){var e,n,i,o=this.settings,r=this.getSearchOptions();if(o.score&&"function"!=typeof(i=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,n=this.sifter.search(t,x.extend(r,{score:i})),this.currentResults=n):n=x.extend(!0,{},this.currentResults),o.hideSelected)for(e=n.items.length-1;0<=e;e--)-1!==this.items.indexOf(k(n.items[e].id))&&n.items.splice(e,1);return n},refreshOptions:function(t){var e,n,i,o,r,s,a,l,c,u,h,d,f,p,g,m;void 0===t&&(t=!0);var v=this,y=v.$control_input.val(),b=v.search(y),_=v.$dropdown_content,w=v.$activeOption&&k(v.$activeOption.attr("data-value"));if(o=b.items.length,"number"==typeof v.settings.maxOptions&&(o=Math.min(o,v.settings.maxOptions)),r={},v.settings.optgroupOrder)for(s=v.settings.optgroupOrder,e=0;e<s.length;e++)r[s[e]]=[];else s=[];for(e=0;e<o;e++)for(a=v.options[b.items[e].id],l=v.render("option",a),c=a[v.settings.optgroupField]||"",n=0,i=(u=x.isArray(c)?c:[c])&&u.length;n<i;n++)c=u[n],v.optgroups.hasOwnProperty(c)||(c=""),r.hasOwnProperty(c)||(r[c]=[],s.push(c)),r[c].push(l);for(h=[],e=0,o=s.length;e<o;e++)c=s[e],v.optgroups.hasOwnProperty(c)&&r[c].length?(d=v.render("optgroup_header",v.optgroups[c])||"",d+=r[c].join(""),h.push(v.render("optgroup",x.extend({},v.optgroups[c],{html:d})))):h.push(r[c].join(""));if(_.html(h.join("")),v.settings.highlight&&b.query.length&&b.tokens.length)for(e=0,o=b.tokens.length;e<o;e++)C(_,b.tokens[e].regex);if(!v.settings.hideSelected)for(e=0,o=v.items.length;e<o;e++)v.getOption(v.items[e]).addClass("selected");(f=v.settings.create&&b.query.length)&&(_.prepend(v.render("option_create",{input:y})),m=x(_[0].childNodes[0])),v.hasOptions=0<b.items.length||f,v.hasOptions?(0<b.items.length?((g=w&&v.getOption(w))&&g.length?p=g:"single"===v.settings.mode&&v.items.length&&(p=v.getOption(v.items[0])),p&&p.length||(p=m&&!v.settings.addPrecedence?v.getAdjacentOption(m,1):_.find("[data-selectable]:first"))):p=m,v.setActiveOption(p),t&&!v.isOpen&&v.open()):(v.setActiveOption(null),t&&v.isOpen&&v.close())},addOption:function(t){var e,n,i;if(x.isArray(t))for(e=0,n=t.length;e<n;e++)this.addOption(t[e]);else(i=k(t[this.settings.valueField]))&&!this.options.hasOwnProperty(i)&&(this.userOptions[i]=!0,this.options[i]=t,this.lastQuery=null,this.trigger("option_add",i,t))},addOptionGroup:function(t,e){this.optgroups[t]=e,this.trigger("optgroup_add",t,e)},updateOption:function(t,e){var n,i,o,r,s,a,l=this;if(t=k(t),o=k(e[l.settings.valueField]),l.options.hasOwnProperty(t)){if(!o)throw new Error("Value must be set in option data");o!==t&&(delete l.options[t],-1!==(r=l.items.indexOf(t))&&l.items.splice(r,1,o)),l.options[o]=e,s=l.renderCache.item,a=l.renderCache.option,u(s)&&(delete s[t],delete s[o]),u(a)&&(delete a[t],delete a[o]),-1!==l.items.indexOf(o)&&(n=l.getItem(t),i=x(l.render("item",e)),n.hasClass("active")&&i.addClass("active"),n.replaceWith(i)),l.isOpen&&l.refreshOptions(!1)}},removeOption:function(t){t=k(t),delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,e){var n=this.$dropdown.find("[data-selectable]"),i=n.index(t)+e;return 0<=i&&i<n.length?n.eq(i):x()},getElementWithValue:function(t,e){if(t=k(t))for(var n=0,i=e.length;n<i;n++)if(e[n].getAttribute("data-value")===t)return x(e[n]);return x()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItem:function(s){e(this,["change"],function(){var t,e,n,i,o=this,r=o.settings.mode;s=k(s),-1===o.items.indexOf(s)?o.options.hasOwnProperty(s)&&("single"===r&&o.clear(),"multi"===r&&o.isFull()||(t=x(o.render("item",o.options[s])),o.items.splice(o.caretPos,0,s),o.insertAtCaret(t),o.refreshState(),o.isSetup&&(n=o.$dropdown_content.find("[data-selectable]"),e=o.getOption(s),i=o.getAdjacentOption(e,1).attr("data-value"),o.refreshOptions(o.isFocused&&"single"!==r),i&&o.setActiveOption(o.getOption(i)),!n.length||null!==o.settings.maxItems&&o.items.length>=o.settings.maxItems?o.close():o.positionDropdown(),o.updatePlaceholder(),o.trigger("item_add",s,t),o.updateOriginalInput()))):"single"===r&&o.close()})},removeItem:function(t){var e,n,i,o=this;e="object"===_typeof(t)?t:o.getItem(t),t=k(e.attr("data-value")),-1!==(n=o.items.indexOf(t))&&(e.remove(),e.hasClass("active")&&(i=o.$activeItems.indexOf(e[0]),o.$activeItems.splice(i,1)),o.items.splice(n,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t),n<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput(),o.positionDropdown(),o.trigger("item_remove",t))},createItem:function(){var n=this,t=x.trim(n.$control_input.val()||""),i=n.caretPos;if(!t.length)return!1;n.lock();var e,o,r="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},s=(o=!(e=function(t){if(n.unlock(),t&&"object"===_typeof(t)){var e=k(t[n.settings.valueField]);e&&(n.setTextboxValue(""),n.addOption(t),n.setCaret(i),n.addItem(e),n.refreshOptions("single"!==n.settings.mode))}}),function(){o||(o=!0,e.apply(this,arguments))}),a=r.apply(this,[t,s]);return void 0!==a&&s(a),!0},refreshItems:function(){if(this.lastQuery=null,this.isSetup)for(var t=0;t<this.items.length;t++)this.addItem(this.items);this.refreshState(),this.updateOriginalInput()},refreshState:function(){var t=this.isRequired&&!this.items.length;t||(this.isInvalid=!1),this.$control_input.prop("required",t),this.refreshClasses()},refreshClasses:function(){var t=this,e=t.isFull(),n=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!x.isEmptyObject(t.options)).toggleClass("has-items",0<t.items.length),t.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(){var t,e,n;if("select"===this.$input[0].tagName.toLowerCase()){for(n=[],t=0,e=this.items.length;t<e;t++)n.push('<option value="'+a(this.items[t])+'" selected="selected"></option>');n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),this.$input.html(n.join(""))}else this.$input.val(this.getValue());this.isSetup&&this.trigger("change",this.$input.val())},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length&&this.settings.hidePlaceholder?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update")}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&t.hideInput(),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.setCaret(0),this.updatePlaceholder(),this.updateOriginalInput(),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length);0===e?this.$control.prepend(t):x(this.$control[0].childNodes[e]).before(t),this.setCaret(e+1)},deleteSelection:function(t){var e,n,i,o,r,s,a,l,c,u=this;if(!u.settings.disableDelete){if(i=t&&8===t.keyCode?-1:1,o=d(u.$control_input[0]),u.$activeOption&&!u.settings.hideSelected&&(a=u.getAdjacentOption(u.$activeOption,-1).attr("data-value")),r=[],u.$activeItems.length){for(c=u.$control.children(".active:"+(0<i?"last":"first")),s=u.$control.children(":not(input)").index(c),0<i&&s++,e=0,n=u.$activeItems.length;e<n;e++)r.push(x(u.$activeItems[e]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(u.isFocused||"single"===u.settings.mode)&&u.items.length&&(i<0&&0===o.start&&0===o.length?r.push(u.items[u.caretPos-1]):0<i&&o.start===u.$control_input.val().length&&r.push(u.items[u.caretPos]));if(!r.length||"function"==typeof u.settings.onDelete&&!1===u.settings.onDelete.apply(u,[r]))return!1;for(void 0!==s&&u.setCaret(s);r.length;)u.removeItem(r.pop());return u.showInput(),u.positionDropdown(),u.refreshOptions(!0),a&&(l=u.getOption(a)).length&&u.setActiveOption(l),!0}},advanceSelection:function(t,e){var n,i,o,r,s,a=this;a.settings.disableCaret||0!==t&&(a.rtl&&(t*=-1),n=0<t?"last":"first",i=d(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(t<0?0===i.start&&0===i.length:i.start===r)&&!r&&a.advanceCaret(t,e)):(s=a.$control.children(".active:"+n)).length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(0<t?o+1:o)))},advanceCaret:function(t,e){var n,i;this.settings.disableCaret||0!==t&&(n=0<t?"next":"prev",this.isShiftDown?(i=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(i),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(t){var e,n,i,o;for(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),e=0,n=(i=this.$control.children(":not(input)")).length;e<n;e++)o=x(i[e]).detach(),e<t?this.$control_input.before(o):this.$control.append(o);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this.eventNS,e=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(e.$children).removeAttr("tabindex").attr({tabindex:e.tabindex}).show(),x(window).off(t),x(document).off(t),x(document.body).off(t),delete this.$input[0].selectize},render:function(t,e){var n,i,o="",r=!1,s=/^[\t ]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==t&&"item"!==t||(r=!!(n=k(e[this.settings.valueField]))),r&&(u(this.renderCache[t])||(this.renderCache[t]={}),this.renderCache[t].hasOwnProperty(n))?this.renderCache[t][n]:(o=this.settings.render[t].apply(this,[e,a]),"option"!==t&&"option_create"!==t||(o=o.replace(s,"<$1 data-selectable")),"optgroup"===t&&(i=e[this.settings.optgroupValueField]||"",o=o.replace(s,'<$1 data-group="'+l(a(i))+'"')),"option"!==t&&"item"!==t||(o=o.replace(s,'<$1 data-value="'+l(a(n||""))+'"')),r&&(this.renderCache[t][n]=o),o)}}),s.count=0,s.defaults={plugins:[],delimiter:",",persist:!0,diacritics:!0,create:!1,createOnBlur:!1,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,preload:!1,scrollDuration:60,loadThrottle:300,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",optgroupOrder:null,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,disableDelete:!1,disableCaret:!1,hidePlaceholder:!0,render:{}},x.fn.selectize=function(o){var r=x.fn.selectize.defaults,a=x.extend({},r,o),h=a.dataAttr,d=a.labelField,f=a.valueField,p=a.optgroupField,g=a.optgroupLabelField,m=a.optgroupValueField;return this.each(function(){if(!this.selectize){var t,e=x(this),n=this.tagName.toLowerCase(),i={placeholder:e.children('option[value=""]').text()||e.attr("placeholder"),options:{},optgroups:{},items:[]};"select"===n?function(t,s){var e,n,i,o,r=0,a=s.options,l=function(t){var e=h&&t.attr(h);return"string"==typeof e&&e.length?JSON.parse(e):null},c=function(t,e){var n,i;(n=(t=x(t)).attr("value")||"").length&&(a.hasOwnProperty(n)?e&&(a[n].optgroup?x.isArray(a[n].optgroup)?a[n].optgroup.push(e):a[n].optgroup=[a[n].optgroup,e]:a[n].optgroup=e):((i=l(t)||{})[d]=i[d]||t.text(),i[f]=i[f]||n,i[p]=i[p]||e,i.$order=++r,a[n]=i,t.is(":selected")&&s.items.push(n)))},u=function(t){var e,n,i,o,r;for((i=(t=x(t)).attr("label"))&&((o=l(t)||{})[g]=i,o[m]=i,s.optgroups[i]=o),e=0,n=(r=x("option",t)).length;e<n;e++)c(r[e],i)};for(s.maxItems=t.attr("multiple")?null:1,e=0,n=(o=t.children()).length;e<n;e++)"optgroup"===(i=o[e].tagName.toLowerCase())?u(o[e]):"option"===i&&c(o[e])}(e,i):function(t,e){var n,i,o,r,s=x.trim(t.val()||"");if(s.length){for(n=0,i=(o=s.split(a.delimiter)).length;n<i;n++)(r={})[d]=o[n],r[f]=o[n],e.options[o[n]]=r;e.items=o}}(e,i),t=new s(e,x.extend(!0,{},r,i,o)),e.data("selectize",t),e.addClass("selectized")}})},x.fn.selectize.defaults=s.defaults,s}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("jquery")):t(jQuery)}(function(w){"use strict";function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function i(t){var e=t.parent(),n=e.find(".minicolors-panel"),i=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(o(),e.addClass("minicolors-focus"),n.animate?n.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(t.get(0))}):(n.css("opacity",1),i.show&&i.show.call(t.get(0))))}function o(){w(".minicolors-focus").each(function(){var t=w(this),e=t.find(".minicolors-input"),n=t.find(".minicolors-panel"),i=e.data("minicolors-settings");n.animate?n.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(e.get(0)),t.removeClass("minicolors-focus")}):(n.css("opacity",0),i.hide&&i.hide.call(e.get(0)),t.removeClass("minicolors-focus"))})}function r(t,e,n){var i,o,r,s,a,l=t.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=t.find("[class$=-picker]"),h=t.offset().left,d=t.offset().top,f=Math.round((e.pageX-h)/c.scale),p=Math.round((e.pageY-d)/c.scale),g=n?c.animationSpeed:0;e.originalEvent.changedTouches&&(f=e.originalEvent.changedTouches[0].pageX-h,p=e.originalEvent.changedTouches[0].pageY-d),f<0&&(f=0),p<0&&(p=0),f>t.width()&&(f=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(i=75-f,o=75-p,r=Math.sqrt(i*i+o*o),(s=Math.atan2(o,i))<0&&(s+=2*Math.PI),75<r&&(f=(r=75)-75*Math.cos(s),p=75-75*Math.sin(s)),f=Math.round(f),p=Math.round(p)),a={top:p+"px"},t.is(".minicolors-grid")&&(a.left=f+"px"),u.animate?u.stop(!0).animate(a,g,c.animationEasing,function(){m(l,t)}):(u.css(a),m(l,t))}function m(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:i-e.offset().top+t.outerHeight()/2}):null}var i,o,r,s,a,l,c,u=t.val(),h=t.attr("data-opacity"),d=t.parent(),f=t.data("minicolors-settings"),p=d.find(".minicolors-input-swatch"),g=d.find(".minicolors-grid"),m=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=g.find("[class$=-picker]"),b=m.find("[class$=-picker]"),_=v.find("[class$=-picker]"),w=n(y,g),x=n(b,m),C=n(_,v);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(f.control){case"wheel":s=g.width()/2-w.x,a=g.height()/2-w.y,l=Math.sqrt(s*s+a*a),(c=Math.atan2(a,s))<0&&(c+=2*Math.PI),75<l&&(l=75,w.x=69-75*Math.cos(c),w.y=69-75*Math.sin(c)),o=O(l/.75,0,100),u=P({h:i=O(180*c/Math.PI,0,360),s:o,b:r=O(100-Math.floor(x.y*(100/m.height())),0,100)}),m.css("backgroundColor",P({h:i,s:o,b:100}));break;case"saturation":u=P({h:i=O(parseInt(w.x*(360/g.width()),10),0,360),s:o=O(100-Math.floor(x.y*(100/m.height())),0,100),b:r=O(100-Math.floor(w.y*(100/g.height())),0,100)}),m.css("backgroundColor",P({h:i,s:100,b:r})),d.find(".minicolors-grid-inner").css("opacity",o/100);break;case"brightness":u=P({h:i=O(parseInt(w.x/f.scale*(360/g.width()),10),0,360),s:o=O(100-Math.floor(w.y/f.scale*(100/g.height())),0,100),b:r=O(100-Math.floor(x.y*(100/m.height())),0,100)}),m.css("backgroundColor",P({h:i,s:o,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-r/100);break;default:u=P({h:i=O(360-parseInt(x.y*(360/m.height()),10),0,360),s:o=O(Math.floor(w.x*(100/g.width())),0,100),b:r=O(100-Math.floor(w.y*(100/g.height())),0,100)}),g.css("backgroundColor",P({h:i,s:100,b:100}))}k(t,u,h=f.opacity?parseFloat(1-C.y/v.height()).toFixed(2):1)}else p.find("span").css({backgroundColor:u,opacity:h}),$(t,u,h)}function k(t,e,n){var i,o=t.parent(),r=t.data("minicolors-settings"),s=o.find(".minicolors-input-swatch");r.opacity&&t.attr("data-opacity",n),e="rgb"===r.format?(i=M(e)?S(e,!0):j(C(e,!0)),n=""===t.attr("data-opacity")?1:O(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&r.opacity||(n=1),t.minicolors("rgbObject").a<=1&&i&&r.opacity?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):(M(e)&&(e=T(e)),x(e,r.letterCase)),t.val(e),s.find("span").css({backgroundColor:e,opacity:n}),$(t,e,n)}function h(t,e){var n,i,o,r,s,a,l,c,u,h,d=t.parent(),f=t.data("minicolors-settings"),p=d.find(".minicolors-input-swatch"),g=d.find(".minicolors-grid"),m=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=g.find("[class$=-picker]"),b=m.find("[class$=-picker]"),_=v.find("[class$=-picker]");switch(M(t.val())?(n=T(t.val()),(s=O(parseFloat(A(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",s)):n=x(C(t.val(),!0),f.letterCase),n||(n=x(E(f.defaultValue,!0),f.letterCase)),i=function(t){var e=function(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),o=i-n;e.b=i,e.s=0!==i?255*o/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/o:t.g===i?e.h=2+(t.b-t.r)/o:e.h=4+(t.r-t.g)/o:e.h=-1;e.h*=60,e.h<0&&(e.h+=360);return e.s*=100/255,e.b*=100/255,e}(j(t));0===e.s&&(e.h=360);return e}(n),r=f.keywords?w.map(f.keywords.split(","),function(t){return w.trim(t.toLowerCase())}):[],a=""!==t.val()&&-1<w.inArray(t.val().toLowerCase(),r)?x(t.val()):M(t.val())?S(t.val()):n,e||t.val(a),f.opacity&&(o=""===t.attr("data-opacity")?1:O(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),t.attr("data-opacity",o),p.find("span").css("opacity",o),c=O(v.height()-v.height()*o,0,v.height()),_.css("top",c+"px")),"transparent"===t.val().toLowerCase()&&p.find("span").css("opacity",0),p.find("span").css("backgroundColor",n),f.control){case"wheel":u=O(Math.ceil(.75*i.s),0,g.height()/2),h=i.h*Math.PI/180,l=O(75-Math.cos(h)*u,0,g.width()),c=O(75-Math.sin(h)*u,0,g.height()),y.css({top:c+"px",left:l+"px"}),c=150-i.b/(100/g.height()),""===n&&(c=0),b.css("top",c+"px"),m.css("backgroundColor",P({h:i.h,s:i.s,b:100}));break;case"saturation":l=O(5*i.h/12,0,150),c=O(g.height()-Math.ceil(i.b/(100/g.height())),0,g.height()),y.css({top:c+"px",left:l+"px"}),c=O(m.height()-i.s*(m.height()/100),0,m.height()),b.css("top",c+"px"),m.css("backgroundColor",P({h:i.h,s:100,b:i.b})),d.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":l=O(5*i.h/12,0,150),c=O(g.height()-Math.ceil(i.s/(100/g.height())),0,g.height()),y.css({top:c+"px",left:l+"px"}),c=O(m.height()-i.b*(m.height()/100),0,m.height()),b.css("top",c+"px"),m.css("backgroundColor",P({h:i.h,s:i.s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:l=O(Math.ceil(i.s/(100/g.width())),0,g.width()),c=O(g.height()-Math.ceil(i.b/(100/g.height())),0,g.height()),y.css({top:c+"px",left:l+"px"}),c=O(m.height()-i.h/(360/m.height()),0,m.height()),b.css("top",c+"px"),g.css("backgroundColor",P({h:i.h,s:100,b:100}))}t.data("minicolors-initialized")&&$(t,a,o)}function $(t,e,n){var i,o,r,s=t.data("minicolors-settings"),a=t.data("minicolors-lastChange");if(!a||a.value!==e||a.opacity!==n){if(t.data("minicolors-lastChange",{value:e,opacity:n}),s.swatches&&0!==s.swatches.length){for(i=M(e)?S(e,!0):j(e),o=-1,r=0;r<s.swatches.length;++r)if(i.r===s.swatches[r].r&&i.g===s.swatches[r].g&&i.b===s.swatches[r].b&&i.a===s.swatches[r].a){o=r;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==o&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(r).addClass("selected")}s.change&&(s.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){s.change.call(t.get(0),e,n)},s.changeDelay))):s.change.call(t.get(0),e,n)),t.trigger("change").trigger("input")}}function x(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function C(t,e){return(t=t.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function S(t,e){var n=t.replace(/[^\d,.]/g,"").split(",");return n[0]=O(parseInt(n[0],10),0,255),n[1]=O(parseInt(n[1],10),0,255),n[2]=O(parseInt(n[2],10),0,255),void 0!==n[3]&&(n[3]=O(parseFloat(n[3],10),0,1)),e?void 0!==n[3]?{r:n[0],g:n[1],b:n[2],a:n[3]}:{r:n[0],g:n[1],b:n[2]}:void 0!==n[3]&&n[3]<=1?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")":"rgb("+n[0]+", "+n[1]+", "+n[2]+")"}function E(t,e){return M(t)?S(t):C(t,e)}function O(t,e,n){return t<e&&(t=e),n<t&&(t=n),t}function M(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function A(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===t.length?t[4]:"1"}function T(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function d(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return w.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function P(t){return d(function(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),o=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=o;else{var r=o,s=(255-i)*o/255,a=n%60*(r-s)/60;360===n&&(n=0),n<60?(e.r=r,e.b=s,e.g=s+a):n<120?(e.g=r,e.b=s,e.r=r-a):n<180?(e.g=r,e.r=s,e.b=s+a):n<240?(e.b=r,e.r=s,e.g=r-a):n<300?(e.b=r,e.g=s,e.r=s+a):n<360?(e.r=r,e.g=s,e.b=r-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}(t))}function j(t){return{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}w.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom",show:null,showSpeed:100,theme:"default",swatches:[],scale:1}},w.extend(w.fn,{minicolors:function(t,e){switch(t){case"destroy":return w(this).each(function(){n(w(this))}),w(this);case"hide":return o(),w(this);case"opacity":return void 0===e?w(this).attr("data-opacity"):(w(this).each(function(){h(w(this).attr("data-opacity",e))}),w(this));case"rgbObject":return function(t){var e,n=w(t).attr("data-opacity");if(M(w(t).val()))e=S(w(t).val(),!0);else{var i=C(w(t).val(),!0);e=j(i)}if(!e)return null;void 0!==n&&w.extend(e,{a:parseFloat(n)});return e}(w(this));case"rgbString":case"rgbaString":return function(t,e){var n,i=w(t).attr("data-opacity");if(M(w(t).val()))n=S(w(t).val(),!0);else{var o=C(w(t).val(),!0);n=j(o)}if(!n)return null;void 0===i&&(i=1);return e?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(i)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"}(w(this),"rgbaString"===t);case"settings":return void 0===e?w(this).data("minicolors-settings"):(w(this).each(function(){var t=w(this).data("minicolors-settings")||{};n(w(this)),w(this).minicolors(w.extend(!0,t,e))}),w(this));case"show":return i(w(this).eq(0)),w(this);case"value":return void 0===e?w(this).val():(w(this).each(function(){"object"===_typeof(e)&&null!==e?(void 0!==e.opacity&&w(this).attr("data-opacity",O(e.opacity,0,1)),e.color&&w(this).val(e.color)):w(this).val(e),h(w(this))}),w(this));default:return"create"!==t&&(e=t),w(this).each(function(){!function(e,t){var n,i,o,r,s,a,l,c=w('<div class="minicolors" />'),u=w.minicolors.defaults;if(e.data("minicolors-initialized"))return;t=w.extend(!0,{},u,t),c.addClass("minicolors-theme-"+t.theme).toggleClass("minicolors-with-opacity",t.opacity),void 0!==t.position&&w.each(t.position.split(" "),function(){c.addClass("minicolors-position-"+this)});i="rgb"===t.format?t.opacity?"25":"20":t.keywords?"11":"7";e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",t).prop("size",i).wrap(c).after('<div class="minicolors-panel minicolors-slider-'+t.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),t.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",function(t){t.preventDefault(),e.focus()}));if((a=e.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),t.swatches&&0!==t.swatches.length)for(a.addClass("minicolors-with-swatches"),o=w('<ul class="minicolors-swatches"></ul>').appendTo(a),l=0;l<t.swatches.length;++l)r="object"===w.type(t.swatches[l])?(n=t.swatches[l].name,t.swatches[l].color):(n="",t.swatches[l]),r=M(s=r)?S(r,!0):j(C(r,!0)),w('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color" title="'+n+'"></span></li>').appendTo(o).data("swatch-color",s).find(".minicolors-swatch-color").css({backgroundColor:d(r),opacity:r.a}),t.swatches[l]=r;t.inline&&e.parent().addClass("minicolors-inline");h(e,!1),e.data("minicolors-initialized",!0)}(w(this),e)}),w(this)}}}),w([document]).on("mousedown.minicolors touchstart.minicolors",function(t){w(t.target).parents().add(t.target).hasClass("minicolors")||o()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var e=w(this);t.preventDefault(),w(t.delegateTarget).data("minicolors-target",e),r(e,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var e=w(t.delegateTarget).data("minicolors-target");e&&r(e,t)}).on("mouseup.minicolors touchend.minicolors",function(){w(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var e=w(this),n=e.parents(".minicolors").find(".minicolors-input"),i=e.data("swatch-color");k(n,i,A(i)),h(n)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var e=w(this).parent().find(".minicolors-input");t.preventDefault(),i(e)}).on("focus.minicolors",".minicolors-input",function(){var t=w(this);t.data("minicolors-initialized")&&i(t)}).on("blur.minicolors",".minicolors-input",function(){var t,e,n,i,o,r=w(this),s=r.data("minicolors-settings");r.data("minicolors-initialized")&&(t=s.keywords?w.map(s.keywords.split(","),function(t){return w.trim(t.toLowerCase())}):[],o=""!==r.val()&&-1<w.inArray(r.val().toLowerCase(),t)?r.val():null===(n=M(r.val())?S(r.val(),!0):(e=C(r.val(),!0))?j(e):null)?s.defaultValue:"rgb"===s.format?s.opacity?S("rgba("+n.r+","+n.g+","+n.b+","+r.attr("data-opacity")+")"):S("rgb("+n.r+","+n.g+","+n.b+")"):d(n),i=s.opacity?r.attr("data-opacity"):1,"transparent"===o.toLowerCase()&&(i=0),r.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",i),r.val(o),""===r.val()&&r.val(E(s.defaultValue,!0)),r.val(x(r.val(),s.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var e=w(this);if(e.data("minicolors-initialized"))switch(t.which){case 9:o();break;case 13:case 27:o(),e.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=w(this);t.data("minicolors-initialized")&&h(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=w(this);t.data("minicolors-initialized")&&setTimeout(function(){h(t,!0)},1)})});var EasyAutocomplete=function(t){return t.Configuration=function(r){var s={data:"list-required",url:"list-required",dataType:"json",listLocation:function(t){return t},xmlElementName:"",getValue:function(t){return t},autocompleteOff:!0,placeholder:!1,ajaxCallback:function(){},matchResponseProperty:!1,list:{sort:{enabled:!1,method:function(t,e){return(t=s.getValue(t))<(e=s.getValue(e))?-1:e<t?1:0}},maxNumberOfElements:6,hideOnEmptyPhrase:!0,match:{enabled:!1,caseSensitive:!1,method:function(t,e){return-1<t.search(e)}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:!0,theme:"",cssClasses:"",minCharNumber:0,requestDelay:0,adjustWidth:!0,ajaxSettings:{},preparePostData:function(t,e){return t},loggerEnabled:!0,template:"",categoriesAssigned:!1,categories:[{maxNumberOfElements:4}]},a=["ajaxSettings","template"];function n(o,t){!function t(e,n){for(var i in n)void 0===e[i]&&o.log("Property '"+i+"' does not exist in EasyAutocomplete options API."),"object"===_typeof(e[i])&&-1===$.inArray(i,a)&&t(e[i],n[i])}(s,t)}this.get=function(t){return s[t]},this.equals=function(t,e){return void 0!==s[n=t]&&null!==s[n]&&s[t]===e;var n},this.checkDataUrlProperties=function(){return"list-required"!==s.url||"list-required"!==s.data},this.checkRequiredProperties=function(){for(var t in s)if("required"===s[t])return logger.error("Option "+t+" must be defined"),!1;return!0},this.printPropertiesThatDoesntExist=function(t,e){n(t,e)},function(){"xml"===r.dataType&&(r.getValue||(r.getValue=function(t){return $(t).text()}),r.list||(r.list={}),r.list.sort||(r.list.sort={}),r.list.sort.method=function(t,e){return t=r.getValue(t),e=r.getValue(e),t<e?-1:e<t?1:0},r.list.match||(r.list.match={}),r.list.match.method=function(t,e){return-1<t.search(e)});if(void 0!==r.categories&&r.categories instanceof Array){for(var t=[],e=0,n=r.categories.length;e<n;e+=1){var i=r.categories[e];for(var o in s.categories[0])void 0===i[o]&&(i[o]=s.categories[0][o]);t.push(i)}r.categories=t}}(),!0===(s=function t(e,n){var i=e||{};for(var o in e)void 0!==n[o]&&null!==n[o]&&("object"!==_typeof(n[o])||n[o]instanceof Array?i[o]=n[o]:t(e[o],n[o]));return void 0!==n.data&&null!==n.data&&"object"===_typeof(n.data)&&(i.data=n.data),i}(s,r)).loggerEnabled&&n(console,r),void 0!==r.ajaxSettings&&"object"===_typeof(r.ajaxSettings)?s.ajaxSettings=r.ajaxSettings:s.ajaxSettings={},function(){if("list-required"!==s.url&&"function"!=typeof s.url){var t=s.url;s.url=function(){return t}}if(void 0!==s.ajaxSettings.url&&"function"!=typeof s.ajaxSettings.url){var t=s.ajaxSettings.url;s.ajaxSettings.url=function(){return t}}if("string"==typeof s.listLocation){var e=s.listLocation;"XML"===s.dataType.toUpperCase()?s.listLocation=function(t){return $(t).find(e)}:s.listLocation=function(t){return t[e]}}if("string"==typeof s.getValue){var n=s.getValue;s.getValue=function(t){return t[n]}}void 0!==r.categories&&(s.categoriesAssigned=!0)}()},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.Logger=function(){this.error=function(t){console.log("ERROR: "+t)},this.warning=function(t){console.log("WARNING: "+t)}},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.Constans=function(){var e={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete"};this.getValue=function(t){return e[t]}},t}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.ListBuilderService=function(o,r){function s(n,i){var t={};if(t="XML"===o.get("dataType").toUpperCase()?function(){var t,e={};void 0!==n.xmlElementName&&(e.xmlElementName=n.xmlElementName);void 0!==n.listLocation?t=n.listLocation:void 0!==o.get("listLocation")&&(t=o.get("listLocation"));void 0!==t?"string"==typeof t?e.data=$(i).find(t):"function"==typeof t&&(e.data=t(i)):e.data=i;return e}():function(){var t={};void 0!==n.listLocation?"string"==typeof n.listLocation?t.data=i[n.listLocation]:"function"==typeof n.listLocation&&(t.data=n.listLocation(i)):t.data=i;return t}(),void 0!==n.header&&(t.header=n.header),void 0!==n.maxNumberOfElements&&(t.maxNumberOfElements=n.maxNumberOfElements),void 0!==o.get("list").maxNumberOfElements&&(t.maxListSize=o.get("list").maxNumberOfElements),void 0!==n.getValue)if("string"==typeof n.getValue){var e=n.getValue;t.getValue=function(t){return t[e]}}else"function"==typeof n.getValue&&(t.getValue=n.getValue);else t.getValue=o.get("getValue");return t}function n(t){var e=[];return void 0===t.xmlElementName&&(t.xmlElementName=o.get("xmlElementName")),$(t.data).find(t.xmlElementName).each(function(){e.push(this)}),e}this.init=function(t){var e=[],n={};return n.data=o.get("listLocation")(t),n.getValue=o.get("getValue"),n.maxListSize=o.get("list").maxNumberOfElements,e.push(n),e},this.updateCategories=function(t,e){if(o.get("categoriesAssigned")){t=[];for(var n=0;n<o.get("categories").length;n+=1){var i=s(o.get("categories")[n],e);t.push(i)}}return t},this.convertXml=function(t){if("XML"===o.get("dataType").toUpperCase())for(var e=0;e<t.length;e+=1)t[e].data=n(t[e]);return t},this.processData=function(t,e){for(var n=0,i=t.length;n<i;n+=1)t[n].data=r(o,t[n],e);return t},this.checkIfDataExists=function(t){for(var e=0,n=t.length;e<n;e+=1)if(void 0!==t[e].data&&t[e].data instanceof Array&&0<t[e].data.length)return!0;return!1}},t}(EasyAutocomplete||{}),EasyAutocomplete=function(i){return i.proccess=function(r,e,t){i.proccess.match=s;var n=e.data;return n=function(t){r.get("list").sort.enabled&&t.sort(r.get("list").sort.method);return t}(n=function(t){void 0!==e.maxNumberOfElements&&t.length>e.maxNumberOfElements&&(t=t.slice(0,e.maxNumberOfElements));return t}(n=function(t,e){var n=[];if(r.get("list").match.enabled)for(var i=0,o=t.length;i<o;i+=1)s(r.get("getValue")(t[i]),e)&&n.push(t[i]);else n=t;return n}(n,t)));function s(t,e){return r.get("list").match.caseSensitive||("string"==typeof t&&(t=t.toLowerCase()),e=e.toLowerCase()),!!r.get("list").match.method(t,e)}},i}(EasyAutocomplete||{}),EasyAutocomplete=function(t){return t.Template=function(t){var e,n,i,o,r,s,a,l={basic:{type:"basic",method:function(t){return t},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(t){return t+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(t){return t},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(t){return t},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(t){return t},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}};this.getTemplateClass=(i=function(){return""},(e=t)&&e.type&&e.type&&l[e.type]?(n=l[e.type].cssClass,function(){return n}):i),this.build=(o=t)&&o.type&&o.type&&l[o.type]?(a=(r=o).fields,"description"===r.type?(s=l.description.method,"string"==typeof a.description?s=function(t,e){return t+" - <span>"+e[a.description]+"</span>"}:"function"==typeof a.description&&(s=function(t,e){return t+" - <span>"+a.description(e)+"</span>"}),s):"iconRight"===r.type?("string"==typeof a.iconSrc?s=function(t,e){return t+"<img class='eac-icon' src='"+e[a.iconSrc]+"' />"}:"function"==typeof a.iconSrc&&(s=function(t,e){return t+"<img class='eac-icon' src='"+a.iconSrc(e)+"' />"}),s):"iconLeft"===r.type?("string"==typeof a.iconSrc?s=function(t,e){return"<img class='eac-icon' src='"+e[a.iconSrc]+"' />"+t}:"function"==typeof a.iconSrc&&(s=function(t,e){return"<img class='eac-icon' src='"+a.iconSrc(e)+"' />"+t}),s):"links"===r.type?("string"==typeof a.link?s=function(t,e){return"<a href='"+e[a.link]+"' >"+t+"</a>"}:"function"==typeof a.link&&(s=function(t,e){return"<a href='"+a.link(e)+"' >"+t+"</a>"}),s):"custom"===r.type?r.method:l.basic.method):l.basic.method},t}(EasyAutocomplete||{}),EasyAutocomplete=function(b){return b.main=function(t,e){var i,o=new b.Constans,f=new b.Configuration(e),s=new b.Logger,p=new b.Template(e.template),a=new b.ListBuilderService(f,b.proccess),n=f.equals,g=t,r="",m=[],v=-1;function l(){var h;function d(t,e){return f.get("highlightPhrase")&&""!==e?(n=t,i=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),(n+"").replace(new RegExp("("+i+")","gi"),"<b>$1</b>")):t;var n,i}g.parent().hasClass(o.getValue("WRAPPER_CSS_CLASS"))&&(g.next("."+o.getValue("CONTAINER_CLASS")).remove(),g.unwrap()),function(){var t=$("<div>"),e=o.getValue("WRAPPER_CSS_CLASS");f.get("theme")&&""!==f.get("theme")&&(e+=" eac-"+f.get("theme"));f.get("cssClasses")&&""!==f.get("cssClasses")&&(e+=" "+f.get("cssClasses"));""!==p.getTemplateClass()&&(e+=" "+p.getTemplateClass());t.addClass(e),g.wrap(t),!0===f.get("adjustWidth")&&(n=g.outerWidth(),g.parent().css("width",n));var n}(),(h=$("<div>").addClass(o.getValue("CONTAINER_CLASS"))).attr("id",c()).prepend($("<ul>")),h.on("show.eac",function(){switch(f.get("list").showAnimation.type){case"slide":var t=f.get("list").showAnimation.time,e=f.get("list").showAnimation.callback;h.find("ul").slideDown(t,e);break;case"fade":var t=f.get("list").showAnimation.time,e=f.get("list").showAnimation.callback;h.find("ul").fadeIn(t);break;default:h.find("ul").show()}f.get("list").onShowListEvent()}).on("hide.eac",function(){switch(f.get("list").hideAnimation.type){case"slide":var t=f.get("list").hideAnimation.time,e=f.get("list").hideAnimation.callback;h.find("ul").slideUp(t,e);break;case"fade":var t=f.get("list").hideAnimation.time,e=f.get("list").hideAnimation.callback;h.find("ul").fadeOut(t,e);break;default:h.find("ul").hide()}f.get("list").onHideListEvent()}).on("selectElement.eac",function(){h.find("ul li").removeClass("selected"),h.find("ul li").eq(v).addClass("selected"),f.get("list").onSelectItemEvent()}).on("loadElements.eac",function(t,i,o){var r="",e=h.find("ul");e.empty().detach(),m=[];for(var s=0,a=0,n=i.length;a<n;a+=1){var l=i[a].data;if(0!==l.length){void 0!==i[a].header&&0<i[a].header.length&&e.append("<div class='eac-category' >"+i[a].header+"</div>");for(var c=0,u=l.length;c<u&&s<i[a].maxListSize;c+=1)r=$("<li><div class='eac-item'></div></li>"),function(){var t=c,e=s,n=i[a].getValue(l[t]);r.find(" > div").on("click",function(){g.val(n).trigger("change"),y(v=e),f.get("list").onClickEvent(),f.get("list").onChooseEvent()}).mouseover(function(){y(v=e),f.get("list").onMouseOverEvent()}).mouseout(function(){f.get("list").onMouseOutEvent()}).html(p.build(d(n,o),l[t]))}(),e.append(r),m.push(l[c]),s+=1}}h.append(e),f.get("list").onLoadEvent()}),g.after(h),r=$("#"+c()),f.get("placeholder")&&g.attr("placeholder",f.get("placeholder"))}function c(){var t=g.attr("id");return t=o.getValue("CONTAINER_ID")+t}function u(){r.trigger("show.eac")}function h(){r.trigger("hide.eac")}function y(t){r.trigger("selectElement.eac",t)}function d(t,e){r.trigger("loadElements.eac",[t,e])}b.consts=o,this.getConstants=function(){return o},this.getConfiguration=function(){return f},this.getContainer=function(){return r},this.getSelectedItemIndex=function(){return v},this.getItems=function(){return m},this.getItemData=function(t){return m.length<t||void 0===m[t]?-1:m[t]},this.getSelectedItemData=function(){return this.getItemData(v)},this.build=function(){l()},this.init=function(){!function(){if(0===g.length)return s.error("Input field doesn't exist.");if(!f.checkDataUrlProperties())return s.error("One of options variables 'data' or 'url' must be defined.");if(!f.checkRequiredProperties())return s.error("Will not work without mentioned properties.");l(),function(){function t(){g.off("keyup").keyup(function(t){switch(t.keyCode){case 27:h(),g.trigger("blur");break;case 38:t.preventDefault(),0<m.length&&0<v&&(v-=1,g.val(f.get("getValue")(m[v])),y(v));break;case 40:t.preventDefault(),0<m.length&&v<m.length-1&&(v+=1,g.val(f.get("getValue")(m[v])),y(v));break;default:if(40<t.keyCode||8===t.keyCode){var e=g.val();!0!==f.get("list").hideOnEmptyPhrase||8!==t.keyCode||""!==e?0<f.get("requestDelay")?(void 0!==i&&clearTimeout(i),i=setTimeout(function(){n(e)},f.get("requestDelay"))):n(e):h()}}function n(n){if(!(n.length<f.get("minCharNumber"))){if("list-required"!==f.get("data")){var t=f.get("data"),e=a.init(t);e=a.updateCategories(e,t),d(e=a.processData(e,n),n),0<g.parent().find("li").length?u():h()}var i=o();void 0!==i.url&&""!==i.url||(i.url=f.get("url")),void 0!==i.dataType&&""!==i.dataType||(i.dataType=f.get("dataType")),void 0!==i.url&&"list-required"!==i.url&&(i.url=i.url(n),i.data=f.get("preparePostData")(i.data,n),$.ajax(i).done(function(t){var e=a.init(t);e=a.updateCategories(e,t),e=a.convertXml(e),r(n,t)&&d(e=a.processData(e,n),n),a.checkIfDataExists(e)&&0<g.parent().find("li").length?u():h(),f.get("ajaxCallback")()}).fail(function(){s.warning("Fail to load response data")}).always(function(){}))}function o(){var t={},e=f.get("ajaxSettings")||{};for(var n in e)t[n]=e[n];return t}function r(t,e){return!1===f.get("matchResponseProperty")||("string"==typeof f.get("matchResponseProperty")?e[f.get("matchResponseProperty")]===t:"function"!=typeof f.get("matchResponseProperty")||f.get("matchResponseProperty")(e)===t)}}})}!function(){n("autocompleteOff",!0)&&g.attr("autocomplete","off");g.focusout(function(){var t,e=g.val();f.get("list").match.caseSensitive||(e=e.toLowerCase());for(var n=0,i=m.length;n<i;n+=1)if(t=f.get("getValue")(m[n]),f.get("list").match.caseSensitive||(t=t.toLowerCase()),t===e)return void y(v=n)}),t(),g.on("keydown",function(t){var e=(t=t||window.event).keyCode;if(38===e)return!(suppressKeypress=!0)}).keydown(function(t){13===t.keyCode&&-1<v&&(g.val(f.get("getValue")(m[v])),f.get("list").onKeyEnterEvent(),f.get("list").onChooseEvent(),v=-1,h(),t.preventDefault())}),g.off("keypress"),g.focus(function(){""!==g.val()&&0<m.length&&(v=-1,u())}),g.blur(function(){setTimeout(function(){v=-1,h()},250)})}()}()}()}},b.eacHandles=[],b.getHandle=function(t){return b.eacHandles[t]},b.inputHasId=function(t){return void 0!==$(t).attr("id")&&0<$(t).attr("id").length},b.assignRandomId=function(t){for(var e="";e="eac-"+Math.floor(1e4*Math.random()),0!==$("#"+e).length;);elementId=b.consts.getValue("CONTAINER_ID")+e,$(t).attr("id",e)},b.setHandle=function(t,e){b.eacHandles[e]=t},b}(EasyAutocomplete||{});!function(i){i.fn.easyAutocomplete=function(n){return this.each(function(){var t=i(this),e=new EasyAutocomplete.main(t,n);EasyAutocomplete.inputHasId(t)||EasyAutocomplete.assignRandomId(t),e.init(),EasyAutocomplete.setHandle(e,t.attr("id"))})},i.fn.getSelectedItemIndex=function(){var t=i(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemIndex():-1},i.fn.getItems=function(){var t=i(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getItems():-1},i.fn.getItemData=function(t){var e=i(this).attr("id");return void 0!==e&&-1<t?EasyAutocomplete.getHandle(e).getItemData(t):-1},i.fn.getSelectedItemData=function(){var t=i(this).attr("id");return void 0!==t?EasyAutocomplete.getHandle(t).getSelectedItemData():-1}}(jQuery);var $jscomp={scope:{},findInternal:function(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(e.call(n,r,o,t))return{i:o,v:r}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var o=t[i];o in n||(n[o]={}),n=n[o]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6-impl","es3"),function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("jquery")):t(e||n)}(function(s){var a=function(c,b,_){var w={invalid:[],getCaret:function(){try{var t,e=0,n=c.get(0),i=document.selection,o=n.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=i.createRange()).moveStart("character",-w.val().length),e=t.text.length):(o||"0"===o)&&(e=o),e}catch(t){}},setCaret:function(t){try{if(c.is(":focus")){var e,n=c.get(0);n.setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())}}catch(t){}},events:function(){c.on("keydown.mask",function(t){c.data("mask-keycode",t.keyCode||t.which),c.data("mask-previus-value",c.val()),c.data("mask-previus-caret-pos",w.getCaret()),w.maskDigitPosMapOld=w.maskDigitPosMap}).on(s.jMaskGlobals.useInput?"input.mask":"keyup.mask",w.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){c.keydown().keyup()},100)}).on("change.mask",function(){c.data("changed",!0)}).on("blur.mask",function(){r===w.val()||c.data("changed")||c.trigger("change"),c.data("changed",!1)}).on("blur.mask",function(){r=w.val()}).on("focus.mask",function(t){!0===_.selectOnFocus&&s(t.target).select()}).on("focusout.mask",function(){_.clearIfNotMatch&&!i.test(w.val())&&w.val("")})},getRegexMask:function(){for(var t,e,n,i,o=[],r=0;r<b.length;r++)(t=x.translation[b.charAt(r)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(t=t.recursive)?(o.push(b.charAt(r)),i={digit:b.charAt(r),pattern:e}):o.push(n||t?e+"?":e)):o.push(b.charAt(r).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=o.join(""),i&&(o=o.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(o)},destroyEvents:function(){c.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var e=c.is("input")?"val":"text";return e=0<arguments.length?(c[e]()!==t&&c[e](t),c):c[e]()},calculateCaretPosition:function(){var t=c.data("mask-previus-value")||"",e=w.getMasked(),n=w.getCaret();if(t!==e){var i,o=c.data("mask-previus-caret-pos")||0,r=(e=e.length,t.length),s=t=0,a=0,l=0;for(i=n;i<e&&w.maskDigitPosMap[i];i++)s++;for(i=n-1;0<=i&&w.maskDigitPosMap[i];i--)t++;for(i=n-1;0<=i;i--)w.maskDigitPosMap[i]&&a++;for(i=o-1;0<=i;i--)w.maskDigitPosMapOld[i]&&l++;r<n?n=10*e:n<=o&&o!==r?w.maskDigitPosMapOld[n]||(n=(o=n)-(l-a)-t,w.maskDigitPosMap[n]&&(n=o)):o<n&&(n=n+(a-l)+s)}return n},behaviour:function(t){t=t||window.event,w.invalid=[];var e=c.data("mask-keycode");if(-1===s.inArray(e,x.byPassKeys)){e=w.getMasked();var n=w.getCaret();return setTimeout(function(){w.setCaret(w.calculateCaretPosition())},s.jMaskGlobals.keyStrokeCompensation),w.val(e),w.setCaret(n),w.callbacks(t)}},getMasked:function(t,e){var n,i,o,r=[],s=void 0===e?w.val():e+"",a=0,l=b.length,c=0,u=s.length,h=1,d="push",f=-1,p=0,g=[];for(i=_.reverse?(d="unshift",h=-1,n=0,a=l-1,c=u-1,function(){return-1<a&&-1<c}):(n=l-1,function(){return a<l&&c<u});i();){var m=b.charAt(a),v=s.charAt(c),y=x.translation[m];y?(v.match(y.pattern)?(r[d](v),y.recursive&&(-1===f?f=a:a===n&&a!==f&&(a=f-h),n===f&&(a-=h)),a+=h):v===o?(p--,o=void 0):y.optional?(a+=h,c-=h):y.fallback?(r[d](y.fallback),a+=h,c-=h):w.invalid.push({p:c,v:v,e:y.pattern}),c+=h):(t||r[d](m),v===m?(g.push(c),c+=h):(o=m,g.push(c+p),p++),a+=h)}return s=b.charAt(n),l!==u+1||x.translation[s]||r.push(s),r=r.join(""),w.mapMaskdigitPositions(r,g,u),r},mapMaskdigitPositions:function(t,e,n){for(t=_.reverse?t.length-n:0,w.maskDigitPosMap={},n=0;n<e.length;n++)w.maskDigitPosMap[e[n]+t]=1},callbacks:function(t){var e=w.val(),n=e!==r,i=[e,t,c,_],o=function(t,e,n){"function"==typeof _[t]&&e&&_[t].apply(this,n)};o("onChange",!0===n,i),o("onKeyPress",!0===n,i),o("onComplete",e.length===b.length,i),o("onInvalid",0<w.invalid.length,[e,t,c,w.invalid,_])}};c=s(c);var i,x=this,r=w.val();b="function"==typeof b?b(w.val(),void 0,c,_):b,x.mask=b,x.options=_,x.remove=function(){var t=w.getCaret();return x.options.placeholder&&c.removeAttr("placeholder"),c.data("mask-maxlength")&&c.removeAttr("maxlength"),w.destroyEvents(),w.val(x.getCleanVal()),w.setCaret(t),c},x.getCleanVal=function(){return w.getMasked(!0)},x.getMaskedVal=function(t){return w.getMasked(!1,t)},x.init=function(t){if(t=t||!1,_=_||{},x.clearIfNotMatch=s.jMaskGlobals.clearIfNotMatch,x.byPassKeys=s.jMaskGlobals.byPassKeys,x.translation=s.extend({},s.jMaskGlobals.translation,_.translation),x=s.extend(!0,{},x,_),i=w.getRegexMask(),t)w.events(),w.val(w.getMasked());else{_.placeholder&&c.attr("placeholder",_.placeholder),c.data("mask")&&c.attr("autocomplete","off");for(var e=!(t=0);t<b.length;t++){var n=x.translation[b.charAt(t)];if(n&&n.recursive){e=!1;break}}e&&c.attr("maxlength",b.length).data("mask-maxlength",!0),w.destroyEvents(),w.events(),t=w.getCaret(),w.val(w.getMasked()),w.setCaret(t)}},x.init(!c.is("input"))};s.maskWatchers={};var e=function(){var t=s(this),e={},n=t.attr("data-mask");if(t.attr("data-mask-reverse")&&(e.reverse=!0),t.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===t.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),l(t,n,e))return t.data("mask",new a(this,n,e))},l=function(t,e,n){n=n||{};var i=s(t).data("mask"),o=JSON.stringify;t=s(t).val()||s(t).text();try{return"function"==typeof e&&(e=e(t)),"object"!==_typeof(i)||o(i.options)!==o(n)||i.mask!==e}catch(t){}},t=function(t){var e,n=document.createElement("div");return(e=(t="on"+t)in n)||(n.setAttribute(t,"return;"),e="function"==typeof n[t]),e};s.fn.mask=function(t,e){e=e||{};var n=this.selector,i=(o=s.jMaskGlobals).watchInterval,o=e.watchInputs||o.watchInputs,r=function(){if(l(this,t,e))return s(this).data("mask",new a(this,t,e))};return s(this).each(r),n&&""!==n&&o&&(clearInterval(s.maskWatchers[n]),s.maskWatchers[n]=setInterval(function(){s(document).find(n).each(r)},i)),this},s.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},s.fn.unmask=function(){return clearInterval(s.maskWatchers[this.selector]),delete s.maskWatchers[this.selector],this.each(function(){var t=s(this).data("mask");t&&t.remove().removeData("mask")})},s.fn.cleanVal=function(){return this.data("mask").getCleanVal()},s.applyDataMask=function(t){((t=t||s.jMaskGlobals.maskElements)instanceof s?t:s(t)).filter(s.jMaskGlobals.dataMaskAttr).each(e)},t={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&t("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},s.jMaskGlobals=s.jMaskGlobals||{},(t=s.jMaskGlobals=s.extend(!0,{},t,s.jMaskGlobals)).dataMask&&s.applyDataMask(),setInterval(function(){s.jMaskGlobals.watchDataMask&&s.applyDataMask()},t.watchInterval)},window.jQuery,window.Zepto),function(ot){ot.Jcrop=function(t,e){function g(t){return Math.round(t)+"px"}function m(t){return C.baseClass+"-"+t}function c(t){var e=ot(t).offset();return[e.left,e.top]}function n(t){return[t.pageX-x[0],t.pageY-x[1]]}function i(t){"object"!=_typeof(t)&&(t={}),C=ot.extend(C,t),ot.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof C[e]&&(C[e]=function(){})})}function o(t,e,n){if(x=c(T),et.setCursor("move"===t?t:t+"-resize"),"move"===t)return et.activateHandlers((i=e,nt.watchKeys(),function(t){Z.moveOffset([t[0]-i[0],t[1]-i[1]]),i=t,tt.update()}),h,n);var i,o,r,s=Z.getFixed(),a=u(t),l=Z.getCorner(u(a));Z.setPressed(Z.getCorner(a)),Z.setCurrent(l),et.activateHandlers((o=t,r=s,function(t){if(C.aspectRatio)switch(o){case"e":case"w":t[1]=r.y+1;break;case"n":t[0]=r.x+1;break;case"s":t[0]=r.x+1}else switch(o){case"e":case"w":t[1]=r.y2;break;case"n":t[0]=r.x2;break;case"s":t[0]=r.x2}Z.setCurrent(t),tt.update()}),h,n)}function u(t){switch(t){case"n":return"sw";case"s":case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function v(e){return function(t){return C.disabled||("move"!==e||C.allowMove)&&(x=c(T),q=!0,o(e,n(t)),t.stopPropagation(),t.preventDefault()),!1}}function a(t,e,n){var i=t.width(),o=t.height();e<i&&0<e&&(o=(i=e)/t.width()*t.height()),n<o&&0<n&&(i=(o=n)/t.height()*t.width()),H=t.width()/i,U=t.height()/o,t.width(i).height(o)}function y(t){return{x:t.x*H,y:t.y*U,x2:t.x2*H,y2:t.y2*U,w:t.w*H,h:t.h*U}}function h(t){var e=Z.getFixed();e.w>C.minSelect[0]&&e.h>C.minSelect[1]?(tt.enableHandles(),tt.done()):tt.release(),et.setCursor(C.allowSelect?"crosshair":"default")}function r(t){if(C.disabled)return!1;if(!C.allowSelect)return!1;q=!0,x=c(T),tt.disableHandles(),et.setCursor("crosshair");var e=n(t);return Z.setPressed(e),tt.update(),et.activateHandlers(s,h,"touch"===t.type.substring(0,5)),nt.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}function s(t){Z.setCurrent(t),tt.update()}function b(){var t=ot("<div></div>").addClass(m("tracker"));return $&&t.css({opacity:0,backgroundColor:"white"}),t}function l(t){_([t[0]/H,t[1]/U,t[2]/H,t[3]/U]),C.onSelect.call(it,y(Z.getFixed())),tt.enableHandles()}function _(t){Z.setPressed([t[0],t[1]]),Z.setCurrent([t[2],t[3]]),tt.update()}function d(){C.disabled=!0,tt.disableHandles(),tt.setCursor("default"),et.setCursor("default")}function f(){C.disabled=!1,w()}function p(t,e,n){var i=e||C.bgColor;C.bgFade&&ot.fx.step.hasOwnProperty("backgroundColor")&&C.fadeTime&&!n?t.animate({backgroundColor:i},{queue:!1,duration:C.fadeTime}):t.css("backgroundColor",i)}function w(t){C.allowResize?t?tt.enableOnly():tt.enableHandles():tt.disableHandles(),et.setCursor(C.allowSelect?"crosshair":"default"),tt.setCursor(C.allowMove?"move":"default"),C.hasOwnProperty("trueSize")&&(H=C.trueSize[0]/P,U=C.trueSize[1]/j),C.hasOwnProperty("setSelect")&&(l(C.setSelect),tt.done(),delete C.setSelect),J.refresh(),C.bgColor!=Q&&(p(C.shade?J.getShades():I,C.shade&&C.shadeColor||C.bgColor),Q=C.bgColor),K!=C.bgOpacity&&(K=C.bgOpacity,C.shade?J.refresh():tt.setBgOpacity(K)),L=C.maxSize[0]||0,R=C.maxSize[1]||0,W=C.minSize[0]||0,B=C.minSize[1]||0,C.hasOwnProperty("outerImage")&&(T.attr("src",C.outerImage),delete C.outerImage),tt.refresh()}var x,C=ot.extend({},ot.Jcrop.defaults),k=navigator.userAgent.toLowerCase(),$=/msie/.test(k),S=/msie [1-6]\./.test(k);"object"!=_typeof(t)&&(t=ot(t)[0]),"object"!=_typeof(e)&&(e={}),i(e);var E={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},O=ot(t),M=!0;if("IMG"==t.tagName){if(0!=O[0].width&&0!=O[0].height)O.width(O[0].width),O.height(O[0].height);else{var A=new Image;A.src=O[0].src,O.width(A.width),O.height(A.height)}var T=O.clone().removeAttr("id").css(E).show();T.width(O.width()),T.height(O.height()),O.after(T).hide()}else T=O.css(E).show(),M=!1,null===C.shade&&(C.shade=!0);a(T,C.boxWidth,C.boxHeight);var P=T.width(),j=T.height(),I=ot("<div />").width(P).height(j).addClass(m("holder")).css({position:"relative",backgroundColor:C.bgColor}).insertAfter(O).append(T);C.addClass&&I.addClass(C.addClass);var D=ot("<div />"),N=ot("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),F=ot("<div />").width("100%").height("100%").css("zIndex",320),z=ot("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=Z.getFixed();C.onDblClick.call(it,t)}).insertBefore(T).append(N,F);M&&(D=ot("<img />").attr("src",T.attr("src")).css(E).width(P).height(j),N.append(D)),S&&z.css({overflowY:"hidden"});var L,R,W,B,H,U,q,V,Y=C.boundary,G=b().width(P+2*Y).height(j+2*Y).css({position:"absolute",top:g(-Y),left:g(-Y),zIndex:290}).mousedown(r),Q=C.bgColor,K=C.bgOpacity;x=c(T);var X=function(){function t(){var t,e={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(t=0;t<n.length;t++){var o=n[t],r=(o="on"+o)in i;r||(i.setAttribute(o,"return;"),r="function"==typeof i[o]),e[n[t]]=r}return e.touchstart&&e.touchend&&e.touchmove}catch(t){return!1}}return{createDragger:function(e){return function(t){return C.disabled||("move"!==e||C.allowMove)&&(x=c(T),q=!0,o(e,n(X.cfilter(t)),!0),t.stopPropagation(),t.preventDefault()),!1}},newSelection:function(t){return r(X.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:!0===C.touchSupport||!1===C.touchSupport?C.touchSupport:t()}}(),Z=function(){function n(){if(!C.aspectRatio)return e=b-v,n=_-y,L&&Math.abs(e)>L&&(b=0<e?v+L:v-L),R&&Math.abs(n)>R&&(_=0<n?y+R:y-R),B/U&&Math.abs(n)<B/U&&(_=0<n?y+B/U:y-B/U),W/H&&Math.abs(e)<W/H&&(b=0<e?v+W/H:v-W/H),v<0&&(b-=v,v-=v),y<0&&(_-=y,y-=y),b<0&&(v-=b,b-=b),_<0&&(y-=_,_-=_),P<b&&(v-=t=b-P,b-=t),j<_&&(y-=t=_-j,_-=t),P<v&&(_-=t=v-j,y-=t),j<y&&(_-=t=y-j,y-=t),m(g(v,y,b,_));var t,e,n,i,o,r,s,a=C.aspectRatio,l=C.minSize[0]/H,c=C.maxSize[0]/H,u=C.maxSize[1]/U,h=b-v,d=_-y,f=Math.abs(h),p=Math.abs(d);return 0===c&&(c=10*P),0===u&&(u=10*j),f/p<a?(o=_,r=p*a,(i=h<0?v-r:r+v)<0?(i=0,s=Math.abs((i-v)/a),o=d<0?y-s:s+y):P<i&&(i=P,s=Math.abs((i-v)/a),o=d<0?y-s:s+y)):(i=b,s=f/a,(o=d<0?y-s:y+s)<0?(o=0,r=Math.abs((o-y)*a),i=h<0?v-r:r+v):j<o&&(o=j,r=Math.abs(o-y)*a,i=h<0?v-r:r+v)),v<i?(i-v<l?i=v+l:c<i-v&&(i=v+c),o=y<o?y+(i-v)/a:y-(i-v)/a):i<v&&(v-i<l?i=v-l:c<v-i&&(i=v-c),o=y<o?y+(v-i)/a:y-(v-i)/a),i<0?(v-=i,i=0):P<i&&(v-=i-P,i=P),o<0?(y-=o,o=0):j<o&&(y-=o-j,o=j),m(g(v,y,i,o))}function e(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>P&&(t[0]=P),t[1]>j&&(t[1]=j),[Math.round(t[0]),Math.round(t[1])]}function g(t,e,n,i){var o=t,r=n,s=e,a=i;return n<t&&(o=n,r=t),i<e&&(s=i,a=e),[o,s,r,a]}function m(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var i,o,v=0,y=0,b=0,_=0;return{flipCoords:g,setPressed:function(t){t=e(t),b=v=t[0],_=y=t[1]},setCurrent:function(t){t=e(t),i=t[0]-b,o=t[1]-_,b=t[0],_=t[1]},getOffset:function(){return[i,o]},moveOffset:function(t){var e=t[0],n=t[1];v+e<0&&(e-=e+v),y+n<0&&(n-=n+y),j<_+n&&(n+=j-(_+n)),P<b+e&&(e+=P-(b+e)),v+=e,b+=e,y+=n,_+=n},getCorner:function(t){var e=n();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}},getFixed:n}}(),J=function(){function t(){return e(Z.getFixed())}function e(t){u.top.css({left:g(t.x),width:g(t.w),height:g(t.y)}),u.bottom.css({top:g(t.y2),left:g(t.x),width:g(t.w),height:g(j-t.y2)}),u.right.css({left:g(t.x2),width:g(P-t.x2)}),u.left.css({width:g(t.x)})}function n(){return ot("<div />").css({position:"absolute",backgroundColor:C.shadeColor||C.bgColor}).appendTo(c)}function i(){l||(l=!0,c.insertBefore(T),t(),tt.setBgOpacity(1,0,1),D.hide(),o(C.shadeColor||C.bgColor,1),tt.isAwake()?s(C.bgOpacity,1):s(1,1))}function o(t,e){p(a(),t,e)}function r(){l&&(c.remove(),D.show(),l=!1,tt.isAwake()?tt.setBgOpacity(C.bgOpacity,1,1):(tt.setBgOpacity(1,1,1),tt.disableHandles()),p(I,0,1))}function s(t,e){l&&(C.bgFade&&!e?c.animate({opacity:1-t},{queue:!1,duration:C.fadeTime}):c.css({opacity:1-t}))}function a(){return c.children()}var l=!1,c=ot("<div />").css({position:"absolute",zIndex:240,opacity:0}),u={top:n(),left:n().height(j),right:n().height(j),bottom:n()};return{update:t,updateRaw:e,getShades:a,setBgColor:o,enable:i,disable:r,resize:function(t,e){u.left.css({height:g(e)}),u.right.css({height:g(e)})},refresh:function(){C.shade?i():r(),tt.isAwake()&&s(C.bgOpacity)},opacity:s}}(),tt=function(){function r(t,e){var n=ot("<div />").mousedown(v(t)).css({cursor:t+"-resize",position:"absolute",zIndex:e}).addClass("ord-"+t);return X.support&&n.bind("touchstart.jcrop",X.createDragger(t)),F.append(n),n}function t(){var t=Z.getFixed();Z.setPressed([t.x,t.y]),Z.setCurrent([t.x2,t.y2]),e()}function e(t){if(l)return n(t)}function n(t){var e,n,i,o,r=Z.getFixed();i=r.w,o=r.h,z.width(Math.round(i)).height(Math.round(o)),e=r.x,n=r.y,C.shade||D.css({top:g(-n),left:g(-e)}),z.css({top:g(n),left:g(e)}),C.shade&&J.updateRaw(r),l||(z.show(),C.shade?J.opacity(K):s(K,!0),l=!0),t?C.onSelect.call(it,y(r)):C.onChange.call(it,y(r))}function s(t,e,n){(l||e)&&(C.bgFade&&!n?T.animate({opacity:t},{queue:!1,duration:C.fadeTime}):T.css("opacity",t))}function i(){if(f=!0,C.allowResize)return F.show(),!0}function o(){f=!1,F.hide()}function a(t){t?(V=!0,o()):(V=!1,i())}var l,c=370,u={},h={},d={},f=!1;C.dragEdges&&ot.isArray(C.createDragbars)&&function(t){var e;for(e=0;e<t.length;e++)d[t[e]]=r(t[e],c++).addClass("jcrop-dragbar")}(C.createDragbars),ot.isArray(C.createHandles)&&function(t){var e,n,i,o;for(e=0;e<t.length;e++)h[t[e]]=(n=t[e],o=void 0,i=C.handleSize,o=r(n,c++).css({opacity:C.handleOpacity}).addClass(m("handle")),i&&o.width(i).height(i),o)}(C.createHandles),C.drawBorders&&ot.isArray(C.createBorders)&&function(t){var e,n,i,o;for(n=0;n<t.length;n++){switch(t[n]){case"n":e="hline";break;case"s":e="hline bottom";break;case"e":e="vline right";break;case"w":e="vline"}u[t[n]]=(i=e,o=ot("<div />").css({position:"absolute",opacity:C.borderOpacity}).addClass(m(i)),N.append(o),o)}}(C.createBorders),ot(document).bind("touchstart.jcrop-ios",function(t){ot(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var p=b().mousedown(v("move")).css({cursor:"move",position:"absolute",zIndex:360});return X.support&&p.bind("touchstart.jcrop",X.createDragger("move")),N.append(p),o(),{updateVisible:e,update:n,release:function(){o(),z.hide(),C.shade?J.opacity(1):s(1),l=!1,C.onRelease.call(it)},refresh:t,isAwake:function(){return l},setCursor:function(t){p.css("cursor",t)},enableHandles:i,enableOnly:function(){f=!0},showHandles:function(){f&&F.show()},disableHandles:o,animMode:a,setBgOpacity:s,done:function(){a(!1),t()}}}(),et=function(){function o(t){return l(n(t)),!1}function r(t){return t.preventDefault(),t.stopPropagation(),q&&(q=!1,c(n(t)),tt.isAwake()&&C.onSelect.call(it,y(Z.getFixed())),G.css({zIndex:290}),ot(document).unbind(".jcrop"),l=function(){},c=function(){}),!1}function s(t){return l(n(X.cfilter(t))),!1}function a(t){return r(X.cfilter(t))}var l=function(){},c=function(){},u=C.trackDocument;return u||G.mousemove(o).mouseup(r).mouseout(r),T.before(G),{activateHandlers:function(t,e,n){return q=!0,l=t,c=e,i=n,G.css({zIndex:450}),i?ot(document).bind("touchmove.jcrop",s).bind("touchend.jcrop",a):u&&ot(document).bind("mousemove.jcrop",o).bind("mouseup.jcrop",r),!1;var i},setCursor:function(t){G.css("cursor",t)}}}(),nt=function(){function n(t,e,n){C.allowMove&&(Z.moveOffset([e,n]),tt.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}var e=ot('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),t=ot("<div />").css({position:"absolute",overflow:"hidden"}).append(e);return C.keySupport&&(e.keydown(function(t){if(t.ctrlKey||t.metaKey)return!0;var e=!!t.shiftKey?10:1;switch(t.keyCode){case 37:n(t,-e,0);break;case 39:n(t,e,0);break;case 38:n(t,0,-e);break;case 40:n(t,0,e);break;case 27:C.allowSelect&&tt.release();break;case 9:return!0}return!1}).blur(function(t){e.hide()}),S||!C.fixedSupport?(e.css({position:"absolute",left:"-20px"}),t.append(e).insertBefore(T)):e.insertBefore(T)),{watchKeys:function(){C.keySupport&&(e.show(),e.focus())}}}();X.support&&G.bind("touchstart.jcrop",X.newSelection),F.hide(),w(!0);var it={setImage:function(o,r){tt.release(),d();var s=new Image;s.onload=function(){var t=s.width,e=s.height,n=C.boxWidth,i=C.boxHeight;T.width(t).height(e),T.attr("src",o),D.attr("src",o),a(T,n,i),P=T.width(),j=T.height(),D.width(P).height(j),G.width(P+2*Y).height(j+2*Y),I.width(P).height(j),J.resize(P,j),f(),"function"==typeof r&&r.call(it)},s.src=o},animateTo:function(t,e){function n(){window.setTimeout(y,h)}var i=t[0]/H,o=t[1]/U,r=t[2]/H,s=t[3]/U;if(!V){var a=Z.flipCoords(i,o,r,s),l=Z.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,h=C.animationDelay,d=a[0]-c[0],f=a[1]-c[1],p=a[2]-c[2],g=a[3]-c[3],m=0,v=C.swingSpeed;i=u[0],o=u[1],r=u[2],s=u[3],tt.animMode(!0);var y=function(){m+=(100-m)/v,u[0]=Math.round(i+m/100*d),u[1]=Math.round(o+m/100*f),u[2]=Math.round(r+m/100*p),u[3]=Math.round(s+m/100*g),99.8<=m&&(m=100),m<100?(_(u),n()):(tt.done(),tt.animMode(!1),"function"==typeof e&&e.call(it))};n()}},setSelect:l,setOptions:function(t){i(t),w()},tellSelect:function(){return y(Z.getFixed())},tellScaled:function(){return Z.getFixed()},setClass:function(t){I.removeClass().addClass(m("holder")).addClass(t)},disable:d,enable:f,cancel:function(){tt.done(),et.activateHandlers(null,null)},release:tt.release,destroy:function(){I.remove(),O.show(),O.css("visibility","visible"),ot(t).removeData("Jcrop")},focus:nt.watchKeys,getBounds:function(){return[P*H,j*U]},getWidgetSize:function(){return[P,j]},getScaleFactor:function(){return[H,U]},getOptions:function(){return C},ui:{holder:I,selection:z}};return $&&I.bind("selectstart",function(){return!1}),O.data("Jcrop",it),it},ot.fn.Jcrop=function(t,e){var n;return this.each(function(){if(ot(this).data("Jcrop")){if("api"===t)return ot(this).data("Jcrop");ot(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?ot.Jcrop.Loader(this,function(){ot(this).css({display:"block",visibility:"hidden"}),n=ot.Jcrop(this,t),ot.isFunction(e)&&e.call(n)}):(ot(this).css({display:"block",visibility:"hidden"}),n=ot.Jcrop(this,t),ot.isFunction(e)&&e.call(n))}),this},ot.Jcrop.Loader=function(t,e,n){var i=ot(t),o=i[0];i.bind("load.jcloader",function t(){o.complete?(i.unbind(".jcloader"),ot.isFunction(e)&&e.call(o)):window.setTimeout(t,50)}).bind("error.jcloader",function(t){i.unbind(".jcloader"),ot.isFunction(n)&&n.call(o)}),o.complete&&ot.isFunction(e)&&(i.unbind(".jcloader"),e.call(o))},ot.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery);